{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/pages/Schedules/index.js\";\nimport React, { useState, useEffect, useReducer, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\n// import MessageModal from \"../../components/MessageModal\"\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport \"moment/locale/pt-br\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport \"./Schedules.css\"; // Importe o arquivo CSS\n\n// Defina a função getUrlParam antes de usá-la\nfunction getUrlParam(paramName) {\n  const searchParams = new URLSearchParams(window.location.search);\n  return searchParams.get(paramName);\n}\nconst eventTitleStyle = {\n  fontSize: \"14px\",\n  // Defina um tamanho de fonte menor\n  overflow: \"hidden\",\n  // Oculte qualquer conteúdo excedente\n  whiteSpace: \"nowrap\",\n  // Evite a quebra de linha do texto\n  textOverflow: \"ellipsis\" // Exiba \"...\" se o texto for muito longo\n};\nconst localizer = momentLocalizer(moment);\nvar defaultMessages = {\n  date: \"Data\",\n  time: \"Hora\",\n  event: \"Evento\",\n  allDay: \"Dia Todo\",\n  week: \"Semana\",\n  work_week: \"Agendamentos\",\n  day: \"Dia\",\n  month: \"Mês\",\n  previous: \"Anterior\",\n  next: \"Próximo\",\n  yesterday: \"Ontem\",\n  tomorrow: \"Amanhã\",\n  today: \"Hoje\",\n  agenda: \"Agenda\",\n  noEventsInRange: \"Não há agendamentos no período.\",\n  showMore: function showMore(total) {\n    return \"+\" + total + \" mais\";\n  }\n};\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n    schedules.forEach(schedule => {\n      const scheduleIndex = state.findIndex(s => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n    return [...state, ...newSchedules];\n  }\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex(s => s.id === schedule.id);\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n    const scheduleIndex = state.findIndex(s => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  },\n  calendarToolbar: {\n    '& .rbc-toolbar-label': {\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\"\n    },\n    '& .rbc-btn-group button': {\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\n      '&:hover': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000'\n      },\n      '&:active': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000'\n      },\n      '&:focus': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000'\n      },\n      '&.rbc-active': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000'\n      }\n    }\n  }\n}));\nconst Schedules = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  //   const socketManager = useContext(SocketContext);\n  const {\n    user,\n    socket\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n  const {\n    getPlanCompany\n  } = usePlans();\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useSchedules) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`);\n        }, 1000);\n      }\n    }\n    fetchData();\n  }, [user, history, getPlanCompany]);\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const {\n        data\n      } = await api.get(\"/schedules\", {\n        params: {\n          searchParam,\n          pageNumber\n        }\n      });\n      dispatch({\n        type: \"LOAD_SCHEDULES\",\n        payload: data.schedules\n      });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n  useEffect(() => {\n    dispatch({\n      type: \"RESET\"\n    });\n    setPageNumber(1);\n  }, [searchParam]);\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactId, fetchSchedules, handleOpenScheduleModalFromContactId]);\n  useEffect(() => {\n    // handleOpenScheduleModalFromContactId();\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\n\n    const onCompanySchedule = data => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({\n          type: \"UPDATE_SCHEDULES\",\n          payload: data.schedule\n        });\n      }\n      if (data.action === \"delete\") {\n        dispatch({\n          type: \"DELETE_SCHEDULE\",\n          payload: +data.scheduleId\n        });\n      }\n    };\n    socket.on(`company${user.companyId}-schedule`, onCompanySchedule);\n    return () => {\n      socket.off(`company${user.companyId}-schedule`, onCompanySchedule);\n    };\n  }, [socket]);\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n  const handleSearch = event => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n  const handleEditSchedule = schedule => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n  const handleDeleteSchedule = async scheduleId => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n    dispatch({\n      type: \"RESET\"\n    });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n  const loadMore = () => {\n    setPageNumber(prevState => prevState + 1);\n  };\n  const handleScroll = e => {\n    if (!hasMore || loading) return;\n    const {\n      scrollTop,\n      scrollHeight,\n      clientHeight\n    } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: deletingSchedule && `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`,\n    open: confirmModalOpen,\n    onClose: () => setConfirmModalOpen(false),\n    onConfirm: () => handleDeleteSchedule(deletingSchedule.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }\n  }, i18n.t(\"schedules.confirmationModal.deleteMessage\")), scheduleModalOpen && /*#__PURE__*/React.createElement(ScheduleModal, {\n    open: scheduleModalOpen,\n    onClose: handleCloseScheduleModal,\n    reload: fetchSchedules\n    // aria-labelledby=\"form-dialog-title\"\n    ,\n    scheduleId: selectedSchedule ? selectedSchedule.id : null,\n    contactId: contactId,\n    cleanContact: cleanContact,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MainHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 9\n    }\n  }, i18n.t(\"schedules.title\"), \" (\", schedules.length, \")\"), /*#__PURE__*/React.createElement(MainHeaderButtonsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    placeholder: i18n.t(\"contacts.searchPlaceholder\"),\n    type: \"search\",\n    value: searchParam,\n    onChange: handleSearch,\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(SearchIcon, {\n        style: {\n          color: \"gray\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 19\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleOpenScheduleModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 11\n    }\n  }, i18n.t(\"schedules.buttons.add\")))), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaper,\n    variant: \"outlined\",\n    onScroll: handleScroll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Calendar, {\n    messages: defaultMessages,\n    formats: {\n      agendaDateFormat: \"DD/MM ddd\",\n      weekdayFormat: \"dddd\"\n    },\n    localizer: localizer,\n    events: schedules.map(schedule => {\n      var _schedule$contact;\n      return {\n        title: /*#__PURE__*/React.createElement(\"div\", {\n          key: schedule.id,\n          className: \"event-container\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          style: eventTitleStyle,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }\n        }, schedule === null || schedule === void 0 ? void 0 : (_schedule$contact = schedule.contact) === null || _schedule$contact === void 0 ? void 0 : _schedule$contact.name), /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n          onClick: () => handleDeleteSchedule(schedule.id),\n          className: \"delete-icon\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(EditIcon, {\n          onClick: () => {\n            handleEditSchedule(schedule);\n            setScheduleModalOpen(true);\n          },\n          className: \"edit-icon\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }\n        })),\n        start: new Date(schedule.sendAt),\n        end: new Date(schedule.sendAt)\n      };\n    }),\n    startAccessor: \"start\",\n    endAccessor: \"end\",\n    style: {\n      height: 500\n    },\n    className: classes.calendarToolbar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 9\n    }\n  })));\n};\nexport default Schedules;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useCallback","useContext","toast","useHistory","makeStyles","Paper","Button","TextField","InputAdornment","MainContainer","MainHeader","Title","api","i18n","MainHeaderButtonsWrapper","ScheduleModal","ConfirmationModal","toastError","moment","AuthContext","usePlans","Calendar","momentLocalizer","SearchIcon","DeleteOutlineIcon","EditIcon","getUrlParam","paramName","searchParams","URLSearchParams","window","location","search","get","eventTitleStyle","fontSize","overflow","whiteSpace","textOverflow","localizer","defaultMessages","date","time","event","allDay","week","work_week","day","month","previous","next","yesterday","tomorrow","today","agenda","noEventsInRange","showMore","total","reducer","state","action","type","schedules","payload","newSchedules","forEach","schedule","scheduleIndex","findIndex","s","id","push","scheduleId","splice","useStyles","theme","mainPaper","flex","padding","spacing","overflowY","scrollbarStyles","calendarToolbar","color","mode","palette","light","Schedules","classes","history","user","socket","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","confirmModalOpen","setConfirmModalOpen","searchParam","setSearchParam","dispatch","scheduleModalOpen","setScheduleModalOpen","contactId","setContactId","getPlanCompany","fetchData","companyId","planConfigs","undefined","plan","useSchedules","error","setTimeout","fetchSchedules","data","params","err","handleOpenScheduleModalFromContactId","handleOpenScheduleModal","delayDebounceFn","clearTimeout","onCompanySchedule","on","off","cleanContact","handleCloseScheduleModal","handleSearch","target","value","toLowerCase","handleEditSchedule","handleDeleteSchedule","delete","success","t","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","truncate","str","len","length","substring","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","open","onClose","onConfirm","reload","placeholder","onChange","InputProps","startAdornment","position","style","variant","onClick","className","onScroll","messages","formats","agendaDateFormat","weekdayFormat","events","map","_schedule$contact","key","contact","name","start","Date","sendAt","end","startAccessor","endAccessor","height"],"sources":["/workspaces/simao/whaticket/frontend/src/pages/Schedules/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\n// import MessageModal from \"../../components/MessageModal\"\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport \"moment/locale/pt-br\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport \"./Schedules.css\"; // Importe o arquivo CSS\n\n// Defina a função getUrlParam antes de usá-la\nfunction getUrlParam(paramName) {\n  const searchParams = new URLSearchParams(window.location.search);\n  return searchParams.get(paramName);\n}\n\nconst eventTitleStyle = {\n  fontSize: \"14px\", // Defina um tamanho de fonte menor\n  overflow: \"hidden\", // Oculte qualquer conteúdo excedente\n  whiteSpace: \"nowrap\", // Evite a quebra de linha do texto\n  textOverflow: \"ellipsis\", // Exiba \"...\" se o texto for muito longo\n};\n\nconst localizer = momentLocalizer(moment);\nvar defaultMessages = {\n  date: \"Data\",\n  time: \"Hora\",\n  event: \"Evento\",\n  allDay: \"Dia Todo\",\n  week: \"Semana\",\n  work_week: \"Agendamentos\",\n  day: \"Dia\",\n  month: \"Mês\",\n  previous: \"Anterior\",\n  next: \"Próximo\",\n  yesterday: \"Ontem\",\n  tomorrow: \"Amanhã\",\n  today: \"Hoje\",\n  agenda: \"Agenda\",\n  noEventsInRange: \"Não há agendamentos no período.\",\n  showMore: function showMore(total) {\n    return \"+\" + total + \" mais\";\n  }\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n\n    schedules.forEach((schedule) => {\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n\n    return [...state, ...newSchedules];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  calendarToolbar: {\n    '& .rbc-toolbar-label': {\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\n    },\n    '& .rbc-btn-group button': {\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\n      '&:hover': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n      },\n      '&:active': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n      },\n      '&:focus': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n      },\n      '&.rbc-active': {\n        color: theme.palette.mode === 'dark' ? '#fff' : '#000',\n      },\n    },\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useSchedules) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n  }, [user, history, getPlanCompany]);\n\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/schedules\", {\n        params: { searchParam, pageNumber },\n      });\n\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    pageNumber,\n    contactId,\n    fetchSchedules,\n    handleOpenScheduleModalFromContactId,\n  ]);\n\n  useEffect(() => {\n    // handleOpenScheduleModalFromContactId();\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\n\n\n    const onCompanySchedule = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedule });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_SCHEDULE\", payload: +data.scheduleId });\n      }\n    }\n\n    socket.on(`company${user.companyId}-schedule`, onCompanySchedule)\n\n    return () => {\n      socket.off(`company${user.companyId}-schedule`, onCompanySchedule)\n    };\n  }, [socket]);\n\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={() => setConfirmModalOpen(false)}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      {scheduleModalOpen && (\n        <ScheduleModal\n          open={scheduleModalOpen}\n          onClose={handleCloseScheduleModal}\n          reload={fetchSchedules}\n          // aria-labelledby=\"form-dialog-title\"\n          scheduleId={\n            selectedSchedule ? selectedSchedule.id : null\n          }\n          contactId={contactId}\n          cleanContact={cleanContact}\n        />\n      )}\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")} ({schedules.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\" onScroll={handleScroll}>\n        <Calendar\n          messages={defaultMessages}\n          formats={{\n            agendaDateFormat: \"DD/MM ddd\",\n            weekdayFormat: \"dddd\"\n          }}\n          localizer={localizer}\n          events={schedules.map((schedule) => ({\n            title: (\n              <div key={schedule.id} className=\"event-container\">\n                <div style={eventTitleStyle}>{schedule?.contact?.name}</div>\n                <DeleteOutlineIcon\n                  onClick={() => handleDeleteSchedule(schedule.id)}\n                  className=\"delete-icon\"\n                />\n                <EditIcon\n                  onClick={() => {\n                    handleEditSchedule(schedule);\n                    setScheduleModalOpen(true);\n                  }}\n                  className=\"edit-icon\"\n                />\n              </div>\n            ),\n            start: new Date(schedule.sendAt),\n            end: new Date(schedule.sendAt),\n          }))}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          style={{ height: 500 }}\n          className={classes.calendarToolbar}\n        />\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}