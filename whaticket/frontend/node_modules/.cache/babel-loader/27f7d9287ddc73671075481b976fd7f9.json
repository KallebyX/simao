{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/pages/Reports/index.js\";\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport * as XLSX from 'xlsx';\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport { CircularProgress, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, TextField, Tooltip, Typography } from \"@material-ui/core\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport { TagsFilter } from \"../../components/TagsFilter\";\nimport { WhatsappsFilter } from \"../../components/WhatsappsFilter\";\nimport { StatusFilter } from \"../../components/StatusFilter\";\nimport useDashboard from \"../../hooks/useDashboard\";\nimport QueueSelectCustom from \"../../components/QueueSelectCustom\";\nimport moment from \"moment\";\nimport ShowTicketLogModal from \"../../components/ShowTicketLogModal\";\nimport { blue, green } from \"@material-ui/core/colors\";\nimport { Facebook, Forward, History, Instagram, SaveAlt, Visibility, WhatsApp } from \"@material-ui/icons\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport { Field } from \"formik\";\nconst useStyles = makeStyles(theme => ({\n  mainContainer: {\n    background: theme.palette.fancyBackground\n  },\n  formControl: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  mainPaper: {\n    flex: 1,\n    marginTop: 40,\n    borderRadius: 20,\n    border: '0px !important',\n    marginBottom: 40,\n    overflow: 'hidden'\n  },\n  mainPaperTable: {\n    flex: 1,\n    overflow: 'auto',\n    height: '68vh',\n    ...theme.scrollbarStylesSoftBig\n  },\n  mainPaperFilter: {\n    flex: 1,\n    overflow: 'auto',\n    height: '20vh',\n    ...theme.scrollbarStylesSoftBig\n  },\n  mainHeaderBlock: {\n    [theme.breakpoints.down('md')]: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    }\n  },\n  filterItem: {\n    width: 200,\n    [theme.breakpoints.down('md')]: {\n      width: '45%'\n    }\n  }\n}));\nconst Reports = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const {\n    getReport\n  } = useDashboard();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [pageSize, setPageSize] = useState(10); // Defina o tamanho da página\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState([]);\n  const [selectedStatus, setSelectedStatus] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n\n  // const [tagIds, setTagIds] = useState([]);\n  const [queueIds, setQueueIds] = useState([]);\n  const [userIds, setUserIds] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [onlyRated, setOnlyRated] = useState(false);\n  const [totalTickets, setTotalTickets] = useState(0);\n  const [tickets, setTickets] = useState([]);\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const [ticketOpen, setTicketOpen] = useState(null);\n  const [hasMore, setHasMore] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const {\n            data\n          } = await api.get(\"contacts\", {\n            params: {\n              searchParam\n            }\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam]);\n\n  // const handleSelectedTags = (selecteds) => {\n  //   const tags = selecteds.map((t) => t.id);\n  //   setTagIds(tags);\n  // };\n\n  const exportarGridParaExcel = async () => {\n    setLoading(true); // Define o estado de loading como true durante o carregamento\n\n    try {\n      const data = await getReport({\n        searchParam,\n        contactId: selectedContactId,\n        whatsappId: JSON.stringify(selectedWhatsapp),\n        // tags: JSON.stringify(tagIds),\n        users: JSON.stringify(userIds),\n        queueIds: JSON.stringify(queueIds),\n        status: JSON.stringify(selectedStatus),\n        // tags: tagIds,\n        dateFrom,\n        dateTo,\n        page: 1,\n        // Passa o número da página para a API\n        pageSize: 9999999,\n        // Passa o tamanho da página para a API\n        onlyRated: onlyRated ? \"true\" : \"false\"\n      });\n      const ticketsData = data.tickets.map(ticket => {\n        // Convertendo o campo createdAt para um objeto Date\n        const createdAt = new Date(ticket.createdAt);\n        const closedAt = new Date(ticket.closedAt);\n        const dataFechamento = closedAt.toLocaleDateString();\n        const horaFechamento = closedAt.toLocaleTimeString();\n        // Obtendo a data e a hora separadamente\n        const dataCriacao = createdAt.toLocaleDateString(); // Obtém a data no formato 'dd/mm/aaaa'\n        const horaCriacao = createdAt.toLocaleTimeString(); // Obtém a hora no formato 'hh:mm:ss'\n\n        return {\n          id: ticket.id,\n          Conexão: ticket.whatsappName,\n          Contato: ticket.contactName,\n          Usuário: ticket.userName,\n          Fila: ticket.queueName,\n          Status: ticket.status,\n          ÚltimaMensagem: ticket.lastMessage,\n          DataAbertura: dataCriacao,\n          HoraAbertura: horaCriacao,\n          DataFechamento: ticket.closedAt === null ? \"\" : dataFechamento,\n          HoraFechamento: ticket.closedAt === null ? \"\" : horaFechamento,\n          TempoDeAtendimento: ticket.supportTime,\n          nps: ticket.NPS\n        };\n      });\n      console.log(ticketsData);\n      const ws = XLSX.utils.json_to_sheet(ticketsData);\n      const wb = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(wb, ws, 'RelatorioDeAtendimentos');\n      XLSX.writeFile(wb, 'relatorio-de-atendimentos.xlsx');\n      setPageNumber(pageNumber); // Atualiza o estado da página atual\n    } catch (error) {\n      toastError(error);\n    } finally {\n      setLoading(false); // Define o estado de loading como false após o carregamento\n    }\n  };\n  const handleFilter = async pageNumber => {\n    setLoading(true); // Define o estado de loading como true durante o carregamento\n    console.log(onlyRated);\n    try {\n      const data = await getReport({\n        searchParam,\n        contactId: selectedContactId,\n        whatsappId: JSON.stringify(selectedWhatsapp),\n        // tags: JSON.stringify(tagIds),\n        users: JSON.stringify(userIds),\n        queueIds: JSON.stringify(queueIds),\n        status: JSON.stringify(selectedStatus),\n        // tags: tagIds,\n        dateFrom,\n        dateTo,\n        page: pageNumber,\n        // Passa o número da página para a API\n        pageSize: pageSize,\n        // Passa o tamanho da página para a API\n        onlyRated: onlyRated ? \"true\" : \"false\"\n      });\n      setTotalTickets(data.totalTickets.total);\n\n      // Verifica se há mais resultados para definir hasMore\n      setHasMore(data.tickets.length === pageSize);\n      setTickets(data.tickets); // Se for a primeira página, substitua os tickets\n\n      setPageNumber(pageNumber); // Atualiza o estado da página atual\n    } catch (error) {\n      toastError(error);\n    } finally {\n      setLoading(false); // Define o estado de loading como false após o carregamento\n    }\n  };\n  const handleSelectedUsers = selecteds => {\n    const users = selecteds.map(t => t.id);\n    setUserIds(users);\n  };\n  const handleSelectedWhatsapps = selecteds => {\n    const whatsapp = selecteds.map(t => t.id);\n    setSelectedWhatsapp(whatsapp);\n  };\n  const handleSelectedStatus = selecteds => {\n    const statusFilter = selecteds.map(t => t.status);\n    setSelectedStatus(statusFilter);\n  };\n  const IconChannel = channel => {\n    switch (channel) {\n      case \"facebook\":\n        return /*#__PURE__*/React.createElement(Facebook, {\n          style: {\n            color: \"#3b5998\",\n            verticalAlign: \"middle\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 16\n          }\n        });\n      case \"instagram\":\n        return /*#__PURE__*/React.createElement(Instagram, {\n          style: {\n            color: \"#e1306c\",\n            verticalAlign: \"middle\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 16\n          }\n        });\n      case \"whatsapp\":\n        return /*#__PURE__*/React.createElement(WhatsApp, {\n          style: {\n            color: \"#25d366\",\n            verticalAlign: \"middle\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 16\n          }\n        });\n      default:\n        return \"error\";\n    }\n  };\n  const renderOption = option => {\n    if (option.number) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, IconChannel(option.channel), /*#__PURE__*/React.createElement(Typography, {\n        component: \"span\",\n        style: {\n          fontSize: 14,\n          marginLeft: \"10px\",\n          display: \"inline-flex\",\n          alignItems: \"center\",\n          lineHeight: \"2\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 9\n        }\n      }, option.name, \" - \", option.number));\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n  const handleSelectOption = (e, newValue) => {\n    setSelectedContactId(newValue.id);\n    setSearchParam(\"\");\n  };\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n  const filter = createFilterOptions({\n    trim: true\n  });\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`\n      });\n    }\n    return filtered;\n  };\n  const renderContactAutocomplete = () => {\n    return /*#__PURE__*/React.createElement(Grid, {\n      xs: 12,\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Autocomplete, {\n      fullWidth: true,\n      options: options,\n      loading: loading,\n      clearOnBlur: true,\n      autoHighlight: true,\n      freeSolo: true,\n      size: \"small\",\n      clearOnEscape: true,\n      getOptionLabel: renderOptionLabel,\n      renderOption: renderOption,\n      filterOptions: createAddContactOption,\n      onChange: (e, newValue) => handleSelectOption(e, newValue),\n      renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n        label: i18n.t(\"newTicketModal.fieldLabel\"),\n        variant: \"outlined\",\n        autoFocus: true,\n        size: \"small\",\n        onChange: e => setSearchParam(e.target.value)\n        // onKeyPress={(e, newValue) => handleSelectOption(e, newValue)}\n        ,\n        InputProps: {\n          ...params.InputProps,\n          endAdornment: /*#__PURE__*/React.createElement(React.Fragment, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }\n          }, loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n            color: \"inherit\",\n            size: 20,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 23\n            }\n          }) : null, params.InputProps.endAdornment)\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }\n    }));\n  };\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    className: classes.mainContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 5\n    }\n  }, openTicketMessageDialog && /*#__PURE__*/React.createElement(ShowTicketLogModal, {\n    isOpen: openTicketMessageDialog,\n    handleClose: () => setOpenTicketMessageDialog(false),\n    ticketId: ticketOpen.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 7\n    }\n  }, i18n.t(\"reports.title\")), /*#__PURE__*/React.createElement(MainHeader, {\n    className: classes.mainHeaderFilter,\n    style: {\n      display: 'flex'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaperFilter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: '15px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 13\n    }\n  }, renderContactAutocomplete()), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(WhatsappsFilter, {\n    onFiltered: handleSelectedWhatsapps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StatusFilter, {\n    onFiltered: handleSelectedStatus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    xl: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(UsersFilter, {\n    onFiltered: handleSelectedUsers,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 3,\n    xl: 3,\n    style: {\n      marginTop: '-13px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(QueueSelectCustom, {\n    selectedQueueIds: queueIds,\n    onChange: values => setQueueIds(values),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 3,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Data Inicial\",\n    type: \"date\",\n    value: dateFrom,\n    variant: \"outlined\",\n    fullWidth: true,\n    size: \"small\",\n    onChange: e => setDateFrom(e.target.value),\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 3,\n    md: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Data Final\",\n    type: \"date\",\n    value: dateTo,\n    variant: \"outlined\",\n    fullWidth: true,\n    size: \"small\",\n    onChange: e => setDateTo(e.target.value),\n    InputLabelProps: {\n      shrink: true\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 3,\n    md: 3,\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Switch, {\n      color: \"primary\",\n      checked: onlyRated,\n      onChange: () => setOnlyRated(!onlyRated),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 19\n      }\n    }),\n    label: i18n.t(\"reports.buttons.onlyRated\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: exportarGridParaExcel,\n    \"aria-label\": \"Exportar para Excel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SaveAlt, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: () => handleFilter(pageNumber),\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.buttons.filter\")))))), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaperTable,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    id: \"grid-attendants\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.id\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.whatsapp\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.contact\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.user\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.queue\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.status\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.lastMessage\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.dateOpen\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.dateClose\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.supportTime\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.NPS\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 15\n    }\n  }, i18n.t(\"reports.table.actions\")))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, tickets.map(ticket => /*#__PURE__*/React.createElement(TableRow, {\n    key: ticket.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 477,\n      columnNumber: 19\n    }\n  }, ticket.id), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.whatsappName), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.contactName), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.userName), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.queueName), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 482,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.status), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.lastMessage), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.createdAt), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.closedAt), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.supportTime), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 19\n    }\n  }, ticket === null || ticket === void 0 ? void 0 : ticket.NPS), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    noWrap: true,\n    component: \"span\",\n    variant: \"body2\",\n    color: \"textPrimary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Logs do Ticket\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(History, {\n    onClick: () => {\n      setOpenTicketMessageDialog(true);\n      setTicketOpen(ticket);\n    },\n    fontSize: \"small\",\n    style: {\n      color: blue[700],\n      cursor: \"pointer\",\n      marginLeft: 10,\n      verticalAlign: \"middle\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Tooltip, {\n    title: \"Acessar Ticket\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Forward, {\n    onClick: () => {\n      history.push(`/tickets/${ticket.uuid}`);\n    },\n    fontSize: \"small\",\n    style: {\n      color: green[700],\n      cursor: \"pointer\",\n      marginLeft: 10,\n      verticalAlign: \"middle\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 25\n    }\n  })))))), loading && /*#__PURE__*/React.createElement(TableRowSkeleton, {\n    avatar: true,\n    columns: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 27\n    }\n  }))))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 10,\n    md: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    count: Math.ceil(totalTickets / pageSize) // Calcula o nmero total de páginas com base no nmero total de tickets e no tamanho da página\n    ,\n    page: pageNumber // Define a página atual\n    ,\n    onChange: (event, value) => handleFilter(value) // Função de callback para mudanças de página\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 2,\n    md: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    margin: \"dense\",\n    variant: \"outlined\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 15\n    }\n  }, i18n.t(\"tickets.search.ticketsPerPage\")), /*#__PURE__*/React.createElement(Select, {\n    labelId: \"dialog-select-prompt-label\",\n    id: \"dialog-select-prompt\",\n    name: \"pageSize\",\n    value: pageSize,\n    onChange: e => {\n      setPageSize(e.target.value);\n    },\n    label: i18n.t(\"tickets.search.ticketsPerPage\"),\n    fullWidth: true,\n    MenuProps: {\n      anchorOrigin: {\n        vertical: \"center\",\n        horizontal: \"left\"\n      },\n      transformOrigin: {\n        vertical: \"center\",\n        horizontal: \"left\"\n      },\n      getContentAnchorEl: null\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(MenuItem, {\n    value: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 17\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 576,\n      columnNumber: 17\n    }\n  }, \"10\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 20,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 17\n    }\n  }, \"20\"), /*#__PURE__*/React.createElement(MenuItem, {\n    value: 50,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 17\n    }\n  }, \"50\")))))));\n};\nexport default Reports;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","toast","useHistory","makeStyles","Table","TableBody","TableCell","TableHead","TableRow","Paper","Button","Pagination","XLSX","api","TableRowSkeleton","i18n","MainHeader","Title","MainHeaderButtonsWrapper","MainContainer","toastError","AuthContext","Can","CircularProgress","FormControl","FormControlLabel","Grid","IconButton","InputLabel","MenuItem","Select","Switch","TextField","Tooltip","Typography","UsersFilter","TagsFilter","WhatsappsFilter","StatusFilter","useDashboard","QueueSelectCustom","moment","ShowTicketLogModal","blue","green","Facebook","Forward","History","Instagram","SaveAlt","Visibility","WhatsApp","Autocomplete","createFilterOptions","Field","useStyles","theme","mainContainer","background","palette","fancyBackground","formControl","display","flexDirection","justifyContent","alignItems","mainPaper","flex","marginTop","borderRadius","border","marginBottom","overflow","mainPaperTable","height","scrollbarStylesSoftBig","mainPaperFilter","mainHeaderBlock","breakpoints","down","flexWrap","filterItem","width","Reports","classes","history","getReport","user","loading","setLoading","pageNumber","setPageNumber","pageSize","setPageSize","searchParam","setSearchParam","selectedContactId","setSelectedContactId","selectedWhatsapp","setSelectedWhatsapp","selectedStatus","setSelectedStatus","selectedContact","setSelectedContact","queueIds","setQueueIds","userIds","setUserIds","options","setOptions","dateFrom","setDateFrom","format","dateTo","setDateTo","onlyRated","setOnlyRated","totalTickets","setTotalTickets","tickets","setTickets","openTicketMessageDialog","setOpenTicketMessageDialog","ticketOpen","setTicketOpen","hasMore","setHasMore","delayDebounceFn","setTimeout","fetchContacts","data","get","params","contacts","err","clearTimeout","exportarGridParaExcel","contactId","whatsappId","JSON","stringify","users","status","page","ticketsData","map","ticket","createdAt","Date","closedAt","dataFechamento","toLocaleDateString","horaFechamento","toLocaleTimeString","dataCriacao","horaCriacao","id","Conexão","whatsappName","Contato","contactName","Usuário","userName","Fila","queueName","Status","ÚltimaMensagem","lastMessage","DataAbertura","HoraAbertura","DataFechamento","HoraFechamento","TempoDeAtendimento","supportTime","nps","NPS","console","log","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","error","handleFilter","total","length","handleSelectedUsers","selecteds","t","handleSelectedWhatsapps","whatsapp","handleSelectedStatus","statusFilter","IconChannel","channel","createElement","style","color","verticalAlign","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","renderOption","option","number","Fragment","component","fontSize","marginLeft","lineHeight","name","handleSelectOption","e","newValue","renderOptionLabel","filter","trim","createAddContactOption","filterOptions","filtered","inputValue","push","renderContactAutocomplete","xs","item","fullWidth","clearOnBlur","autoHighlight","freeSolo","size","clearOnEscape","getOptionLabel","onChange","renderInput","Object","assign","label","variant","autoFocus","target","value","InputProps","endAdornment","className","isOpen","handleClose","ticketId","mainHeaderFilter","paddingTop","container","spacing","md","xl","onFiltered","selectedQueueIds","values","sm","type","InputLabelProps","shrink","control","checked","onClick","align","key","noWrap","title","cursor","uuid","avatar","columns","count","Math","ceil","event","margin","labelId","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl"],"sources":["/workspaces/simao/whaticket/frontend/src/pages/Reports/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport * as XLSX from 'xlsx';\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nimport { CircularProgress, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, TextField, Tooltip, Typography } from \"@material-ui/core\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport { TagsFilter } from \"../../components/TagsFilter\";\nimport { WhatsappsFilter } from \"../../components/WhatsappsFilter\";\nimport { StatusFilter } from \"../../components/StatusFilter\";\nimport useDashboard from \"../../hooks/useDashboard\";\n\nimport QueueSelectCustom from \"../../components/QueueSelectCustom\";\nimport moment from \"moment\";\nimport ShowTicketLogModal from \"../../components/ShowTicketLogModal\";\n\nimport { blue, green } from \"@material-ui/core/colors\";\nimport { Facebook, Forward, History, Instagram, SaveAlt, Visibility, WhatsApp } from \"@material-ui/icons\";\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport { Field } from \"formik\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    background: theme.palette.fancyBackground,\n\n  },\n  formControl: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  mainPaper: {\n    flex: 1,\n    marginTop: 40,\n    borderRadius: 20,\n    border: '0px !important',\n    marginBottom: 40,\n    overflow: 'hidden'\n  },\n  mainPaperTable: {\n    flex: 1,\n    overflow: 'auto',\n    height: '68vh',\n    ...theme.scrollbarStylesSoftBig,\n  },\n  mainPaperFilter: {\n    flex: 1,\n    overflow: 'auto',\n    height: '20vh',\n    ...theme.scrollbarStylesSoftBig,\n  },\n  mainHeaderBlock: {\n    [theme.breakpoints.down('md')]: {\n      display: 'flex',\n      flexWrap: 'wrap'\n    },\n  },\n  filterItem: {\n    width: 200,\n    [theme.breakpoints.down('md')]: {\n      width: '45%'\n    },\n  },\n}));\n\nconst Reports = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { getReport } = useDashboard();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [pageSize, setPageSize] = useState(10); // Defina o tamanho da página\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState([]);\n  const [selectedStatus, setSelectedStatus] = useState([]);\n  const [selectedContact, setSelectedContact] = useState(null);\n\n  // const [tagIds, setTagIds] = useState([]);\n  const [queueIds, setQueueIds] = useState([]);\n  const [userIds, setUserIds] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [onlyRated, setOnlyRated] = useState(false);\n  const [totalTickets, setTotalTickets] = useState(0);\n  const [tickets, setTickets] = useState([]);\n\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const [ticketOpen, setTicketOpen] = useState(null);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"contacts\", {\n            params: { searchParam },\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam]);\n\n  // const handleSelectedTags = (selecteds) => {\n  //   const tags = selecteds.map((t) => t.id);\n  //   setTagIds(tags);\n  // };\n\n  const exportarGridParaExcel = async () => {\n    setLoading(true); // Define o estado de loading como true durante o carregamento\n\n    try {\n      const data = await getReport({\n        searchParam,\n        contactId: selectedContactId,\n        whatsappId: JSON.stringify(selectedWhatsapp),\n        // tags: JSON.stringify(tagIds),\n        users: JSON.stringify(userIds),\n        queueIds: JSON.stringify(queueIds),\n        status: JSON.stringify(selectedStatus),\n        // tags: tagIds,\n        dateFrom,\n        dateTo,\n        page: 1, // Passa o número da página para a API\n        pageSize: 9999999, // Passa o tamanho da página para a API\n        onlyRated: onlyRated ? \"true\" : \"false\"\n      });\n\n\n      const ticketsData = data.tickets.map(ticket => {\n        // Convertendo o campo createdAt para um objeto Date\n        const createdAt = new Date(ticket.createdAt);\n        const closedAt = new Date(ticket.closedAt);\n\n        const dataFechamento = closedAt.toLocaleDateString();\n        const horaFechamento = closedAt.toLocaleTimeString();\n        // Obtendo a data e a hora separadamente\n        const dataCriacao = createdAt.toLocaleDateString(); // Obtém a data no formato 'dd/mm/aaaa'\n        const horaCriacao = createdAt.toLocaleTimeString(); // Obtém a hora no formato 'hh:mm:ss'\n\n        return {\n          id: ticket.id,\n          Conexão: ticket.whatsappName,\n          Contato: ticket.contactName,\n          Usuário: ticket.userName,\n          Fila: ticket.queueName,\n          Status: ticket.status,\n          ÚltimaMensagem: ticket.lastMessage,\n          DataAbertura: dataCriacao,\n          HoraAbertura: horaCriacao,\n          DataFechamento: ticket.closedAt === null ? \"\" : dataFechamento,\n          HoraFechamento: ticket.closedAt === null ? \"\" : horaFechamento,\n          TempoDeAtendimento: ticket.supportTime,\n          nps: ticket.NPS,\n        }\n      });\n\n      console.log(ticketsData)\n      const ws = XLSX.utils.json_to_sheet(ticketsData);\n      const wb = XLSX.utils.book_new();\n\n      XLSX.utils.book_append_sheet(wb, ws, 'RelatorioDeAtendimentos');\n      XLSX.writeFile(wb, 'relatorio-de-atendimentos.xlsx');\n\n\n      setPageNumber(pageNumber); // Atualiza o estado da página atual\n    } catch (error) {\n      toastError(error);\n    } finally {\n      setLoading(false); // Define o estado de loading como false após o carregamento\n    }\n\n  };\n\n\n  const handleFilter = async (pageNumber) => {\n    setLoading(true); // Define o estado de loading como true durante o carregamento\n    console.log(onlyRated)\n    try {\n      const data = await getReport({\n        searchParam,\n        contactId: selectedContactId,\n        whatsappId: JSON.stringify(selectedWhatsapp),\n        // tags: JSON.stringify(tagIds),\n        users: JSON.stringify(userIds),\n        queueIds: JSON.stringify(queueIds),\n        status: JSON.stringify(selectedStatus),\n        // tags: tagIds,\n        dateFrom,\n        dateTo,\n        page: pageNumber, // Passa o número da página para a API\n        pageSize: pageSize, // Passa o tamanho da página para a API\n        onlyRated: onlyRated ? \"true\" : \"false\"\n      });\n\n      setTotalTickets(data.totalTickets.total);\n\n      // Verifica se há mais resultados para definir hasMore\n      setHasMore(data.tickets.length === pageSize);\n\n      setTickets(data.tickets); // Se for a primeira página, substitua os tickets\n\n      setPageNumber(pageNumber); // Atualiza o estado da página atual\n    } catch (error) {\n      toastError(error);\n    } finally {\n      setLoading(false); // Define o estado de loading como false após o carregamento\n    }\n  }\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setUserIds(users);\n  };\n\n  const handleSelectedWhatsapps = (selecteds) => {\n    const whatsapp = selecteds.map((t) => t.id);\n    setSelectedWhatsapp(whatsapp);\n  };\n\n  const handleSelectedStatus = (selecteds) => {\n    const statusFilter = selecteds.map((t) => t.status);\n\n    setSelectedStatus(statusFilter);\n  };\n  const IconChannel = (channel) => {\n    switch (channel) {\n      case \"facebook\":\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\n      case \"instagram\":\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\n      case \"whatsapp\":\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\n      default:\n        return \"error\";\n    }\n  };\n\n  const renderOption = (option) => {\n    if (option.number) {\n      return <>\n        {IconChannel(option.channel)}\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n          {option.name} - {option.number}\n        </Typography>\n      </>\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n\n  const handleSelectOption = (e, newValue) => {\n    setSelectedContactId(newValue.id);\n    setSearchParam(\"\");\n  };\n\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n  const filter = createFilterOptions({\n    trim: true,\n  });\n\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`,\n      });\n    }\n    return filtered;\n  };\n  const renderContactAutocomplete = () => {\n    return (\n      <Grid xs={12} item>\n        <Autocomplete\n          fullWidth\n          options={options}\n          loading={loading}\n          clearOnBlur\n          autoHighlight\n          freeSolo\n          size=\"small\"\n          clearOnEscape\n          getOptionLabel={renderOptionLabel}\n          renderOption={renderOption}\n          filterOptions={createAddContactOption}\n          onChange={(e, newValue) => handleSelectOption(e, newValue)}\n          renderInput={params => (\n            <TextField\n              {...params}\n              label={i18n.t(\"newTicketModal.fieldLabel\")}\n              variant=\"outlined\"\n              autoFocus\n              size=\"small\"\n              onChange={e => setSearchParam(e.target.value)}\n              // onKeyPress={(e, newValue) => handleSelectOption(e, newValue)}\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <React.Fragment>\n                    {loading ? (\n                      <CircularProgress color=\"inherit\" size={20} />\n                    ) : null}\n                    {params.InputProps.endAdornment}\n                  </React.Fragment>\n                ),\n              }}\n            />\n          )}\n        />\n      </Grid>\n    )\n  }\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      {openTicketMessageDialog && (\n        <ShowTicketLogModal\n          isOpen={openTicketMessageDialog}\n          handleClose={() => setOpenTicketMessageDialog(false)}\n          ticketId={ticketOpen.id}\n        />\n      )}\n      <Title>{i18n.t(\"reports.title\")}</Title>\n\n      <MainHeader className={classes.mainHeaderFilter} style={{ display: 'flex' }}>\n        <Paper className={classes.mainPaperFilter}>\n          <div style={{ paddingTop: '15px' }} />\n          <Grid container spacing={1}>\n            <Grid item xs={12} md={3} xl={3}>\n              {renderContactAutocomplete()}\n            </Grid>\n            <Grid item xs={12} md={3} xl={3}>\n              <WhatsappsFilter onFiltered={handleSelectedWhatsapps} />\n            </Grid>\n            <Grid item xs={12} md={3} xl={3}>\n              <StatusFilter onFiltered={handleSelectedStatus} />\n            </Grid>\n            <Grid item xs={12} md={3} xl={3}>\n              <UsersFilter onFiltered={handleSelectedUsers} />\n            </Grid>\n            {/* <Grid item xs={12} md={4} xl={4}>\n              <TagsFilter onFiltered={handleSelectedTags} />\n            </Grid> */}\n            <Grid item xs={12} md={3} xl={3} style={{ marginTop: '-13px' }}>\n              <QueueSelectCustom\n                selectedQueueIds={queueIds}\n                onChange={values => setQueueIds(values)}\n              />\n            </Grid>\n\n            <Grid item xs={12} sm={3} md={3}>\n              <TextField\n                label=\"Data Inicial\"\n                type=\"date\"\n                value={dateFrom}\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                onChange={(e) => setDateFrom(e.target.value)}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={3} md={3}>\n              <TextField\n                label=\"Data Final\"\n                type=\"date\"\n                value={dateTo}\n                variant=\"outlined\"\n                fullWidth\n                size=\"small\"\n                onChange={(e) => setDateTo(e.target.value)}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n            <Grid item xs={12} sm={3} md={3} style={{ display: 'flex', justifyContent: 'center' }}>\n              <FormControlLabel\n                control={\n                  <Switch\n                    color=\"primary\"\n                    checked={onlyRated}\n                    onChange={() => setOnlyRated(!onlyRated)}\n                  />\n                }\n\n                label={i18n.t(\"reports.buttons.onlyRated\")}\n              />\n              <IconButton onClick={exportarGridParaExcel} aria-label=\"Exportar para Excel\">\n\n                <SaveAlt />\n              </IconButton>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => handleFilter(pageNumber)}\n                size=\"small\"\n              >{i18n.t(\"reports.buttons.filter\")}</Button>\n            </Grid>\n          </Grid>\n\n        </Paper>\n\n      </MainHeader>\n      <Paper\n        className={classes.mainPaperTable}\n        variant=\"outlined\"\n      >\n        <Table size=\"small\" id=\"grid-attendants\">\n          <TableHead>\n            <TableRow>\n              {/* <TableCell padding=\"checkbox\" /> */}\n              <TableCell align=\"center\">{i18n.t(\"reports.table.id\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.whatsapp\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.contact\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.user\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.queue\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.status\")}</TableCell>\n              <TableCell align=\"left\">{i18n.t(\"reports.table.lastMessage\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.dateOpen\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.dateClose\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.supportTime\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.NPS\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"reports.table.actions\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tickets.map((ticket) => (\n                <TableRow key={ticket.id}>\n                  <TableCell align=\"center\">{ticket.id}</TableCell>\n                  <TableCell align=\"left\">{ticket?.whatsappName}</TableCell>\n                  <TableCell align=\"left\">{ticket?.contactName}</TableCell>\n                  <TableCell align=\"left\">{ticket?.userName}</TableCell>\n                  <TableCell align=\"left\">{ticket?.queueName}</TableCell>\n                  <TableCell align=\"center\">{ticket?.status}</TableCell>\n                  <TableCell align=\"left\">{ticket?.lastMessage}</TableCell>\n                  <TableCell align=\"center\">{ticket?.createdAt}</TableCell>\n                  <TableCell align=\"center\">{ticket?.closedAt}</TableCell>\n                  <TableCell align=\"center\">{ticket?.supportTime}</TableCell>\n                  <TableCell align=\"center\">{ticket?.NPS}</TableCell>\n                  <TableCell align=\"center\">\n                    <Typography\n                      noWrap\n                      component=\"span\"\n                      variant=\"body2\"\n                      color=\"textPrimary\"\n                    >\n                      <Tooltip title=\"Logs do Ticket\">\n                        <History\n                          onClick={() => {\n                            setOpenTicketMessageDialog(true)\n                            setTicketOpen(ticket)\n                          }}\n                          fontSize=\"small\"\n                          style={{\n                            color: blue[700],\n                            cursor: \"pointer\",\n                            marginLeft: 10,\n                            verticalAlign: \"middle\"\n                          }}\n                        />\n                      </Tooltip>\n                      <Tooltip title=\"Acessar Ticket\">\n                        <Forward\n                          onClick={() => { history.push(`/tickets/${ticket.uuid}`) }}\n                          fontSize=\"small\"\n                          style={{\n                            color: green[700],\n                            cursor: \"pointer\",\n                            marginLeft: 10,\n                            verticalAlign: \"middle\"\n                          }}\n                        />\n                      </Tooltip>\n                    </Typography>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n\n      </Paper>\n\n      <div>\n        <Grid container>\n          <Grid item xs={12} sm={10} md={10}>\n\n            <Pagination\n              count={Math.ceil(totalTickets / pageSize)} // Calcula o nmero total de páginas com base no nmero total de tickets e no tamanho da página\n              page={pageNumber} // Define a página atual\n              onChange={(event, value) => handleFilter(value)} // Função de callback para mudanças de página\n            />\n          </Grid>\n          <Grid item xs={12} sm={2} md={2}>\n\n            <FormControl\n              margin=\"dense\"\n              variant=\"outlined\"\n              fullWidth\n            >\n              <InputLabel>\n                {i18n.t(\"tickets.search.ticketsPerPage\")}\n              </InputLabel>\n              <Select\n                labelId=\"dialog-select-prompt-label\"\n                id=\"dialog-select-prompt\"\n                name=\"pageSize\"\n                value={pageSize}\n                onChange={(e) => {\n                  setPageSize(e.target.value)\n                }}\n                label={i18n.t(\"tickets.search.ticketsPerPage\")}\n                fullWidth\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"center\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"center\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n              >\n                <MenuItem value={5} >{\"5\"}</MenuItem>\n                <MenuItem value={10} >{\"10\"}</MenuItem>\n                <MenuItem value={20} >{\"20\"}</MenuItem>\n                <MenuItem value={50} >{\"50\"}</MenuItem>\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n      </div>\n    </MainContainer >\n  );\n};\n\nexport default Reports;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}