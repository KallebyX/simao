{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/components/WhatsappsFilter/index.js\";\nimport { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nexport function WhatsappsFilter({\n  onFiltered,\n  initialWhatsapps\n}) {\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      await loadWhatsapps();\n    }\n    fetchData();\n  }, []);\n  useEffect(() => {\n    setSelecteds([]);\n    if (Array.isArray(initialWhatsapps) && Array.isArray(whatsapps) && whatsapps.length > 0) {\n      onChange(initialWhatsapps);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialWhatsapps, whatsapps]);\n  const loadWhatsapps = async () => {\n    try {\n      const {\n        data\n      } = await api.get(`/whatsapp`);\n      const whatsappList = data.map(w => ({\n        id: w.id,\n        name: w.name,\n        channel: w.channel\n      }));\n      setWhatsapps(whatsappList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const onChange = async value => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    style: {\n      padding: \"0px 10px 10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Autocomplete, {\n    multiple: true,\n    size: \"small\",\n    options: whatsapps,\n    value: selecteds,\n    onChange: (e, v, r) => onChange(v),\n    getOptionLabel: option => option.name,\n    getOptionSelected: (option, value) => {\n      return (option === null || option === void 0 ? void 0 : option.id) === (value === null || value === void 0 ? void 0 : value.id) || (option === null || option === void 0 ? void 0 : option.name.toLowerCase()) === (value === null || value === void 0 ? void 0 : value.name.toLowerCase());\n    },\n    renderTags: (value, getWhatsappProps) => value.map((option, index) => /*#__PURE__*/React.createElement(Chip, Object.assign({\n      variant: \"outlined\",\n      style: {\n        backgroundColor: \"#bfbfbf\",\n        textShadow: \"1px 1px 1px #000\",\n        color: \"white\"\n      },\n      label: option.name\n    }, getWhatsappProps({\n      index\n    }), {\n      size: \"small\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }\n    }))),\n    renderInput: params => /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      variant: \"outlined\",\n      placeholder: i18n.t(\"tickets.search.filterConections\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"names":["Box","Chip","TextField","Autocomplete","React","useEffect","useState","toastError","api","i18n","WhatsappsFilter","onFiltered","initialWhatsapps","whatsapps","setWhatsapps","selecteds","setSelecteds","fetchData","loadWhatsapps","Array","isArray","length","onChange","data","get","whatsappList","map","w","id","name","channel","err","value","createElement","style","padding","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","multiple","size","options","e","v","r","getOptionLabel","option","getOptionSelected","toLowerCase","renderTags","getWhatsappProps","index","Object","assign","variant","backgroundColor","textShadow","color","label","renderInput","params","placeholder","t"],"sources":["/workspaces/simao/whaticket/frontend/src/components/WhatsappsFilter/index.js"],"sourcesContent":["import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nexport function WhatsappsFilter({ onFiltered, initialWhatsapps }) {\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadWhatsapps();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialWhatsapps) &&\n      Array.isArray(whatsapps) &&\n      whatsapps.length > 0\n    ) {\n      onChange(initialWhatsapps);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialWhatsapps, whatsapps]);\n\n  const loadWhatsapps = async () => {\n    try {\n      const { data } = await api.get(`/whatsapp`);\n      const whatsappList = data.map((w) => ({ id: w.id, name: w.name, channel: w.channel }));\n      setWhatsapps(whatsappList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={whatsapps}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getWhatsappProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getWhatsappProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder={i18n.t(\"tickets.search.filterConections\")}\n          />\n        )}\n      />\n    </Box>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}