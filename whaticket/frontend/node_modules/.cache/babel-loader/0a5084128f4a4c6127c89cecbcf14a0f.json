{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/pages/Annoucements/index.js\";\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n    if (isArray(announcements)) {\n      announcements.forEach(announcement => {\n        const announcementIndex = state.findIndex(u => u.id === announcement.id);\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n    return [...state, ...newAnnouncements];\n  }\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex(u => u.id === announcement.id);\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n    const announcementIndex = state.findIndex(u => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  }\n}));\nconst Announcements = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  //   const socketManager = useContext(SocketContext);\n  const {\n    user,\n    socket\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  // trava para nao acessar pagina que não pode  \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`);\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    dispatch({\n      type: \"RESET\"\n    });\n    setPageNumber(1);\n  }, [searchParam]);\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n  useEffect(() => {\n    if (user.companyId) {\n      //    const socket = socketManager.GetSocket();\n\n      const onCompanyAnnouncement = data => {\n        if (data.action === \"update\" || data.action === \"create\") {\n          dispatch({\n            type: \"UPDATE_ANNOUNCEMENTS\",\n            payload: data.record\n          });\n        }\n        if (data.action === \"delete\") {\n          dispatch({\n            type: \"DELETE_ANNOUNCEMENT\",\n            payload: +data.id\n          });\n        }\n      };\n      socket.on(`company-announcement`, onCompanyAnnouncement);\n      return () => {\n        socket.off(`company-announcement`, onCompanyAnnouncement);\n      };\n    }\n  }, [user]);\n  const fetchAnnouncements = async () => {\n    try {\n      const {\n        data\n      } = await api.get(\"/announcements/\", {\n        params: {\n          searchParam,\n          pageNumber\n        }\n      });\n      dispatch({\n        type: \"LOAD_ANNOUNCEMENTS\",\n        payload: data.records\n      });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n  const handleSearch = event => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n  const handleEditAnnouncement = announcement => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n  const handleDeleteAnnouncement = async announcement => {\n    try {\n      if (announcement.mediaName) await api.delete(`/announcements/${announcement.id}/media-upload`);\n      await api.delete(`/announcements/${announcement.id}`);\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n  const loadMore = () => {\n    setPageNumber(prevState => prevState + 1);\n  };\n  const handleScroll = e => {\n    if (!hasMore || loading) return;\n    const {\n      scrollTop,\n      scrollHeight,\n      clientHeight\n    } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n  const translatePriority = val => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Média\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: deletingAnnouncement && `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name}?`,\n    open: confirmModalOpen,\n    onClose: setConfirmModalOpen,\n    onConfirm: () => handleDeleteAnnouncement(deletingAnnouncement),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }\n  }, i18n.t(\"announcements.confirmationModal.deleteMessage\")), /*#__PURE__*/React.createElement(AnnouncementModal, {\n    resetPagination: () => {\n      setPageNumber(1);\n      fetchAnnouncements();\n    },\n    open: announcementModalOpen,\n    onClose: handleCloseAnnouncementModal,\n    \"aria-labelledby\": \"form-dialog-title\",\n    announcementId: selectedAnnouncement && selectedAnnouncement.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(MainHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      width: \"99.6%\"\n    },\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 8,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 13\n    }\n  }, i18n.t(\"announcements.title\"), \" (\", announcements.length, \")\")), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    spacing: 2,\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 6,\n    sm: 6,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    placeholder: i18n.t(\"announcements.searchPlaceholder\"),\n    type: \"search\",\n    value: searchParam,\n    onChange: handleSearch,\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(SearchIcon, {\n        style: {\n          color: \"gray\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 25\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 6,\n    sm: 6,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    onClick: handleOpenAnnouncementModal,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 17\n    }\n  }, i18n.t(\"announcements.buttons.add\"))))))), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaper,\n    variant: \"outlined\",\n    onScroll: handleScroll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 15\n    }\n  }, i18n.t(\"announcements.table.title\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 15\n    }\n  }, i18n.t(\"announcements.table.priority\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 15\n    }\n  }, i18n.t(\"announcements.table.mediaName\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 15\n    }\n  }, i18n.t(\"announcements.table.status\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 15\n    }\n  }, i18n.t(\"announcements.table.actions\")))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, announcements.map(announcement => {\n    var _announcement$mediaNa;\n    return /*#__PURE__*/React.createElement(TableRow, {\n      key: announcement.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 19\n      }\n    }, announcement.title), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 19\n      }\n    }, translatePriority(announcement.priority)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 19\n      }\n    }, (_announcement$mediaNa = announcement.mediaName) !== null && _announcement$mediaNa !== void 0 ? _announcement$mediaNa : i18n.t(\"quickMessages.noAttachment\")), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 19\n      }\n    }, announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: () => handleEditAnnouncement(announcement),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(EditIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: e => {\n        setConfirmModalOpen(true);\n        setDeletingAnnouncement(announcement);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 23\n      }\n    }))));\n  }), loading && /*#__PURE__*/React.createElement(TableRowSkeleton, {\n    columns: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 27\n    }\n  }))))));\n};\nexport default Announcements;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","toast","useHistory","makeStyles","Paper","Button","Table","TableBody","TableCell","TableHead","TableRow","IconButton","SearchIcon","TextField","InputAdornment","DeleteOutlineIcon","EditIcon","MainContainer","MainHeader","Title","api","i18n","TableRowSkeleton","AnnouncementModal","ConfirmationModal","toastError","Grid","isArray","AuthContext","reducer","state","action","type","announcements","payload","newAnnouncements","forEach","announcement","announcementIndex","findIndex","u","id","push","announcementId","splice","useStyles","theme","mainPaper","flex","padding","overflowY","scrollbarStyles","Announcements","classes","history","user","socket","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","confirmModalOpen","setConfirmModalOpen","searchParam","setSearchParam","dispatch","fetchData","super","error","setTimeout","delayDebounceFn","fetchAnnouncements","clearTimeout","companyId","onCompanyAnnouncement","data","record","on","off","get","params","records","err","handleOpenAnnouncementModal","handleCloseAnnouncementModal","handleSearch","event","target","value","toLowerCase","handleEditAnnouncement","handleDeleteAnnouncement","mediaName","delete","success","t","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","translatePriority","val","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","name","open","onClose","onConfirm","resetPagination","style","width","container","xs","sm","item","length","spacing","fullWidth","placeholder","onChange","InputProps","startAdornment","position","color","variant","onClick","className","onScroll","size","align","Fragment","map","_announcement$mediaNa","key","priority","status","columns"],"sources":["/workspaces/simao/whaticket/frontend/src/pages/Annoucements/index.js"],"sourcesContent":["import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\n\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Announcements = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n//   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  // trava para nao acessar pagina que não pode  \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    if (user.companyId) {\n//    const socket = socketManager.GetSocket();\n\n      const onCompanyAnnouncement = (data) => {\n        if (data.action === \"update\" || data.action === \"create\") {\n          dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n        }\n        if (data.action === \"delete\") {\n          dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n        }\n      }\n\n      socket.on(`company-announcement`, onCompanyAnnouncement);\n      return () => {\n        socket.off(`company-announcement`, onCompanyAnnouncement);\n      }\n    }\n  }, [user]);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleDeleteAnnouncement = async (announcement) => {\n    try {\n      if (announcement.mediaName)\n        await api.delete(`/announcements/${announcement.id}/media-upload`);\n\n      await api.delete(`/announcements/${announcement.id}`);\n\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const translatePriority = (val) => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Média\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n\n  return (\n    <MainContainer >\n      <ConfirmationModal\n        title={\n          deletingAnnouncement &&\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <AnnouncementModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchAnnouncements();\n        }}\n        open={announcementModalOpen}\n        onClose={handleCloseAnnouncementModal}\n        aria-labelledby=\"form-dialog-title\"\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenAnnouncementModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"announcements.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.title\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.priority\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {announcements.map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\n                  <TableCell align=\"center\">\n                    {translatePriority(announcement.priority)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditAnnouncement(announcement)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingAnnouncement(announcement);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer >\n  )\n};\n\nexport default Announcements;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}