{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/pages/Connections/index.js\";\nimport React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { add, format, parseISO } from \"date-fns\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { Button, TableBody, TableRow, TableCell, IconButton, Table, TableHead, Paper, Tooltip, Typography, CircularProgress, Box, Card, CardContent } from \"@material-ui/core\";\nimport { Edit, CheckCircle, SignalCellularConnectedNoInternet2Bar, SignalCellularConnectedNoInternet0Bar, SignalCellular4Bar, CropFree, DeleteOutline, Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport { Can } from \"../../components/Can\";\nimport moment from \"moment\";\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450\n  },\n  tooltipPopper: {\n    textAlign: \"center\"\n  },\n  buttonProgress: {\n    color: green[500]\n  }\n}));\nfunction CircularProgressWithLabel(props) {\n  return /*#__PURE__*/React.createElement(Box, {\n    position: \"relative\",\n    display: \"inline-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, Object.assign({\n    variant: \"determinate\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Box, {\n    top: 0,\n    left: 0,\n    bottom: 0,\n    right: 0,\n    position: \"absolute\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"caption\",\n    component: \"div\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, `${Math.round(props.value)}%`)));\n}\nconst CustomToolTip = ({\n  title,\n  content,\n  children\n}) => {\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    arrow: true,\n    classes: {\n      tooltip: classes.tooltip,\n      popper: classes.tooltipPopper\n    },\n    title: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      gutterBottom: true,\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, title), content && /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 23\n      }\n    }, content)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, children);\n};\nconst IconChannel = channel => {\n  switch (channel) {\n    case \"facebook\":\n      return /*#__PURE__*/React.createElement(Facebook, {\n        style: {\n          color: \"#3b5998\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 14\n        }\n      });\n    case \"instagram\":\n      return /*#__PURE__*/React.createElement(Instagram, {\n        style: {\n          color: \"#e1306c\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 14\n        }\n      });\n    case \"whatsapp\":\n      return /*#__PURE__*/React.createElement(WhatsApp, {\n        style: {\n          color: \"#25d366\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 14\n        }\n      });\n    default:\n      return \"error\";\n  }\n};\nconst Connections = () => {\n  const classes = useStyles();\n  const {\n    whatsApps,\n    loading\n  } = useContext(WhatsAppsContext);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [statusImport, setStatusImport] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const {\n    handleLogout\n  } = useContext(AuthContext);\n  const history = useHistory();\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(confirmationModalInitialState);\n  const [planConfig, setPlanConfig] = useState(false);\n\n  //   const socketManager = useContext(SocketContext);\n  const {\n    user,\n    socket\n  } = useContext(AuthContext);\n  const companyId = user.companyId;\n  const {\n    getPlanCompany\n  } = usePlans();\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      setPlanConfig(planConfigs);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var before = moment(moment().format()).isBefore(user.company.dueDate);\n  if (before !== true) {\n    handleLogout();\n  }\n  const responseFacebook = response => {\n    if (response.status !== \"unknown\") {\n      const {\n        accessToken,\n        id\n      } = response;\n      api.post(\"/facebook\", {\n        facebookUserId: id,\n        facebookUserToken: accessToken\n      }).then(response => {\n        toast.success(i18n.t(\"connections.facebook.success\"));\n      }).catch(error => {\n        toastError(error);\n      });\n    }\n  };\n  const responseInstagram = response => {\n    if (response.status !== \"unknown\") {\n      const {\n        accessToken,\n        id\n      } = response;\n      api.post(\"/facebook\", {\n        addInstagram: true,\n        facebookUserId: id,\n        facebookUserToken: accessToken\n      }).then(response => {\n        toast.success(i18n.t(\"connections.facebook.success\"));\n      }).catch(error => {\n        toastError(error);\n      });\n    }\n  };\n  useEffect(() => {\n    // const socket = socketManager.GetSocket();\n    socket.on(`importMessages-${user.companyId}`, data => {\n      if (data.action === \"refresh\") {\n        setStatusImport([]);\n        history.go(0);\n      }\n      if (data.action === \"update\") {\n        setStatusImport(data.status);\n      }\n    });\n\n    /* return () => {\n      socket.disconnect();\n    }; */\n  }, [whatsApps]);\n  const handleStartWhatsAppSession = async whatsAppId => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleRequestNewQrCode = async whatsAppId => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleOpenWhatsAppModal = () => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n  };\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n  const handleOpenQrModal = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n  const handleEditWhatsApp = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n  const openInNewTab = url => {\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n    if (action === \"closedImported\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.closedImportedTitle\"),\n        message: i18n.t(\"connections.confirmationModal.closedImportedMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    if (confirmModalInfo.action === \"closedImported\") {\n      try {\n        await api.post(`/closedimported/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.closedimported\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n  const renderImportButton = whatsApp => {\n    if ((whatsApp === null || whatsApp === void 0 ? void 0 : whatsApp.statusImportMessages) === \"renderButtonCloseTickets\") {\n      return /*#__PURE__*/React.createElement(Button, {\n        style: {\n          marginLeft: 12\n        },\n        size: \"small\",\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: () => {\n          handleOpenConfirmationModal(\"closedImported\", whatsApp.id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 9\n        }\n      }, i18n.t(\"connections.buttons.closedImported\"));\n    }\n    if (whatsApp === null || whatsApp === void 0 ? void 0 : whatsApp.importOldMessages) {\n      let isTimeStamp = !isNaN(new Date(Math.floor(whatsApp === null || whatsApp === void 0 ? void 0 : whatsApp.statusImportMessages)).getTime());\n      if (isTimeStamp) {\n        const ultimoStatus = new Date(Math.floor(whatsApp === null || whatsApp === void 0 ? void 0 : whatsApp.statusImportMessages)).getTime();\n        const dataLimite = +add(ultimoStatus, {\n          seconds: +35\n        }).getTime();\n        if (dataLimite > new Date().getTime()) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n            disabled: true,\n            style: {\n              marginLeft: 12\n            },\n            size: \"small\",\n            endIcon: /*#__PURE__*/React.createElement(CircularProgress, {\n              size: 12,\n              className: classes.buttonProgress,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 19\n              }\n            }),\n            variant: \"outlined\",\n            color: \"primary\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }\n          }, i18n.t(\"connections.buttons.preparing\")));\n        }\n      }\n    }\n  };\n  const renderActionButtons = whatsApp => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, whatsApp.status === \"qrcode\" && /*#__PURE__*/React.createElement(Can, {\n      role: user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile,\n      perform: \"connections-page:addConnection\",\n      yes: () => /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        variant: \"contained\",\n        color: \"primary\",\n        onClick: () => handleOpenQrModal(whatsApp),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 15\n        }\n      }, i18n.t(\"connections.buttons.qrcode\")),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 11\n      }\n    }), whatsApp.status === \"DISCONNECTED\" && /*#__PURE__*/React.createElement(Can, {\n      role: user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile,\n      perform: \"connections-page:addConnection\",\n      yes: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: () => handleStartWhatsAppSession(whatsApp.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 17\n        }\n      }, i18n.t(\"connections.buttons.tryAgain\")), \" \", /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        variant: \"outlined\",\n        color: \"secondary\",\n        onClick: () => handleRequestNewQrCode(whatsApp.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 17\n        }\n      }, i18n.t(\"connections.buttons.newQr\"))),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }\n    }), (whatsApp.status === \"CONNECTED\" || whatsApp.status === \"PAIRING\" || whatsApp.status === \"TIMEOUT\") && /*#__PURE__*/React.createElement(Can, {\n      role: user.profile,\n      perform: \"connections-page:addConnection\",\n      yes: () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n        size: \"small\",\n        variant: \"outlined\",\n        color: \"secondary\",\n        onClick: () => {\n          handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 19\n        }\n      }, i18n.t(\"connections.buttons.disconnect\")), renderImportButton(whatsApp)),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 13\n      }\n    }), whatsApp.status === \"OPENING\" && /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      variant: \"outlined\",\n      disabled: true,\n      color: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 11\n      }\n    }, i18n.t(\"connections.buttons.connecting\")));\n  };\n  const renderStatusToolTips = whatsApp => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.customTableCell,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 7\n      }\n    }, whatsApp.status === \"DISCONNECTED\" && /*#__PURE__*/React.createElement(CustomToolTip, {\n      title: i18n.t(\"connections.toolTips.disconnected.title\"),\n      content: i18n.t(\"connections.toolTips.disconnected.content\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SignalCellularConnectedNoInternet0Bar, {\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492,\n        columnNumber: 13\n      }\n    })), whatsApp.status === \"OPENING\" && /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 24,\n      className: classes.buttonProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 11\n      }\n    }), whatsApp.status === \"qrcode\" && /*#__PURE__*/React.createElement(CustomToolTip, {\n      title: i18n.t(\"connections.toolTips.qrcode.title\"),\n      content: i18n.t(\"connections.toolTips.qrcode.content\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CropFree, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 13\n      }\n    })), whatsApp.status === \"CONNECTED\" && /*#__PURE__*/React.createElement(CustomToolTip, {\n      title: i18n.t(\"connections.toolTips.connected.title\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SignalCellular4Bar, {\n      style: {\n        color: green[500]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 13\n      }\n    })), (whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && /*#__PURE__*/React.createElement(CustomToolTip, {\n      title: i18n.t(\"connections.toolTips.timeout.title\"),\n      content: i18n.t(\"connections.toolTips.timeout.content\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SignalCellularConnectedNoInternet2Bar, {\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 516,\n        columnNumber: 13\n      }\n    })));\n  };\n  const restartWhatsapps = async () => {\n    try {\n      await api.post(`/whatsapp-restart/`);\n      toast.success(i18n.t(\"connections.waitConnection\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: confirmModalInfo.title,\n    open: confirmModalOpen,\n    onClose: setConfirmModalOpen,\n    onConfirm: handleSubmitConfirmationModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 7\n    }\n  }, confirmModalInfo.message), qrModalOpen && /*#__PURE__*/React.createElement(QrcodeModal, {\n    open: qrModalOpen,\n    onClose: handleCloseQrModal,\n    whatsAppId: !whatsAppModalOpen && (selectedWhatsApp === null || selectedWhatsApp === void 0 ? void 0 : selectedWhatsApp.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(WhatsAppModal, {\n    open: whatsAppModalOpen,\n    onClose: handleCloseWhatsAppModal,\n    whatsAppId: !qrModalOpen && (selectedWhatsApp === null || selectedWhatsApp === void 0 ? void 0 : selectedWhatsApp.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 7\n    }\n  }), user.profile === \"user\" && user.allowConnections === \"disabled\" ? /*#__PURE__*/React.createElement(ForbiddenPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MainHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 13\n    }\n  }, i18n.t(\"connections.title\"), \" (\", whatsApps.length, \")\"), /*#__PURE__*/React.createElement(MainHeaderButtonsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: restartWhatsapps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 15\n    }\n  }, i18n.t(\"connections.restartConnections\")), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: () => openInNewTab(`https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 15\n    }\n  }, i18n.t(\"connections.callSupport\")), /*#__PURE__*/React.createElement(PopupState, {\n    variant: \"popover\",\n    popupId: \"demo-popup-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 577,\n      columnNumber: 15\n    }\n  }, popupState => /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Can, {\n    role: user.profile,\n    perform: \"connections-page:addConnection\",\n    yes: () => {\n      var _planConfig$plan;\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, Object.assign({\n        variant: \"contained\",\n        color: \"primary\"\n      }, bindTrigger(popupState), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 27\n        }\n      }), i18n.t(\"connections.newConnection\")), /*#__PURE__*/React.createElement(Menu, Object.assign({}, bindMenu(popupState), {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 27\n        }\n      }), /*#__PURE__*/React.createElement(MenuItem, {\n        disabled: (planConfig === null || planConfig === void 0 ? void 0 : (_planConfig$plan = planConfig.plan) === null || _planConfig$plan === void 0 ? void 0 : _planConfig$plan.useWhatsapp) ? false : true,\n        onClick: () => {\n          handleOpenWhatsAppModal();\n          popupState.close();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(WhatsApp, {\n        fontSize: \"small\",\n        style: {\n          marginRight: \"10px\",\n          color: \"#25D366\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 31\n        }\n      }), \"WhatsApp\"), /*#__PURE__*/React.createElement(FacebookLogin, {\n        appId: process.env.REACT_APP_FACEBOOK_APP_ID,\n        autoLoad: false,\n        fields: \"name,email,picture\",\n        version: \"9.0\",\n        scope: \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\",\n        callback: responseFacebook,\n        render: renderProps => {\n          var _planConfig$plan2;\n          return /*#__PURE__*/React.createElement(MenuItem, {\n            disabled: (planConfig === null || planConfig === void 0 ? void 0 : (_planConfig$plan2 = planConfig.plan) === null || _planConfig$plan2 === void 0 ? void 0 : _planConfig$plan2.useFacebook) ? false : true,\n            onClick: renderProps.onClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 619,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Facebook, {\n            fontSize: \"small\",\n            style: {\n              marginRight: \"10px\",\n              color: \"#3b5998\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 623,\n              columnNumber: 35\n            }\n          }), \"Facebook\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(FacebookLogin, {\n        appId: process.env.REACT_APP_FACEBOOK_APP_ID,\n        autoLoad: false,\n        fields: \"name,email,picture\",\n        version: \"9.0\",\n        scope: \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\",\n        callback: responseInstagram,\n        render: renderProps => {\n          var _planConfig$plan3;\n          return /*#__PURE__*/React.createElement(MenuItem, {\n            disabled: (planConfig === null || planConfig === void 0 ? void 0 : (_planConfig$plan3 = planConfig.plan) === null || _planConfig$plan3 === void 0 ? void 0 : _planConfig$plan3.useInstagram) ? false : true,\n            onClick: renderProps.onClick,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(Instagram, {\n            fontSize: \"small\",\n            style: {\n              marginRight: \"10px\",\n              color: \"#e1306c\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 35\n            }\n          }), \"Instagram\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 29\n        }\n      })));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 21\n    }\n  }))))), (statusImport === null || statusImport === void 0 ? void 0 : statusImport.all) ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"auto\",\n      marginBottom: 12\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 671,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 672,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    className: classes.content,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 673,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h5\",\n    variant: \"h5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 674,\n      columnNumber: 23\n    }\n  }, (statusImport === null || statusImport === void 0 ? void 0 : statusImport.this) === -1 ? i18n.t(\"connections.buttons.preparing\") : i18n.t(\"connections.buttons.importing\")), (statusImport === null || statusImport === void 0 ? void 0 : statusImport.this) === -1 ? /*#__PURE__*/React.createElement(Typography, {\n    component: \"h6\",\n    variant: \"h6\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 680,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    size: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 682,\n      columnNumber: 27\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Typography, {\n    component: \"h6\",\n    variant: \"h6\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 689,\n      columnNumber: 27\n    }\n  }, `${i18n.t(`connections.typography.processed`)} ${statusImport === null || statusImport === void 0 ? void 0 : statusImport.this} ${i18n.t(`connections.typography.in`)} ${statusImport === null || statusImport === void 0 ? void 0 : statusImport.all}  ${i18n.t(`connections.typography.date`)}: ${statusImport === null || statusImport === void 0 ? void 0 : statusImport.date} `), /*#__PURE__*/React.createElement(Typography, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 692,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgressWithLabel, {\n    style: {\n      margin: \"auto\"\n    },\n    value: (statusImport === null || statusImport === void 0 ? void 0 : statusImport.this) / (statusImport === null || statusImport === void 0 ? void 0 : statusImport.all) * 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 29\n    }\n  }))))))) : null, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaper,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 707,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 709,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 710,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 711,\n      columnNumber: 19\n    }\n  }, \"Channel\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 712,\n      columnNumber: 19\n    }\n  }, i18n.t(\"connections.table.name\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 713,\n      columnNumber: 19\n    }\n  }, i18n.t(\"connections.table.number\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 714,\n      columnNumber: 19\n    }\n  }, i18n.t(\"connections.table.status\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 19\n    }\n  }, i18n.t(\"connections.table.session\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 716,\n      columnNumber: 19\n    }\n  }, i18n.t(\"connections.table.lastUpdate\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 717,\n      columnNumber: 19\n    }\n  }, i18n.t(\"connections.table.default\")), /*#__PURE__*/React.createElement(Can, {\n    role: user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile,\n    perform: \"connections-page:addConnection\",\n    yes: () => /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 722,\n        columnNumber: 23\n      }\n    }, i18n.t(\"connections.table.actions\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 718,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 15\n    }\n  }, loading ? /*#__PURE__*/React.createElement(TableRowSkeleton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 729,\n      columnNumber: 19\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, (whatsApps === null || whatsApps === void 0 ? void 0 : whatsApps.length) > 0 && whatsApps.map(whatsApp => /*#__PURE__*/React.createElement(TableRow, {\n    key: whatsApp.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 735,\n      columnNumber: 27\n    }\n  }, IconChannel(whatsApp.channel)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 736,\n      columnNumber: 27\n    }\n  }, whatsApp.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 737,\n      columnNumber: 27\n    }\n  }, whatsApp.number && whatsApp.channel === 'whatsapp' ? /*#__PURE__*/React.createElement(React.Fragment, null, formatSerializedId(whatsApp.number)) : whatsApp.number), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 738,\n      columnNumber: 27\n    }\n  }, renderStatusToolTips(whatsApp)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 739,\n      columnNumber: 27\n    }\n  }, renderActionButtons(whatsApp)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 740,\n      columnNumber: 27\n    }\n  }, format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 741,\n      columnNumber: 27\n    }\n  }, whatsApp.isDefault && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.customTableCell,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 743,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(CheckCircle, {\n    style: {\n      color: green[500]\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 744,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(Can, {\n    role: user.profile,\n    perform: \"connections-page:addConnection\",\n    yes: () => /*#__PURE__*/React.createElement(TableCell, {\n      align: \"center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 752,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: () => handleEditWhatsApp(whatsApp),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 753,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Edit, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 757,\n        columnNumber: 35\n      }\n    })), /*#__PURE__*/React.createElement(IconButton, {\n      size: \"small\",\n      onClick: e => {\n        handleOpenConfirmationModal(\"delete\", whatsApp.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 760,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(DeleteOutline, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 766,\n        columnNumber: 35\n      }\n    }))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 748,\n      columnNumber: 27\n    }\n  })))))))));\n};\nexport default Connections;","map":{"version":3,"names":["React","useState","useCallback","useContext","useEffect","toast","add","format","parseISO","Menu","MenuItem","PopupState","bindTrigger","bindMenu","makeStyles","green","Button","TableBody","TableRow","TableCell","IconButton","Table","TableHead","Paper","Tooltip","Typography","CircularProgress","Box","Card","CardContent","Edit","CheckCircle","SignalCellularConnectedNoInternet2Bar","SignalCellularConnectedNoInternet0Bar","SignalCellular4Bar","CropFree","DeleteOutline","Facebook","Instagram","WhatsApp","FacebookLogin","MainContainer","MainHeader","MainHeaderButtonsWrapper","Title","TableRowSkeleton","api","WhatsAppModal","ConfirmationModal","QrcodeModal","i18n","WhatsAppsContext","toastError","formatSerializedId","AuthContext","usePlans","useHistory","ForbiddenPage","Can","moment","useStyles","theme","mainPaper","flex","padding","overflowY","scrollbarStyles","customTableCell","display","alignItems","justifyContent","tooltip","backgroundColor","color","fontSize","typography","pxToRem","border","maxWidth","tooltipPopper","textAlign","buttonProgress","CircularProgressWithLabel","props","createElement","position","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Object","assign","variant","top","left","bottom","right","component","Math","round","value","CustomToolTip","title","content","children","classes","arrow","popper","Fragment","gutterBottom","IconChannel","channel","style","Connections","whatsApps","loading","whatsAppModalOpen","setWhatsAppModalOpen","statusImport","setStatusImport","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","handleLogout","history","confirmationModalInitialState","action","message","whatsAppId","open","confirmModalInfo","setConfirmModalInfo","planConfig","setPlanConfig","user","socket","companyId","getPlanCompany","fetchData","planConfigs","undefined","before","isBefore","company","dueDate","responseFacebook","response","status","accessToken","id","post","facebookUserId","facebookUserToken","then","success","t","catch","error","responseInstagram","addInstagram","on","data","go","handleStartWhatsAppSession","err","handleRequestNewQrCode","put","handleOpenWhatsAppModal","handleCloseWhatsAppModal","handleOpenQrModal","whatsApp","handleCloseQrModal","handleEditWhatsApp","openInNewTab","url","window","handleOpenConfirmationModal","handleSubmitConfirmationModal","delete","renderImportButton","statusImportMessages","marginLeft","size","onClick","importOldMessages","isTimeStamp","isNaN","Date","floor","getTime","ultimoStatus","dataLimite","seconds","disabled","endIcon","className","renderActionButtons","role","profile","allowConnections","perform","yes","renderStatusToolTips","restartWhatsapps","onClose","onConfirm","length","process","env","REACT_APP_NUMBER_SUPPORT","popupId","popupState","_planConfig$plan","plan","useWhatsapp","close","marginRight","appId","REACT_APP_FACEBOOK_APP_ID","autoLoad","fields","version","scope","callback","render","renderProps","_planConfig$plan2","useFacebook","_planConfig$plan3","useInstagram","all","margin","marginBottom","root","this","align","date","map","key","name","number","updatedAt","isDefault","e"],"sources":["/workspaces/simao/whaticket/frontend/src/pages/Connections/index.js"],"sourcesContent":["\nimport React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { add, format, parseISO } from \"date-fns\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  TableBody,\n  TableRow,\n  TableCell,\n  IconButton,\n  Table,\n  TableHead,\n  Paper,\n  Tooltip,\n  Typography,\n  CircularProgress,\n  Box,\n  Card,\n  CardContent,\n} from \"@material-ui/core\";\nimport {\n  Edit,\n  CheckCircle,\n  SignalCellularConnectedNoInternet2Bar,\n  SignalCellularConnectedNoInternet0Bar,\n  SignalCellular4Bar,\n  CropFree,\n  DeleteOutline,\n  Facebook,\n  Instagram,\n  WhatsApp,\n} from \"@material-ui/icons\";\n\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport formatSerializedId from '../../utils/formatSerializedId';\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport { Can } from \"../../components/Can\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450,\n  },\n  tooltipPopper: {\n    textAlign: \"center\",\n  },\n  buttonProgress: {\n    color: green[500],\n  },\n}));\n\nfunction CircularProgressWithLabel(props) {\n  return (\n    <Box position=\"relative\" display=\"inline-flex\">\n      <CircularProgress variant=\"determinate\" {...props} />\n      <Box\n        top={0}\n        left={0}\n        bottom={0}\n        right={0}\n        position=\"absolute\"\n        display=\"flex\"\n        alignItems=\"center\"\n        justifyContent=\"center\"\n      >\n        <Typography\n          variant=\"caption\"\n          component=\"div\"\n          color=\"textSecondary\"\n        >{`${Math.round(props.value)}%`}</Typography>\n      </Box>\n    </Box>\n  );\n}\n\nconst CustomToolTip = ({ title, content, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      arrow\n      classes={{\n        tooltip: classes.tooltip,\n        popper: classes.tooltipPopper,\n      }}\n      title={\n        <React.Fragment>\n          <Typography gutterBottom color=\"inherit\">\n            {title}\n          </Typography>\n          {content && <Typography>{content}</Typography>}\n        </React.Fragment>\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n};\n\nconst IconChannel = (channel) => {\n  switch (channel) {\n    case \"facebook\":\n      return <Facebook style={{ color: \"#3b5998\" }} />;\n    case \"instagram\":\n      return <Instagram style={{ color: \"#e1306c\" }} />;\n    case \"whatsapp\":\n      return <WhatsApp style={{ color: \"#25d366\" }} />;\n    default:\n      return \"error\";\n  }\n};\n\nconst Connections = () => {\n  const classes = useStyles();\n\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [statusImport, setStatusImport] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const { handleLogout } = useContext(AuthContext);\n  const history = useHistory();\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false,\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(confirmationModalInitialState);\n  const [planConfig, setPlanConfig] = useState(false);\n\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n  const companyId = user.companyId;\n\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      setPlanConfig(planConfigs)\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  var before = moment(moment().format()).isBefore(user.company.dueDate);\n\n\tif (before !== true){\n\t\thandleLogout();\n\t}\n\n  const responseFacebook = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  const responseInstagram = (response) => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          addInstagram: true,\n          facebookUserId: id,\n          facebookUserToken: accessToken,\n        })\n        .then((response) => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch((error) => {\n          toastError(error);\n        });\n    }\n  };\n\n  useEffect(() => {\n    // const socket = socketManager.GetSocket();\n    socket.on(`importMessages-${user.companyId}`, (data) => {\n      if (data.action === \"refresh\") {\n        setStatusImport([]);\n        history.go(0);\n      }\n      if (data.action === \"update\") {\n        setStatusImport(data.status);\n      }\n    });\n\n    /* return () => {\n      socket.disconnect();\n    }; */\n  }, [whatsApps]);\n\n  const handleStartWhatsAppSession = async (whatsAppId) => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleRequestNewQrCode = async (whatsAppId) => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenWhatsAppModal = () => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n  const handleOpenQrModal = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n\n  const handleEditWhatsApp = (whatsApp) => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n\n  const openInNewTab = url => {\n    window.open(url, '_blank', 'noopener,noreferrer');\n  };\n\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n    if (action === \"closedImported\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.closedImportedTitle\"),\n        message: i18n.t(\"connections.confirmationModal.closedImportedMessage\"),\n        whatsAppId: whatsAppId,\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    if (confirmModalInfo.action === \"closedImported\") {\n      try {\n        await api.post(`/closedimported/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.closedimported\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n\n\n  const renderImportButton = (whatsApp) => {\n    if (whatsApp?.statusImportMessages === \"renderButtonCloseTickets\") {\n      return (\n        <Button\n          style={{ marginLeft: 12 }}\n          size=\"small\"\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={() => {\n            handleOpenConfirmationModal(\"closedImported\", whatsApp.id);\n          }}\n        >\n          {i18n.t(\"connections.buttons.closedImported\")}\n        </Button>\n      );\n    }\n\n    if (whatsApp?.importOldMessages) {\n      let isTimeStamp = !isNaN(\n        new Date(Math.floor(whatsApp?.statusImportMessages)).getTime()\n      );\n\n      if (isTimeStamp) {\n        const ultimoStatus = new Date(\n          Math.floor(whatsApp?.statusImportMessages)\n        ).getTime();\n        const dataLimite = +add(ultimoStatus, { seconds: +35 }).getTime();\n        if (dataLimite > new Date().getTime()) {\n          return (\n            <>\n              <Button\n                disabled\n                style={{ marginLeft: 12 }}\n                size=\"small\"\n                endIcon={\n                  <CircularProgress\n                    size={12}\n                    className={classes.buttonProgress}\n                  />\n                }\n                variant=\"outlined\"\n                color=\"primary\"\n              >\n                {i18n.t(\"connections.buttons.preparing\")}\n              </Button>\n            </>\n          );\n        }\n      }\n    }\n  };\n\n  const renderActionButtons = (whatsApp) => {\n    return (\n      <>\n        {whatsApp.status === \"qrcode\" && (\n          <Can\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n            perform=\"connections-page:addConnection\"\n            yes={() => (\n              <Button\n                size=\"small\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => handleOpenQrModal(whatsApp)}\n              >\n                {i18n.t(\"connections.buttons.qrcode\")}\n              </Button>\n            )}\n          />\n        )}\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <Can\n            role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n            perform=\"connections-page:addConnection\"\n            yes={() => (\n              <>\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  onClick={() => handleStartWhatsAppSession(whatsApp.id)}\n                >\n                  {i18n.t(\"connections.buttons.tryAgain\")}\n                </Button>{\" \"}\n                <Button\n                  size=\"small\"\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  onClick={() => handleRequestNewQrCode(whatsApp.id)}\n                >\n                  {i18n.t(\"connections.buttons.newQr\")}\n                </Button>\n              </>\n            )}\n          />\n        )}\n        {(whatsApp.status === \"CONNECTED\" ||\n          whatsApp.status === \"PAIRING\" ||\n          whatsApp.status === \"TIMEOUT\") && (\n            <Can\n              role={user.profile}\n              perform=\"connections-page:addConnection\"\n              yes={() => (\n                <>\n                  <Button\n                    size=\"small\"\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    onClick={() => {\n                      handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n                    }}\n                  >\n                    {i18n.t(\"connections.buttons.disconnect\")}\n                  </Button>\n\n                  {renderImportButton(whatsApp)}\n                </>\n              )}\n            />\n          )}\n        {whatsApp.status === \"OPENING\" && (\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n            {i18n.t(\"connections.buttons.connecting\")}\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  const renderStatusToolTips = (whatsApp) => {\n    return (\n      <div className={classes.customTableCell}>\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\n          >\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"OPENING\" && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n        {whatsApp.status === \"qrcode\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\n          >\n            <CropFree />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"CONNECTED\" && (\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n            <SignalCellular4Bar style={{ color: green[500] }} />\n          </CustomToolTip>\n        )}\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\n          >\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n      </div>\n    );\n  };\n\n  const restartWhatsapps = async () => {\n\n    try {\n      await api.post(`/whatsapp-restart/`);\n      toast.success(i18n.t(\"connections.waitConnection\"));\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={confirmModalInfo.title}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleSubmitConfirmationModal}\n      >\n        {confirmModalInfo.message}\n      </ConfirmationModal>\n      {qrModalOpen && (\n        <QrcodeModal\n          open={qrModalOpen}\n          onClose={handleCloseQrModal}\n          whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n        />\n      )}\n      <WhatsAppModal\n        open={whatsAppModalOpen}\n        onClose={handleCloseWhatsAppModal}\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n      />\n      {user.profile === \"user\" && user.allowConnections === \"disabled\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <MainHeader>\n            <Title>{i18n.t(\"connections.title\")} ({whatsApps.length})</Title>\n            <MainHeaderButtonsWrapper>\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={restartWhatsapps}\n              >\n                {i18n.t(\"connections.restartConnections\")}\n              </Button>\n\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={() => openInNewTab(`https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`)}\n              >\n                {i18n.t(\"connections.callSupport\")}\n              </Button>\n              <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                {(popupState) => (\n                  <React.Fragment>\n                    <Can\n                      role={user.profile}\n                      perform=\"connections-page:addConnection\"\n                      yes={() => (\n                        <>\n                          <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            {...bindTrigger(popupState)}\n                          >\n                            {i18n.t(\"connections.newConnection\")}\n                          </Button>\n                          <Menu {...bindMenu(popupState)}>\n                            {/* WHATSAPP */}\n                            <MenuItem\n                              disabled={planConfig?.plan?.useWhatsapp ? false : true}\n                              onClick={() => {\n                                handleOpenWhatsAppModal();\n                                popupState.close();\n                              }}\n                            >\n                              <WhatsApp\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\",\n                                  color: \"#25D366\",\n                                }}\n                              />\n                              WhatsApp\n                            </MenuItem>\n                            {/* FACEBOOK */}\n                            <FacebookLogin\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                              autoLoad={false}\n                              fields=\"name,email,picture\"\n                              version=\"9.0\"\n                              scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                              callback={responseFacebook}\n                              render={(renderProps) => (\n                                <MenuItem\n                                  disabled={planConfig?.plan?.useFacebook ? false : true}\n                                  onClick={renderProps.onClick}\n                                >\n                                  <Facebook\n                                    fontSize=\"small\"\n                                    style={{\n                                      marginRight: \"10px\",\n                                      color: \"#3b5998\",\n                                    }}\n                                  />\n                                  Facebook\n                                </MenuItem>\n                              )}\n                            />\n                            {/* INSTAGRAM */}\n                            <FacebookLogin\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                              autoLoad={false}\n                              fields=\"name,email,picture\"\n                              version=\"9.0\"\n                              scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                              callback={responseInstagram}\n                              render={(renderProps) => (\n                                <MenuItem\n                                  disabled={planConfig?.plan?.useInstagram ? false : true}\n                                  onClick={renderProps.onClick}\n                                >\n                                  <Instagram\n                                    fontSize=\"small\"\n                                    style={{\n                                      marginRight: \"10px\",\n                                      color: \"#e1306c\",\n                                    }}\n                                  />\n                                  Instagram\n                                </MenuItem>\n                              )}\n                            />\n                          </Menu>\n                        </>\n                      )}\n                    />\n                  </React.Fragment>\n                )}\n              </PopupState>\n            </MainHeaderButtonsWrapper>\n          </MainHeader>\n\n          {\n            statusImport?.all ? (\n              <>\n                <div style={{ margin: \"auto\", marginBottom: 12 }}>\n                  <Card className={classes.root}>\n                    <CardContent className={classes.content}>\n                      <Typography component=\"h5\" variant=\"h5\">\n\n                        {statusImport?.this === -1 ? i18n.t(\"connections.buttons.preparing\") : i18n.t(\"connections.buttons.importing\")}\n\n                      </Typography>\n                      {statusImport?.this === -1 ?\n                        <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n\n                          <CircularProgress\n                            size={24}\n                          />\n\n                        </Typography>\n                        :\n                        <>\n                          <Typography component=\"h6\" variant=\"h6\" align=\"center\">\n                            {`${i18n.t(`connections.typography.processed`)} ${statusImport?.this} ${i18n.t(`connections.typography.in`)} ${statusImport?.all}  ${i18n.t(`connections.typography.date`)}: ${statusImport?.date} `}\n                          </Typography>\n                          <Typography align=\"center\">\n                            <CircularProgressWithLabel\n                              style={{ margin: \"auto\" }}\n                              value={(statusImport?.this / statusImport?.all) * 100}\n                            />\n                          </Typography>\n                        </>\n                      }\n                    </CardContent>\n                  </Card>\n                </div>\n              </>\n            ) : null\n          }\n\n          <Paper className={classes.mainPaper} variant=\"outlined\">\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell align=\"center\">Channel</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.name\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.number\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.status\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.session\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.lastUpdate\")}</TableCell>\n                  <TableCell align=\"center\">{i18n.t(\"connections.table.default\")}</TableCell>\n                  <Can\n                    role={user.profile === \"user\" && user.allowConnections === \"enabled\" ? \"admin\" : user.profile}\n                    perform=\"connections-page:addConnection\"\n                    yes={() => (\n                      <TableCell align=\"center\">{i18n.t(\"connections.table.actions\")}</TableCell>\n                    )}\n                  />\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {loading ? (\n                  <TableRowSkeleton />\n                ) : (\n                  <>\n                    {whatsApps?.length > 0 &&\n                      whatsApps.map((whatsApp) => (\n                        <TableRow key={whatsApp.id}>\n                          <TableCell align=\"center\">{IconChannel(whatsApp.channel)}</TableCell>\n                          <TableCell align=\"center\">{whatsApp.name}</TableCell>\n                          <TableCell align=\"center\">{whatsApp.number && whatsApp.channel === 'whatsapp' ? (<>{formatSerializedId(whatsApp.number)}</>) : whatsApp.number}</TableCell>\n                          <TableCell align=\"center\">{renderStatusToolTips(whatsApp)}</TableCell>\n                          <TableCell align=\"center\">{renderActionButtons(whatsApp)}</TableCell>\n                          <TableCell align=\"center\">{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}</TableCell>\n                          <TableCell align=\"center\">\n                            {whatsApp.isDefault && (\n                              <div className={classes.customTableCell}>\n                                <CheckCircle style={{ color: green[500] }} />\n                              </div>\n                            )}\n                          </TableCell>\n                          <Can\n                            role={user.profile}\n                            perform=\"connections-page:addConnection\"\n                            yes={() => (\n                              <TableCell align=\"center\">\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={() => handleEditWhatsApp(whatsApp)}\n                                >\n                                  <Edit />\n                                </IconButton>\n\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={(e) => {\n                                    handleOpenConfirmationModal(\"delete\", whatsApp.id);\n                                  }}\n                                >\n                                  <DeleteOutline />\n                                </IconButton>\n                              </TableCell>\n                            )}\n                          />\n                        </TableRow>\n                      ))}\n                  </>\n                )}\n              </TableBody>\n            </Table>\n          </Paper>\n        </>\n      }\n    </MainContainer >\n\n  );\n};\n\nexport default Connections;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}