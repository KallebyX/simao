{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/components/CameraModal/index.js\";\nimport React, { useState } from 'react';\nimport Modal from 'react-modal';\nimport Camera, { FACING_MODES } from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\nModal.setAppElement('#root');\nconst customStyles = {\n  overlay: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)' // Fundo transparente\n  },\n  content: {\n    width: '80%',\n    height: '70%',\n    maxWidth: '780px',\n    maxHeight: '85vh',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    borderRadius: '8px',\n    boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\n    border: 'none',\n    padding: '0',\n    background: 'none',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center'\n  }\n};\nconst ModalCamera = ({\n  isOpen,\n  onRequestClose,\n  onCapture\n}) => {\n  const [capturedImage, setCapturedImage] = useState(null);\n  const handleTakePhoto = dataUri => {\n    setCapturedImage(dataUri);\n  };\n  const handleConfirm = () => {\n    // Converta a imagem capturada em um arquivo (Blob)\n    fetch(capturedImage).then(res => res.blob()).then(blob => {\n      // Chame a função de retorno com o arquivo da imagem capturada\n      onCapture(blob);\n    });\n\n    // Feche o modal\n    setCapturedImage(null);\n    onRequestClose();\n  };\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: isOpen,\n    onRequestClose: onRequestClose,\n    style: customStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Camera, {\n    onTakePhoto: handleTakePhoto,\n    idealFacingMode: FACING_MODES.ENVIRONMENT,\n    isImageMirror: false,\n    style: customStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  })), capturedImage && handleConfirm());\n};\nexport default ModalCamera;","map":{"version":3,"names":["React","useState","Modal","Camera","FACING_MODES","setAppElement","customStyles","overlay","backgroundColor","content","width","height","maxWidth","maxHeight","top","left","transform","borderRadius","boxShadow","border","padding","background","display","flexDirection","alignItems","ModalCamera","isOpen","onRequestClose","onCapture","capturedImage","setCapturedImage","handleTakePhoto","dataUri","handleConfirm","fetch","then","res","blob","createElement","style","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","flex","onTakePhoto","idealFacingMode","ENVIRONMENT","isImageMirror"],"sources":["/workspaces/simao/whaticket/frontend/src/components/CameraModal/index.js"],"sourcesContent":["import React, { useState } from 'react';\nimport Modal from 'react-modal';\nimport Camera, { FACING_MODES } from 'react-html5-camera-photo';\nimport 'react-html5-camera-photo/build/css/index.css';\n\nModal.setAppElement('#root');\n\n\nconst customStyles = {\n  overlay: {\n    backgroundColor: 'rgba(0, 0, 0, 0.5)', // Fundo transparente\n  },\n  content: {\n    width: '80%',\n    height: '70%',\n    maxWidth: '780px',\n    maxHeight: '85vh',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    borderRadius: '8px',\n    boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\n    border: 'none',\n    padding: '0',\n    background: 'none',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n};\n\nconst ModalCamera = ({ isOpen, onRequestClose, onCapture }) => {\n  const [capturedImage, setCapturedImage] = useState(null);\n\n  const handleTakePhoto = (dataUri) => {\n    setCapturedImage(dataUri);\n  };\n\n  const handleConfirm = () => {\n\n    // Converta a imagem capturada em um arquivo (Blob)\n    fetch(capturedImage)\n      .then((res) => res.blob())\n      .then((blob) => {\n        // Chame a função de retorno com o arquivo da imagem capturada\n        onCapture(blob);\n      });\n\n    // Feche o modal\n    setCapturedImage(null);\n    onRequestClose();\n  };\n\n  return (\n   <Modal\n      isOpen={isOpen}\n      onRequestClose={onRequestClose}  \n      style={customStyles}    \n    >\n       <div style={{ flex: 1 }}>\n          <Camera\n            onTakePhoto={handleTakePhoto}\n            idealFacingMode={FACING_MODES.ENVIRONMENT}\n            isImageMirror={false}\n            style={customStyles}\n          />\n        </div>\n        {capturedImage && \n          handleConfirm()\n        }\n    </Modal>\n  );\n};\n\nexport default ModalCamera;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,aAAa;AAC/B,OAAOC,MAAM,IAAIC,YAAY,QAAQ,0BAA0B;AAC/D,OAAO,8CAA8C;AAErDF,KAAK,CAACG,aAAa,CAAC,OAAO,CAAC;AAG5B,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE;IACPC,eAAe,EAAE,oBAAoB,CAAE;EACzC,CAAC;EACDC,OAAO,EAAE;IACPC,KAAK,EAAE,KAAK;IACZC,MAAM,EAAE,KAAK;IACbC,QAAQ,EAAE,OAAO;IACjBC,SAAS,EAAE,MAAM;IACjBC,GAAG,EAAE,KAAK;IACVC,IAAI,EAAE,KAAK;IACXC,SAAS,EAAE,uBAAuB;IAClCC,YAAY,EAAE,KAAK;IACnBC,SAAS,EAAE,6BAA6B;IACxCC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE,GAAG;IACZC,UAAU,EAAE,MAAM;IAClBC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE;EACd;AACF,CAAC;AAED,MAAMC,WAAW,GAAGA,CAAC;EAAEC,MAAM;EAAEC,cAAc;EAAEC;AAAU,CAAC,KAAK;EAC7D,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAG7B,QAAQ,CAAC,IAAI,CAAC;EAExD,MAAM8B,eAAe,GAAIC,OAAO,IAAK;IACnCF,gBAAgB,CAACE,OAAO,CAAC;EAC3B,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAE1B;IACAC,KAAK,CAACL,aAAa,CAAC,CACjBM,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEE,IAAI,IAAK;MACd;MACAT,SAAS,CAACS,IAAI,CAAC;IACjB,CAAC,CAAC;;IAEJ;IACAP,gBAAgB,CAAC,IAAI,CAAC;IACtBH,cAAc,CAAC,CAAC;EAClB,CAAC;EAED,oBACC3B,KAAA,CAAAsC,aAAA,CAACpC,KAAK;IACHwB,MAAM,EAAEA,MAAO;IACfC,cAAc,EAAEA,cAAe;IAC/BY,KAAK,EAAEjC,YAAa;IAAAkC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAEnB7C,KAAA,CAAAsC,aAAA;IAAKC,KAAK,EAAE;MAAEO,IAAI,EAAE;IAAE,CAAE;IAAAN,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrB7C,KAAA,CAAAsC,aAAA,CAACnC,MAAM;IACL4C,WAAW,EAAEhB,eAAgB;IAC7BiB,eAAe,EAAE5C,YAAY,CAAC6C,WAAY;IAC1CC,aAAa,EAAE,KAAM;IACrBX,KAAK,EAAEjC,YAAa;IAAAkC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACrB,CACE,CAAC,EACLhB,aAAa,IACZI,aAAa,CAAC,CAEb,CAAC;AAEZ,CAAC;AAED,eAAeR,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}