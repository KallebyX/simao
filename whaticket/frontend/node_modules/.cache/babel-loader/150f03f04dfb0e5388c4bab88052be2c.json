{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/pages/AllConnections/index.js\";\nimport React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO, set } from \"date-fns\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\nimport { Stack } from \"@mui/material\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { green } from \"@material-ui/core/colors\";\nimport { Button, TableBody, TableRow, TableCell, IconButton, Table, TableHead, Paper, Tooltip, Typography, CircularProgress, Divider } from \"@material-ui/core\";\nimport { Edit, CheckCircle, SignalCellularConnectedNoInternet2Bar, SignalCellularConnectedNoInternet0Bar, SignalCellular4Bar, CropFree, DeleteOutline, Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport WhatsAppModalCompany from \"../../components/CompanyWhatsapps\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    borderRadius: \"10px\",\n    boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px\",\n    ...theme.scrollbarStyles\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450\n  },\n  tooltipPopper: {\n    textAlign: \"center\"\n  },\n  buttonProgress: {\n    color: green[500]\n  },\n  TableHead: {\n    backgroundColor: theme.palette.barraSuperior,\n    //\"#3d3d3d\",\n    color: \"textSecondary\",\n    borderRadius: \"5px\"\n  }\n}));\nconst CustomToolTip = ({\n  title,\n  content,\n  children\n}) => {\n  const classes = useStyles();\n  return /*#__PURE__*/React.createElement(Tooltip, {\n    arrow: true,\n    classes: {\n      tooltip: classes.tooltip,\n      popper: classes.tooltipPopper\n    },\n    title: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      gutterBottom: true,\n      color: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, title), content && /*#__PURE__*/React.createElement(Typography, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 23\n      }\n    }, content)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, children);\n};\nconst IconChannel = channel => {\n  switch (channel) {\n    case \"facebook\":\n      return /*#__PURE__*/React.createElement(Facebook, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 14\n        }\n      });\n    case \"instagram\":\n      return /*#__PURE__*/React.createElement(Instagram, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 14\n        }\n      });\n    case \"whatsapp\":\n      return /*#__PURE__*/React.createElement(WhatsApp, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 14\n        }\n      });\n    default:\n      return \"error\";\n  }\n};\nconst AllConnections = () => {\n  const classes = useStyles();\n  const {\n    user,\n    socket\n  } = useContext(AuthContext);\n  const {\n    list\n  } = useCompanies();\n  const [loadingWhatsapp, setLoadingWhatsapp] = useState(true);\n  const [loadingComp, setLoadingComp] = useState(false);\n  const [whats, setWhats] = useState([]);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [companies, setCompanies] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [filterConnections, setFilterConnections] = useState([]);\n  const [companyWhatsApps, setCompanyWhatsApps] = useState(null);\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(confirmationModalInitialState);\n  const history = useHistory();\n  if (!user.super) {\n    history.push(\"/tickets\");\n  }\n  useEffect(() => {\n    setLoadingWhatsapp(true);\n    const fetchSession = async () => {\n      try {\n        const {\n          data\n        } = await api.get(\"/whatsapp/all/?session=0\");\n        setWhats(data);\n        setLoadingWhatsapp(false);\n      } catch (err) {\n        setLoadingWhatsapp(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n  const responseFacebook = response => {\n    if (response.status !== \"unknown\") {\n      const {\n        accessToken,\n        id\n      } = response;\n      api.post(\"/facebook\", {\n        facebookUserId: id,\n        facebookUserToken: accessToken\n      }).then(response => {\n        toast.success(i18n.t(\"connections.facebook.success\"));\n      }).catch(error => {\n        toastError(error);\n      });\n    }\n  };\n  useEffect(() => {\n    loadCompanies();\n  }, []);\n  const loadCompanies = async () => {\n    setLoadingComp(true);\n    try {\n      const companyList = await list();\n      setCompanies(companyList);\n    } catch (e) {\n      toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoadingComp(false);\n  };\n  const responseInstagram = response => {\n    if (response.status !== \"unknown\") {\n      const {\n        accessToken,\n        id\n      } = response;\n      api.post(\"/facebook\", {\n        addInstagram: true,\n        facebookUserId: id,\n        facebookUserToken: accessToken\n      }).then(response => {\n        toast.success(i18n.t(\"connections.facebook.success\"));\n      }).catch(error => {\n        toastError(error);\n      });\n    }\n  };\n  const handleStartWhatsAppSession = async whatsAppId => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleRequestNewQrCode = async whatsAppId => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleOpenWhatsAppModal = (whatsappsFilter, comp) => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n    if ((whatsappsFilter === null || whatsappsFilter === void 0 ? void 0 : whatsappsFilter.length) > 0) {\n      setFilterConnections(whatsappsFilter);\n      setCompanyWhatsApps(comp);\n    }\n  };\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n    setFilterConnections([]);\n    setCompanyWhatsApps(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n  const handleOpenQrModal = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n  const handleEditWhatsApp = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/admin/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.disconnected\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n  const renderActionButtons = whatsApp => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, whatsApp.status === \"qrcode\" && /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: () => handleOpenQrModal(whatsApp),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }\n    }, i18n.t(\"connections.buttons.qrcode\")), whatsApp.status === \"DISCONNECTED\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      variant: \"outlined\",\n      color: \"primary\",\n      onClick: () => handleStartWhatsAppSession(whatsApp.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 13\n      }\n    }, i18n.t(\"connections.buttons.tryAgain\")), \" \", /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      variant: \"outlined\",\n      color: \"secondary\",\n      onClick: () => handleRequestNewQrCode(whatsApp.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 13\n      }\n    }, i18n.t(\"connections.buttons.newQr\"))), (whatsApp.status === \"CONNECTED\" || whatsApp.status === \"PAIRING\" || whatsApp.status === \"TIMEOUT\") && /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      variant: \"outlined\",\n      color: \"secondary\",\n      onClick: () => {\n        handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 13\n      }\n    }, i18n.t(\"connections.buttons.disconnect\")), whatsApp.status === \"OPENING\" && /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      variant: \"outlined\",\n      disabled: true,\n      color: \"default\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365,\n        columnNumber: 11\n      }\n    }, i18n.t(\"connections.buttons.connecting\")));\n  };\n  const renderStatusToolTips = whatsApp => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.customTableCell,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 7\n      }\n    }, whatsApp.status === \"DISCONNECTED\" && /*#__PURE__*/React.createElement(CustomToolTip, {\n      title: i18n.t(\"connections.toolTips.disconnected.title\"),\n      content: i18n.t(\"connections.toolTips.disconnected.content\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SignalCellularConnectedNoInternet0Bar, {\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381,\n        columnNumber: 13\n      }\n    })), whatsApp.status === \"OPENING\" && /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 24,\n      className: classes.buttonProgress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }\n    }), whatsApp.status === \"qrcode\" && /*#__PURE__*/React.createElement(CustomToolTip, {\n      title: i18n.t(\"connections.toolTips.qrcode.title\"),\n      content: i18n.t(\"connections.toolTips.qrcode.content\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CropFree, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 13\n      }\n    })), whatsApp.status === \"CONNECTED\" && /*#__PURE__*/React.createElement(CustomToolTip, {\n      title: i18n.t(\"connections.toolTips.connected.title\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SignalCellular4Bar, {\n      style: {\n        color: green[500]\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 13\n      }\n    })), (whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && /*#__PURE__*/React.createElement(CustomToolTip, {\n      title: i18n.t(\"connections.toolTips.timeout.title\"),\n      content: i18n.t(\"connections.toolTips.timeout.content\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(SignalCellularConnectedNoInternet2Bar, {\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 13\n      }\n    })));\n  };\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: confirmModalInfo.title,\n    open: confirmModalOpen,\n    onClose: setConfirmModalOpen,\n    onConfirm: handleSubmitConfirmationModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }\n  }, confirmModalInfo.message), /*#__PURE__*/React.createElement(QrcodeModal, {\n    open: qrModalOpen,\n    onClose: handleCloseQrModal,\n    whatsAppId: !whatsAppModalOpen && (selectedWhatsApp === null || selectedWhatsApp === void 0 ? void 0 : selectedWhatsApp.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(WhatsAppModalCompany, {\n    open: whatsAppModalOpen,\n    onClose: handleCloseWhatsAppModal,\n    filteredWhatsapps: filterConnections,\n    companyInfos: companyWhatsApps,\n    whatsAppId: !qrModalOpen && (selectedWhatsApp === null || selectedWhatsApp === void 0 ? void 0 : selectedWhatsApp.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 7\n    }\n  }), user.profile === \"user\" ? /*#__PURE__*/React.createElement(ForbiddenPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaper,\n    style: {\n      overflow: \"hidden\"\n    },\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MainHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Stack, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h5\",\n    color: \"black\",\n    style: {\n      fontWeight: \"bold\",\n      marginLeft: \"10px\",\n      marginTop: \"10px\"\n    },\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 17\n    }\n  }, i18n.t(\"connections.title\")), /*#__PURE__*/React.createElement(Typography, {\n    style: {\n      marginTop: \"-10px\",\n      marginLeft: \"10px\"\n    },\n    variant: \"caption\",\n    color: \"textSecondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 17\n    }\n  }, \"Conecte seus canais de atendimento para receber mensagens e iniciar conversas com seus clientes.\")), /*#__PURE__*/React.createElement(MainHeaderButtonsWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(PopupState, {\n    variant: \"popover\",\n    popupId: \"demo-popup-menu\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 17\n    }\n  }, popupState => /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Menu, Object.assign({}, bindMenu(popupState), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: () => {\n      handleOpenWhatsAppModal();\n      popupState.close();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(WhatsApp, {\n    fontSize: \"small\",\n    style: {\n      marginRight: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460,\n      columnNumber: 27\n    }\n  }), \"WhatsApp\"), /*#__PURE__*/React.createElement(FacebookLogin, {\n    appId: process.env.REACT_APP_FACEBOOK_APP_ID,\n    autoLoad: false,\n    fields: \"name,email,picture\",\n    version: \"13.0\",\n    scope: \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\",\n    callback: responseFacebook,\n    render: renderProps => /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: renderProps.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Facebook, {\n      fontSize: \"small\",\n      style: {\n        marginRight: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 31\n      }\n    }), \"Facebook\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(FacebookLogin, {\n    appId: process.env.REACT_APP_FACEBOOK_APP_ID,\n    autoLoad: false,\n    fields: \"name,email,picture\",\n    version: \"13.0\",\n    scope: \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\",\n    callback: responseInstagram,\n    render: renderProps => /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: renderProps.onClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(Instagram, {\n      fontSize: \"small\",\n      style: {\n        marginRight: \"10px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497,\n        columnNumber: 31\n      }\n    }), \"Instagram\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 25\n    }\n  })))))), /*#__PURE__*/React.createElement(Stack, {\n    style: {\n      overflowY: \"auto\",\n      padding: \"20px\",\n      backgroundColor: \"rgb(244 244 244 / 53%)\",\n      borderRadius: \"5px\",\n      height: \"93%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    className: classes.TableHead,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    style: {\n      color: \"#fff\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 526,\n      columnNumber: 23\n    }\n  }, i18n.t(\"Cliente\")), /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 23\n    }\n  }, i18n.t(\"Conexões conectadas\")), /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 23\n    }\n  }, i18n.t(\"Conexões desconectadas\")), /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 23\n    }\n  }, i18n.t(\"Total de Conexões\")), user.profile === \"admin\" && /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 25\n    }\n  }, i18n.t(\"connections.table.actions\")))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 19\n    }\n  }, loadingWhatsapp ? /*#__PURE__*/React.createElement(TableRowSkeleton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547,\n      columnNumber: 23\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, console.log(companies, whats), (companies === null || companies === void 0 ? void 0 : companies.length) > 0 && companies.map(company => /*#__PURE__*/React.createElement(TableRow, {\n    key: company.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 29\n    }\n  }, company === null || company === void 0 ? void 0 : company.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 29\n    }\n  }, (whats === null || whats === void 0 ? void 0 : whats.length) && whats.filter(item => (item === null || item === void 0 ? void 0 : item.companyId) === (company === null || company === void 0 ? void 0 : company.id) && (item === null || item === void 0 ? void 0 : item.status) === 'CONNECTED').length), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559,\n      columnNumber: 29\n    }\n  }, (whats === null || whats === void 0 ? void 0 : whats.length) && whats.filter(item => (item === null || item === void 0 ? void 0 : item.companyId) === (company === null || company === void 0 ? void 0 : company.id) && (item === null || item === void 0 ? void 0 : item.status) !== 'CONNECTED').length), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 562,\n      columnNumber: 29\n    }\n  }, (whats === null || whats === void 0 ? void 0 : whats.length) && whats.filter(item => (item === null || item === void 0 ? void 0 : item.companyId) === (company === null || company === void 0 ? void 0 : company.id)).length), user.profile === \"admin\" && /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 566,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    onClick: () => handleOpenWhatsAppModal(whats.filter(item => (item === null || item === void 0 ? void 0 : item.companyId) === (company === null || company === void 0 ? void 0 : company.id)), company),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Edit, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571,\n      columnNumber: 35\n    }\n  }))))), /*#__PURE__*/React.createElement(TableRow, {\n    className: classes.TableHead,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 578,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 579,\n      columnNumber: 27\n    }\n  }, i18n.t(\"Total\")), /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 580,\n      columnNumber: 27\n    }\n  }, (whats === null || whats === void 0 ? void 0 : whats.length) && whats.filter(item => (item === null || item === void 0 ? void 0 : item.status) === 'CONNECTED').length), /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 584,\n      columnNumber: 27\n    }\n  }, (whats === null || whats === void 0 ? void 0 : whats.length) && whats.filter(item => (item === null || item === void 0 ? void 0 : item.status) !== 'CONNECTED').length), /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 588,\n      columnNumber: 27\n    }\n  }, (whats === null || whats === void 0 ? void 0 : whats.length) && whats.length), user.profile === \"admin\" && /*#__PURE__*/React.createElement(TableCell, {\n    style: {\n      color: \"#fff\"\n    },\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 56\n    }\n  }))))))))));\n};\nexport default AllConnections;","map":{"version":3,"names":["React","useState","useCallback","useContext","useEffect","toast","format","parseISO","set","Menu","MenuItem","PopupState","bindTrigger","bindMenu","Stack","makeStyles","useHistory","green","Button","TableBody","TableRow","TableCell","IconButton","Table","TableHead","Paper","Tooltip","Typography","CircularProgress","Divider","Edit","CheckCircle","SignalCellularConnectedNoInternet2Bar","SignalCellularConnectedNoInternet0Bar","SignalCellular4Bar","CropFree","DeleteOutline","Facebook","Instagram","WhatsApp","FacebookLogin","MainContainer","MainHeader","MainHeaderButtonsWrapper","Title","TableRowSkeleton","AuthContext","useCompanies","api","WhatsAppModal","WhatsAppModalCompany","ConfirmationModal","QrcodeModal","i18n","WhatsAppsContext","toastError","ForbiddenPage","useStyles","theme","mainPaper","flex","padding","spacing","overflowY","borderRadius","boxShadow","scrollbarStyles","customTableCell","display","alignItems","justifyContent","tooltip","backgroundColor","color","fontSize","typography","pxToRem","border","maxWidth","tooltipPopper","textAlign","buttonProgress","palette","barraSuperior","CustomToolTip","title","content","children","classes","createElement","arrow","popper","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","gutterBottom","IconChannel","channel","AllConnections","user","socket","list","loadingWhatsapp","setLoadingWhatsapp","loadingComp","setLoadingComp","whats","setWhats","whatsAppModalOpen","setWhatsAppModalOpen","companies","setCompanies","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","filterConnections","setFilterConnections","companyWhatsApps","setCompanyWhatsApps","confirmationModalInitialState","action","message","whatsAppId","open","confirmModalInfo","setConfirmModalInfo","history","super","push","fetchSession","data","get","err","responseFacebook","response","status","accessToken","id","post","facebookUserId","facebookUserToken","then","success","t","catch","error","loadCompanies","companyList","e","responseInstagram","addInstagram","handleStartWhatsAppSession","handleRequestNewQrCode","put","handleOpenWhatsAppModal","whatsappsFilter","comp","length","handleCloseWhatsAppModal","handleOpenQrModal","whatsApp","handleCloseQrModal","handleEditWhatsApp","handleOpenConfirmationModal","handleSubmitConfirmationModal","delete","renderActionButtons","size","variant","onClick","disabled","renderStatusToolTips","className","style","onClose","onConfirm","filteredWhatsapps","companyInfos","profile","overflow","fontWeight","marginLeft","marginTop","popupId","popupState","Object","assign","close","marginRight","appId","process","env","REACT_APP_FACEBOOK_APP_ID","autoLoad","fields","version","scope","callback","render","renderProps","height","align","console","log","map","company","key","name","filter","item","companyId"],"sources":["/workspaces/simao/whaticket/frontend/src/pages/AllConnections/index.js"],"sourcesContent":["import React, { useState, useCallback, useContext, useEffect } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO, set } from \"date-fns\";\n\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\nimport { Stack } from \"@mui/material\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  TableBody,\n  TableRow,\n  TableCell,\n  IconButton,\n  Table,\n  TableHead,\n  Paper,\n  Tooltip,\n  Typography,\n  CircularProgress,\n  Divider\n} from \"@material-ui/core\";\nimport {\n  Edit,\n  CheckCircle,\n  SignalCellularConnectedNoInternet2Bar,\n  SignalCellularConnectedNoInternet0Bar,\n  SignalCellular4Bar,\n  CropFree,\n  DeleteOutline,\n  Facebook,\n  Instagram,\n  WhatsApp\n} from \"@material-ui/icons\";\n\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport WhatsAppModalCompany from \"../../components/CompanyWhatsapps\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    borderRadius: \"10px\",\n    boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px\",\n    ...theme.scrollbarStyles\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  tooltip: {\n    backgroundColor: \"#f5f5f9\",\n    color: \"rgba(0, 0, 0, 0.87)\",\n    fontSize: theme.typography.pxToRem(14),\n    border: \"1px solid #dadde9\",\n    maxWidth: 450\n  },\n  tooltipPopper: {\n    textAlign: \"center\"\n  },\n  buttonProgress: {\n    color: green[500]\n  },\n  TableHead: {\n    backgroundColor: theme.palette.barraSuperior,//\"#3d3d3d\",\n    color: \"textSecondary\",\n    borderRadius: \"5px\"\n  }\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n  const classes = useStyles();\n\n  return (\n    <Tooltip\n      arrow\n      classes={{\n        tooltip: classes.tooltip,\n        popper: classes.tooltipPopper\n      }}\n      title={\n        <React.Fragment>\n          <Typography gutterBottom color=\"inherit\">\n            {title}\n          </Typography>\n          {content && <Typography>{content}</Typography>}\n        </React.Fragment>\n      }\n    >\n      {children}\n    </Tooltip>\n  );\n};\n\nconst IconChannel = channel => {\n  switch (channel) {\n    case \"facebook\":\n      return <Facebook />;\n    case \"instagram\":\n      return <Instagram />;\n    case \"whatsapp\":\n      return <WhatsApp />;\n    default:\n      return \"error\";\n  }\n};\n\nconst AllConnections = () => {\n  const classes = useStyles();\n  const { user, socket } = useContext(AuthContext);\n  const { list } = useCompanies();\n  const [loadingWhatsapp, setLoadingWhatsapp] = useState(true);\n  const [loadingComp, setLoadingComp] = useState(false);\n  const [whats, setWhats] = useState([]);\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n  const [companies, setCompanies] = useState([]);\n  const [qrModalOpen, setQrModalOpen] = useState(false);\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [filterConnections, setFilterConnections] = useState([]);\n  const [companyWhatsApps, setCompanyWhatsApps] = useState(null);\n  const confirmationModalInitialState = {\n    action: \"\",\n    title: \"\",\n    message: \"\",\n    whatsAppId: \"\",\n    open: false\n  };\n  const [confirmModalInfo, setConfirmModalInfo] = useState(\n    confirmationModalInitialState\n  );\n\n  const history = useHistory();\n  if (!user.super) {\n    history.push(\"/tickets\")\n  }\n\n\n  useEffect(() => {\n    setLoadingWhatsapp(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/all/?session=0\");\n        setWhats(data);\n        setLoadingWhatsapp(false);\n      } catch (err) {\n        setLoadingWhatsapp(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  const responseFacebook = response => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          facebookUserId: id,\n          facebookUserToken: accessToken\n        })\n        .then(response => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch(error => {\n          toastError(error);\n        });\n    }\n  };\n  useEffect(() => {\n    loadCompanies();\n  }, []);\n  const loadCompanies = async () => {\n    setLoadingComp(true);\n    try {\n      const companyList = await list();\n      setCompanies(companyList);\n    } catch (e) {\n      toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoadingComp(false);\n  }\n\n  const responseInstagram = response => {\n    if (response.status !== \"unknown\") {\n      const { accessToken, id } = response;\n\n      api\n        .post(\"/facebook\", {\n          addInstagram: true,\n          facebookUserId: id,\n          facebookUserToken: accessToken\n        })\n        .then(response => {\n          toast.success(i18n.t(\"connections.facebook.success\"));\n        })\n        .catch(error => {\n          toastError(error);\n        });\n    }\n  };\n\n  const handleStartWhatsAppSession = async whatsAppId => {\n    try {\n      await api.post(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleRequestNewQrCode = async whatsAppId => {\n    try {\n      await api.put(`/whatsappsession/${whatsAppId}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenWhatsAppModal = (whatsappsFilter, comp) => {\n    setSelectedWhatsApp(null);\n    setWhatsAppModalOpen(true);\n    if (whatsappsFilter?.length > 0) {\n      setFilterConnections(whatsappsFilter);\n      setCompanyWhatsApps(comp);\n    }\n  };\n\n\n\n  const handleCloseWhatsAppModal = useCallback(() => {\n    setWhatsAppModalOpen(false);\n    setSelectedWhatsApp(null);\n    setFilterConnections([]);\n    setCompanyWhatsApps(null);\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n  const handleOpenQrModal = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setQrModalOpen(true);\n  };\n\n  const handleCloseQrModal = useCallback(() => {\n    setSelectedWhatsApp(null);\n    setQrModalOpen(false);\n  }, [setQrModalOpen, setSelectedWhatsApp]);\n\n  const handleEditWhatsApp = whatsApp => {\n    setSelectedWhatsApp(whatsApp);\n    setWhatsAppModalOpen(true);\n  };\n\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\n    if (action === \"disconnect\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n\n    if (action === \"delete\") {\n      setConfirmModalInfo({\n        action: action,\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n        whatsAppId: whatsAppId\n      });\n    }\n    setConfirmModalOpen(true);\n  };\n\n  const handleSubmitConfirmationModal = async () => {\n    if (confirmModalInfo.action === \"disconnect\") {\n      try {\n        await api.delete(`/whatsappsession/admin/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.disconnected\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    if (confirmModalInfo.action === \"delete\") {\n      try {\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setConfirmModalInfo(confirmationModalInitialState);\n  };\n\n  const renderActionButtons = whatsApp => {\n    return (\n      <>\n        {whatsApp.status === \"qrcode\" && (\n          <Button\n            size=\"small\"\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleOpenQrModal(whatsApp)}\n          >\n            {i18n.t(\"connections.buttons.qrcode\")}\n          </Button>\n        )}\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => handleStartWhatsAppSession(whatsApp.id)}\n            >\n              {i18n.t(\"connections.buttons.tryAgain\")}\n            </Button>{\" \"}\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => handleRequestNewQrCode(whatsApp.id)}\n            >\n              {i18n.t(\"connections.buttons.newQr\")}\n            </Button>\n          </>\n        )}\n        {(whatsApp.status === \"CONNECTED\" ||\n          whatsApp.status === \"PAIRING\" ||\n          whatsApp.status === \"TIMEOUT\") && (\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={() => {\n                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n              }}\n            >\n              {i18n.t(\"connections.buttons.disconnect\")}\n            </Button>\n          )}\n        {whatsApp.status === \"OPENING\" && (\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n            {i18n.t(\"connections.buttons.connecting\")}\n          </Button>\n        )}\n      </>\n    );\n  };\n\n  const renderStatusToolTips = whatsApp => {\n    return (\n      <div className={classes.customTableCell}>\n        {whatsApp.status === \"DISCONNECTED\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\n          >\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"OPENING\" && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n        {whatsApp.status === \"qrcode\" && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\n          >\n            <CropFree />\n          </CustomToolTip>\n        )}\n        {whatsApp.status === \"CONNECTED\" && (\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n            <SignalCellular4Bar style={{ color: green[500] }} />\n          </CustomToolTip>\n        )}\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n          <CustomToolTip\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\n          >\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n          </CustomToolTip>\n        )}\n      </div>\n    );\n  };\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={confirmModalInfo.title}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleSubmitConfirmationModal}\n      >\n        {confirmModalInfo.message}\n      </ConfirmationModal>\n      <QrcodeModal\n        open={qrModalOpen}\n        onClose={handleCloseQrModal}\n        whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n      />\n      <WhatsAppModalCompany\n        open={whatsAppModalOpen}\n        onClose={handleCloseWhatsAppModal}\n        filteredWhatsapps={filterConnections}\n        companyInfos={companyWhatsApps}\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n      />\n\n      {user.profile === \"user\" ?\n        <ForbiddenPage />\n        :\n        <>\n          <Paper className={classes.mainPaper} style={{ overflow: \"hidden\" }} variant=\"outlined\">\n            <MainHeader>\n              <Stack>\n                <Typography variant=\"h5\" color=\"black\" style={{ fontWeight: \"bold\", marginLeft: \"10px\", marginTop: \"10px\" }} gutterBottom>\n                  {i18n.t(\"connections.title\")}\n                </Typography>\n                <Typography style={{ marginTop: \"-10px\", marginLeft: \"10px\" }} variant=\"caption\" color=\"textSecondary\">\n                  Conecte seus canais de atendimento para receber mensagens e iniciar conversas com seus clientes.\n                </Typography>\n              </Stack>\n\n              <MainHeaderButtonsWrapper>\n                <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\n                  {popupState => (\n                    <React.Fragment>\n                      <Menu {...bindMenu(popupState)}>\n                        <MenuItem\n                          onClick={() => {\n                            handleOpenWhatsAppModal();\n                            popupState.close();\n                          }}\n                        >\n                          <WhatsApp\n                            fontSize=\"small\"\n                            style={{\n                              marginRight: \"10px\"\n                            }}\n                          />\n                          WhatsApp\n                        </MenuItem>\n                        <FacebookLogin\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                          autoLoad={false}\n                          fields=\"name,email,picture\"\n                          version=\"13.0\"\n                          scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                          callback={responseFacebook}\n                          render={renderProps => (\n                            <MenuItem onClick={renderProps.onClick}>\n                              <Facebook\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\"\n                                }}\n                              />\n                              Facebook\n                            </MenuItem>\n                          )}\n                        />\n\n                        <FacebookLogin\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\n                          autoLoad={false}\n                          fields=\"name,email,picture\"\n                          version=\"13.0\"\n                          scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\n                          callback={responseInstagram}\n                          render={renderProps => (\n                            <MenuItem onClick={renderProps.onClick}>\n                              <Instagram\n                                fontSize=\"small\"\n                                style={{\n                                  marginRight: \"10px\"\n                                }}\n                              />\n                              Instagram\n                            </MenuItem>\n                          )}\n                        />\n                      </Menu>\n                    </React.Fragment>\n                  )}\n                </PopupState>\n              </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Stack\n              style={{\n                overflowY: \"auto\",\n                padding: \"20px\",\n                backgroundColor: \"rgb(244 244 244 / 53%)\",\n                borderRadius: \"5px\",\n                height: \"93%\"\n              }}\n            >\n              <Paper >\n                <Table size=\"small\">\n                  <TableHead className={classes.TableHead}>\n                    <TableRow style={{ color: \"#fff\" }}>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"Cliente\")}\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"Conexões conectadas\")}\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"Conexões desconectadas\")}\n                      </TableCell>\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                        {i18n.t(\"Total de Conexões\")}\n                      </TableCell>\n                      {user.profile === \"admin\" && (\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                          {i18n.t(\"connections.table.actions\")}\n                        </TableCell>\n                      )}\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {loadingWhatsapp ? (\n                      <TableRowSkeleton />\n                    ) : (\n                      <>\n                        {console.log(companies, whats)}\n                        {companies?.length > 0 && companies.map(company => (\n                          <TableRow key={company.id}>\n                            <TableCell align=\"center\">\n                              {company?.name}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id && item?.status === 'CONNECTED').length}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id && item?.status !== 'CONNECTED').length}\n                            </TableCell>\n                            <TableCell align=\"center\">\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id).length}\n                            </TableCell>\n                            {user.profile === \"admin\" && (\n                              <TableCell align=\"center\">\n                                <IconButton\n                                  size=\"small\"\n                                  onClick={() => handleOpenWhatsAppModal(whats.filter((item) => item?.companyId === company?.id), company)}\n                                >\n                                  <Edit />\n                                </IconButton>\n                              </TableCell>\n                            )}\n                          </TableRow>\n                        )\n                        )}\n                        <TableRow className={classes.TableHead}>\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">{i18n.t(\"Total\")}</TableCell>\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                            {whats?.length &&\n                              whats.filter((item) => item?.status === 'CONNECTED').length}\n                          </TableCell>\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                            {whats?.length &&\n                              whats.filter((item) => item?.status !== 'CONNECTED').length}\n                          </TableCell>\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\n                            {whats?.length && whats.length}\n                          </TableCell>\n                          {user.profile === \"admin\" && <TableCell style={{ color: \"#fff\" }} align=\"center\"></TableCell>}\n                        </TableRow>\n                      </>\n                    )}\n                  </TableBody>\n                </Table>\n              </Paper>\n            </Stack>\n          </Paper>\n        </>}\n    </MainContainer>\n  );\n};\n\nexport default AllConnections;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}