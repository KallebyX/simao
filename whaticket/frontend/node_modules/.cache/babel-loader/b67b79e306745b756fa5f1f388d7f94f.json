{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/components/MessageInput/index.js\";\nimport React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport { useMediaQuery, useTheme } from '@material-ui/core';\nimport { isNil } from \"lodash\";\nimport { CircularProgress, ClickAwayListener, IconButton, InputBase, makeStyles, Paper, Hidden, Menu, MenuItem, Tooltip, Fab } from \"@material-ui/core\";\nimport { blue, green, pink, grey } from \"@material-ui/core/colors\";\nimport { AttachFile, CheckCircleOutline, Clear, Comment, Create, Description, HighlightOff, Mic, Mood, MoreVert, Send, PermMedia, Person, Reply, Duo, Timer } from \"@material-ui/icons\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport BoltIcon from '@mui/icons-material/FlashOn';\nimport { CameraAlt } from \"@material-ui/icons\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\nimport { isString, isEmpty } from \"lodash\";\nimport ContactSendModal from \"../ContactSendModal\";\nimport CameraModal from \"../CameraModal\";\nimport axios from \"axios\";\nimport ButtonModal from \"../ButtonModal\";\nimport MenuIcon from '@material-ui/icons/Menu';\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\nimport MessageUploadMedias from \"../MessageUploadMedias\";\nimport { EditMessageContext } from \"../../context/EditingMessage/EditingMessageContext\";\nimport ScheduleModal from \"../ScheduleModal\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nconst Mp3Recorder = new MicRecorder({\n  bitRate: 128\n});\nconst useStyles = makeStyles(theme => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\"\n    }\n  },\n  avatar: {\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"25%\"\n  },\n  dropInfo: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: 15,\n    left: 0,\n    right: 0\n  },\n  dropInfoOut: {\n    display: \"none\"\n  },\n  gridFiles: {\n    maxHeight: \"100%\",\n    overflow: \"scroll\"\n  },\n  newMessageBox: {\n    background: theme.palette.background.default,\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\"\n  },\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: theme.palette.background.paper,\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\"\n  },\n  messageInputWrapperPrivate: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#F0E68C\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\"\n  },\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\"\n  },\n  messageInputPrivate: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n    color: grey[800]\n  },\n  sendMessageIcons: {\n    color: grey[700]\n  },\n  ForwardMessageIcons: {\n    color: grey[700],\n    transform: 'scaleX(-1)'\n  },\n  uploadInput: {\n    display: \"none\"\n  },\n  viewMediaInputWrapper: {\n    maxHeight: \"100%\",\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: theme.mode === 'light' ? \"#ffffff\" : \"#202c33\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\"\n  },\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\"\n  },\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12\n  },\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\"\n  },\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\"\n  },\n  cancelAudioIcon: {\n    color: \"red\"\n  },\n  sendAudioIcon: {\n    color: \"green\"\n  },\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n    backgroundColor: theme.palette.optionsBackground\n  },\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: theme.mode === \"light\" ? \"#f0f0f0\" : \"#1d282f\",\n    //\"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\"\n  },\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\"\n  },\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\"\n  },\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\"\n  },\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: theme.palette.background.default,\n    padding: 0,\n    border: \"none\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"30px\",\n        \"&:hover\": {\n          background: theme.palette.background.paper,\n          cursor: \"pointer\"\n        }\n      }\n    }\n  },\n  invertedFabMenu: {\n    border: \"none\",\n    borderRadius: 50,\n    // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\",\n    // Remove a sombra\n    padding: theme.spacing(1),\n    backgroundColor: \"transparent\",\n    color: \"grey\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    },\n    \"&:disabled\": {\n      backgroundColor: \"transparent !important\"\n    }\n  },\n  invertedFabMenuMP: {\n    border: \"none\",\n    borderRadius: 0,\n    // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\",\n    // Remove a sombra\n    width: theme.spacing(4),\n    // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: blue[800],\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  invertedFabMenuCont: {\n    border: \"none\",\n    borderRadius: 0,\n    // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\",\n    // Remove a sombra\n    minHeight: \"auto\",\n    width: theme.spacing(4),\n    // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: blue[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  invertedFabMenuMeet: {\n    border: \"none\",\n    borderRadius: 0,\n    // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\",\n    // Remove a sombra\n    minHeight: \"auto\",\n    width: theme.spacing(4),\n    // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: green[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  invertedFabMenuDoc: {\n    border: \"none\",\n    borderRadius: 0,\n    // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\",\n    // Remove a sombra\n    width: theme.spacing(4),\n    // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: \"#7f66ff\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  invertedFabMenuCamera: {\n    border: \"none\",\n    borderRadius: 0,\n    // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\",\n    // Remove a sombra\n    width: theme.spacing(4),\n    // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: pink[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\"\n    }\n  },\n  flexContainer: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\"\n  },\n  flexItem: {\n    flex: 1\n  }\n}));\nconst MessageInput = ({\n  ticketId,\n  ticketStatus,\n  droppedFiles,\n  contactId,\n  ticketChannel\n}) => {\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mediasUpload, setMediasUpload] = useState([]);\n  const isMounted = useRef(true);\n  const [buttonModalOpen, setButtonModalOpen] = useState(false);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [onDragEnter, setOnDragEnter] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const {\n    setReplyingMessage,\n    replyingMessage\n  } = useContext(ReplyMessageContext);\n  const {\n    setEditingMessage,\n    editingMessage\n  } = useContext(EditMessageContext);\n  const {\n    user\n  } = useContext(AuthContext);\n  const [appointmentModalOpen, setAppointmentModalOpen] = useState(false);\n  const [signMessagePar, setSignMessagePar] = useState(false);\n  const {\n    get: getSetting\n  } = useCompanySettings();\n  const [signMessage, setSignMessage] = useState(true);\n  const [privateMessage, setPrivateMessage] = useState(false);\n  const [privateMessageInputVisible, setPrivateMessageInputVisible] = useState(false);\n  const [senVcardModalOpen, setSenVcardModalOpen] = useState(false);\n  const [showModalMedias, setShowModalMedias] = useState(false);\n  const {\n    list: listQuickMessages\n  } = useQuickMessages();\n  const isMobile = useMediaQuery('(max-width: 767px)'); // Ajuste o valor conforme necessário\n  const [placeholderText, setPlaceHolderText] = useState(\"\");\n\n  // Determine o texto do placeholder com base no ticketStatus\n  useEffect(() => {\n    if (ticketStatus === \"open\" || ticketStatus === \"group\") {\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderOpen\"));\n    } else {\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderClosed\"));\n    }\n\n    // Limitar o comprimento do texto do placeholder apenas em ambientes mobile\n    const maxLength = isMobile ? 20 : Infinity; // Define o limite apenas em mobile\n\n    if (isMobile && placeholderText.length > maxLength) {\n      setPlaceHolderText(placeholderText.substring(0, maxLength) + \"...\");\n    }\n  }, [ticketStatus]);\n  const {\n    selectedMessages,\n    setForwardMessageModalOpen,\n    showSelectMessageCheckbox\n  } = useContext(ForwardMessageContext);\n  useEffect(() => {\n    if (droppedFiles && droppedFiles.length > 0) {\n      const selectedMedias = Array.from(droppedFiles);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  }, [droppedFiles]);\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  useEffect(() => {\n    inputRef.current.focus();\n    if (editingMessage) {\n      setInputMessage(editingMessage.body);\n    }\n  }, [replyingMessage, editingMessage]);\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMediasUpload([]);\n      setReplyingMessage(null);\n      //setSignMessage(true);\n      setPrivateMessage(false);\n      setPrivateMessageInputVisible(false);\n      setEditingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage, setEditingMessage]);\n  useEffect(() => {\n    setTimeout(() => {\n      if (isMounted.current) setOnDragEnter(false);\n    }, 1000);\n    // eslint-disable-next-line\n  }, [onDragEnter === true]);\n\n  //permitir ativar/desativar firma\n  useEffect(() => {\n    const fetchSettings = async () => {\n      const setting = await getSetting({\n        \"column\": \"sendSignMessage\"\n      });\n      if (isMounted.current) {\n        if (setting.sendSignMessage === \"enabled\") {\n          setSignMessagePar(true);\n          const signMessageStorage = JSON.parse(localStorage.getItem(\"persistentSignMessage\"));\n          if (isNil(signMessageStorage)) {\n            setSignMessage(true);\n          } else {\n            setSignMessage(signMessageStorage);\n          }\n        } else {\n          setSignMessagePar(false);\n        }\n      }\n    };\n    fetchSettings();\n  }, []);\n  const capitalizeFirstLetter = string => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n  const handleSendLinkVideo = async () => {\n    const link = `https://meet.jit.si/${ticketId}`;\n    setInputMessage(link);\n  };\n  const handleChangeInput = e => {\n    setInputMessage(e.target.value);\n  };\n  const handlePrivateMessage = e => {\n    setPrivateMessage(!privateMessage);\n    setPrivateMessageInputVisible(!privateMessageInputVisible);\n  };\n  const handleButtonModalOpen = () => {\n    handleMenuItemClick();\n    setButtonModalOpen(true); // Define o estado como true para abrir o modal\n  };\n  const handleQuickAnswersClick = async value => {\n    if (value.mediaPath) {\n      try {\n        const {\n          data\n        } = await axios.get(value.mediaPath, {\n          responseType: \"blob\"\n        });\n        handleUploadQuickMessageMedia(data, value.value);\n        setInputMessage(\"\");\n        return;\n        //  handleChangeMedias(response)\n      } catch (err) {\n        toastError(err);\n      }\n    }\n    setInputMessage(\"\");\n    setInputMessage(value.value);\n    setTypeBar(false);\n  };\n  const handleAddEmoji = e => {\n    let emoji = e.native;\n    setInputMessage(prevState => prevState + emoji);\n  };\n  const [modalCameraOpen, setModalCameraOpen] = useState(false);\n  const handleCapture = imageData => {\n    if (imageData) {\n      handleUploadCamera(imageData);\n    }\n  };\n  const handleChangeMedias = e => {\n    if (!e.target.files) {\n      return;\n    }\n    const selectedMedias = Array.from(e.target.files);\n    setMediasUpload(selectedMedias);\n    setShowModalMedias(true);\n  };\n  const handleChangeSign = e => {\n    getStatusSingMessageLocalstogare();\n  };\n  const handleOpenModalForward = () => {\n    if (selectedMessages.length === 0) {\n      setForwardMessageModalOpen(false);\n      toastError(i18n.t(\"messagesList.header.notMessage\"));\n      return;\n    }\n    setForwardMessageModalOpen(true);\n  };\n  const getStatusSingMessageLocalstogare = () => {\n    const signMessageStorage = JSON.parse(localStorage.getItem(\"persistentSignMessage\"));\n    //si existe uma chave \"sendSingMessage\"\n    if (signMessageStorage !== null) {\n      if (signMessageStorage) {\n        localStorage.setItem(\"persistentSignMessage\", false);\n        setSignMessage(false);\n      } else {\n        localStorage.setItem(\"persistentSignMessage\", true);\n        setSignMessage(true);\n      }\n    } else {\n      localStorage.setItem(\"persistentSignMessage\", false);\n      setSignMessage(false);\n    }\n  };\n  const handleInputPaste = e => {\n    if (e.clipboardData.files[0]) {\n      const selectedMedias = Array.from(e.clipboardData.files);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  };\n  const handleInputDrop = e => {\n    e.preventDefault();\n    if (e.dataTransfer.files[0]) {\n      const selectedMedias = Array.from(e.dataTransfer.files);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  };\n  const handleUploadMedia = async mediasUpload => {\n    setLoading(true);\n    // e.preventDefault();\n\n    // Certifique-se de que a variável medias esteja preenchida antes de continuar\n    if (!mediasUpload.length) {\n      console.log(\"Nenhuma mídia selecionada.\");\n      setLoading(false);\n      return;\n    }\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    formData.append(\"isPrivate\", privateMessage ? \"true\" : \"false\");\n    mediasUpload.forEach(media => {\n      formData.append(\"body\", media.caption);\n      formData.append(\"medias\", media.file);\n    });\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n    setMediasUpload([]);\n    setShowModalMedias(false);\n    setPrivateMessage(false);\n    setPrivateMessageInputVisible(false);\n  };\n  const handleSendContatcMessage = async vcard => {\n    setSenVcardModalOpen(false);\n    setLoading(true);\n    if (isNil(vcard)) {\n      setLoading(false);\n      return;\n    }\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: null,\n      quotedMsg: replyingMessage,\n      isPrivate: privateMessage ? \"true\" : \"false\",\n      vCard: vcard\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n    setEditingMessage(null);\n    setPrivateMessage(false);\n    setPrivateMessageInputVisible(false);\n  };\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n    const userName = privateMessage ? `${user.name} - Mensagem Privada` : user.name;\n    const sendMessage = inputMessage.trim();\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: (signMessage || privateMessage) && !editingMessage ? `*${userName}:*\\n${sendMessage}` : sendMessage,\n      quotedMsg: replyingMessage,\n      isPrivate: privateMessage ? \"true\" : \"false\"\n    };\n    try {\n      if (editingMessage !== null) {\n        await api.post(`/messages/edit/${editingMessage.id}`, message);\n      } else {\n        await api.post(`/messages/${ticketId}`, message);\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n    setPrivateMessage(false);\n    setEditingMessage(null);\n    setPrivateMessageInputVisible(false);\n    handleMenuItemClick();\n  };\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const messages = await listQuickMessages({\n        companyId,\n        userId: user.id\n      });\n      const options = messages.map(m => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 90) {\n          truncatedMessage = m.message.substring(0, 90) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n          mediaPath: m.mediaPath\n        };\n      });\n      if (isMounted.current) {\n        setQuickAnswer(options);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (isString(inputMessage) && !isEmpty(inputMessage) && inputMessage.length >= 1) {\n      const firstWord = inputMessage.charAt(0);\n      if (firstWord === \"/\") {\n        setTypeBar(firstWord.indexOf(\"/\") > -1);\n        const filteredOptions = quickAnswers.filter(m => m.label.toLowerCase().indexOf(inputMessage.toLowerCase()) > -1);\n        setTypeBar(filteredOptions);\n      } else {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\" && ticketStatus !== \"group\";\n  };\n  const handleUploadCamera = async blob => {\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.png`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", privateMessage ? `\\u200d` : \"\");\n      formData.append(\"fromMe\", true);\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n  const handleUploadQuickMessageMedia = async (blob, message) => {\n    setLoading(true);\n    try {\n      const extension = blob.type.split(\"/\")[1];\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.${extension}`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", privateMessage ? `\\u200d${message}` : message);\n      formData.append(\"fromMe\", true);\n      if (isMounted.current) {\n        await api.post(`/messages/${ticketId}`, formData);\n      }\n    } catch (err) {\n      toastError(err);\n    } finally {\n      if (isMounted.current) {\n        setLoading(false);\n      }\n    }\n  };\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n      const formData = new FormData();\n      const filename = ticketChannel === \"whatsapp\" ? `${new Date().getTime()}.mp3` : `${new Date().getTime()}.m4a`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n      if (isMounted.current) {\n        await api.post(`/messages/${ticketId}`, formData);\n      }\n    } catch (err) {\n      toastError(err);\n    } finally {\n      if (isMounted.current) {\n        setLoading(false);\n        setRecording(false);\n      }\n    }\n  };\n  const handleCloseModalMedias = () => {\n    setShowModalMedias(false);\n  };\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleOpenMenuClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuItemClick = event => {\n    setAnchorEl(null);\n  };\n  const handleSendContactModalOpen = async () => {\n    handleMenuItemClick();\n    setSenVcardModalOpen(true);\n  };\n  const handleCameraModalOpen = async () => {\n    handleMenuItemClick();\n    setModalCameraOpen(true);\n  };\n  const handleCancelSelection = () => {\n    setMediasUpload([]);\n    setShowModalMedias(false);\n  };\n  const renderReplyingMessage = message => {\n    var _message$contact;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 869,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 870,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: clsx(classes.replyginContactMsgSideColor, {\n        [classes.replyginSelfMsgSideColor]: !message.fromMe\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 871,\n        columnNumber: 11\n      }\n    }), replyingMessage && /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.replyginMsgBody,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 877,\n        columnNumber: 13\n      }\n    }, !message.fromMe && /*#__PURE__*/React.createElement(\"span\", {\n      className: classes.messageContactName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 879,\n        columnNumber: 17\n      }\n    }, (_message$contact = message.contact) === null || _message$contact === void 0 ? void 0 : _message$contact.name), message.body)), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"showRecorder\",\n      component: \"span\",\n      disabled: disableOption(),\n      onClick: () => {\n        setReplyingMessage(null);\n        setEditingMessage(null);\n        setInputMessage(\"\");\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 888,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Clear, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 898,\n        columnNumber: 11\n      }\n    })));\n  };\n  if (mediasUpload.length > 0) {\n    return /*#__PURE__*/React.createElement(Paper, {\n      elevation: 0,\n      square: true,\n      className: classes.viewMediaInputWrapper,\n      onDragEnter: () => setOnDragEnter(true),\n      onDrop: e => handleInputDrop(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 907,\n        columnNumber: 7\n      }\n    }, showModalMedias && /*#__PURE__*/React.createElement(MessageUploadMedias, {\n      isOpen: showModalMedias,\n      files: mediasUpload,\n      onClose: handleCloseModalMedias,\n      onSend: handleUploadMedia,\n      onCancelSelection: handleCancelSelection,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 915,\n        columnNumber: 11\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, modalCameraOpen && /*#__PURE__*/React.createElement(CameraModal, {\n      isOpen: modalCameraOpen,\n      onRequestClose: () => setModalCameraOpen(false),\n      onCapture: handleCapture,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 931,\n        columnNumber: 11\n      }\n    }), senVcardModalOpen && /*#__PURE__*/React.createElement(ContactSendModal, {\n      modalOpen: senVcardModalOpen,\n      onClose: c => {\n        handleSendContatcMessage(c);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 938,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Paper, {\n      square: true,\n      elevation: 0,\n      className: classes.mainWrapper,\n      onDragEnter: () => setOnDragEnter(true),\n      onDrop: e => handleInputDrop(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 945,\n        columnNumber: 9\n      }\n    }, replyingMessage && renderReplyingMessage(replyingMessage) || editingMessage && renderReplyingMessage(editingMessage), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.newMessageBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 953,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Hidden, {\n      only: [\"sm\", \"xs\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 954,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"emojiPicker\",\n      component: \"span\",\n      disabled: disableOption(),\n      onClick: e => setShowEmoji(prevState => !prevState),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 955,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Mood, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 961,\n        columnNumber: 17\n      }\n    })), showEmoji ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.emojiBox,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 964,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(ClickAwayListener, {\n      onClickAway: e => setShowEmoji(true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 965,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Picker, {\n      perLine: 16,\n      theme: \"dark\",\n      i18n: i18n,\n      showPreview: true,\n      showSkinTones: false,\n      onSelect: handleAddEmoji,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 966,\n        columnNumber: 21\n      }\n    }))) : null, /*#__PURE__*/React.createElement(Fab, {\n      disabled: disableOption(),\n      \"aria-label\": \"uploadMedias\",\n      component: \"span\",\n      className: classes.invertedFabMenu,\n      onClick: handleOpenMenuClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 978,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 985,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Menu, {\n      anchorEl: anchorEl,\n      keepMounted: true,\n      open: Boolean(anchorEl),\n      onClose: handleMenuItemClick,\n      id: \"simple-menu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 987,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 994,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      multiple: true,\n      type: \"file\",\n      id: \"upload-img-button\",\n      accept: \"image/*, video/*, audio/* \"\n      // disabled={disableOption()}\n      ,\n      className: classes.uploadInput,\n      onChange: handleChangeMedias,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"upload-img-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      \"aria-label\": \"upload-img\",\n      component: \"span\",\n      className: classes.invertedFabMenuMP,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1005,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(PermMedia, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1010,\n        columnNumber: 23\n      }\n    })), i18n.t(\"messageInput.type.imageVideo\"))), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleCameraModalOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1015,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      className: classes.invertedFabMenuCamera,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1016,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(CameraAlt, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1017,\n        columnNumber: 21\n      }\n    })), i18n.t(\"messageInput.type.cam\")), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      multiple: true,\n      type: \"file\",\n      id: \"upload-doc-button\",\n      accept: \"application/*, text/*\"\n      // disabled={disableOption()}\n      ,\n      className: classes.uploadInput,\n      onChange: handleChangeMedias,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"upload-doc-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1031,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      \"aria-label\": \"upload-img\",\n      component: \"span\",\n      className: classes.invertedFabMenuDoc,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1032,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Description, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1034,\n        columnNumber: 23\n      }\n    })), \"Documento\")), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleSendContactModalOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1039,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      className: classes.invertedFabMenuCont,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1040,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Person, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 21\n      }\n    })), i18n.t(\"messageInput.type.contact\")), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleSendLinkVideo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1045,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      className: classes.invertedFabMenuMeet,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Duo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 21\n      }\n    })), i18n.t(\"messageInput.type.meet\")), buttonModalOpen && /*#__PURE__*/React.createElement(ButtonModal, {\n      modalOpen: buttonModalOpen,\n      onClose: () => setButtonModalOpen(false) // Função para fechar o modal\n      ,\n      ticketId: ticketId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1052,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleButtonModalOpen,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1058,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Fab, {\n      className: classes.invertedFabMenuCont,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1059,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(MenuIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1060,\n        columnNumber: 21\n      }\n    })), \"Bot\\xF5es\")), signMessagePar && /*#__PURE__*/React.createElement(Tooltip, {\n      title: i18n.t(\"messageInput.tooltip.signature\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1076,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"send-upload\",\n      component: \"span\",\n      onClick: handleChangeSign,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1077,\n        columnNumber: 19\n      }\n    }, signMessage === true ? /*#__PURE__*/React.createElement(Create, {\n      style: {\n        color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1083,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(Create, {\n      style: {\n        color: \"grey\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1085,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(Tooltip, {\n      title: i18n.t(\"messageInput.tooltip.privateMessage\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1090,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"send-upload\",\n      component: \"span\",\n      onClick: handlePrivateMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1091,\n        columnNumber: 17\n      }\n    }, privateMessage === true ? /*#__PURE__*/React.createElement(Comment, {\n      style: {\n        color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1097,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(Comment, {\n      style: {\n        color: \"grey\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1099,\n        columnNumber: 21\n      }\n    })))), /*#__PURE__*/React.createElement(Hidden, {\n      only: [\"md\", \"lg\", \"xl\"],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1113,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-controls\": \"simple-menu\",\n      \"aria-haspopup\": \"true\",\n      onClick: handleOpenMenuClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1114,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MoreVert, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Menu, {\n      id: \"simple-menu\",\n      keepMounted: true,\n      anchorEl: anchorEl,\n      open: Boolean(anchorEl),\n      onClose: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1121,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1128,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"emojiPicker\",\n      component: \"span\",\n      disabled: disableOption(),\n      onClick: e => setShowEmoji(prevState => !prevState),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1129,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Mood, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1135,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(MenuItem, {\n      onClick: handleMenuItemClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1138,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      multiple: true,\n      type: \"file\",\n      id: \"upload-button\",\n      disabled: disableOption(),\n      className: classes.uploadInput,\n      onChange: handleChangeMedias,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1139,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"upload-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1147,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"upload\",\n      component: \"span\",\n      disabled: disableOption(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(AttachFile, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1153,\n        columnNumber: 23\n      }\n    })))), signMessagePar && /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"Habilitar/Desabilitar Assinatura\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1158,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"send-upload\",\n      component: \"span\",\n      onClick: handleChangeSign,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1159,\n        columnNumber: 21\n      }\n    }, signMessage === true ? /*#__PURE__*/React.createElement(Create, {\n      style: {\n        color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1165,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(Create, {\n      style: {\n        color: \"grey\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1167,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Tooltip, {\n      title: \"Habilitar/Desabilitar Coment\\xE1rios\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1172,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"send-upload\",\n      component: \"span\",\n      onClick: handlePrivateMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1173,\n        columnNumber: 19\n      }\n    }, privateMessage === true ? /*#__PURE__*/React.createElement(Comment, {\n      style: {\n        color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1179,\n        columnNumber: 23\n      }\n    }) : /*#__PURE__*/React.createElement(Comment, {\n      style: {\n        color: \"grey\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1181,\n        columnNumber: 23\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.flexContainer,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1187,\n        columnNumber: 13\n      }\n    }, privateMessageInputVisible && /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.flexItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1189,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.messageInputWrapperPrivate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1190,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(InputBase, {\n      inputRef: input => {\n        input && input.focus();\n        input && (inputRef.current = input);\n      },\n      className: classes.messageInputPrivate,\n      placeholder: ticketStatus === \"open\" || ticketStatus === \"group\" ? i18n.t(\"messagesInput.placeholderPrivateMessage\") : i18n.t(\"messagesInput.placeholderClosed\"),\n      multiline: true,\n      maxRows: 5,\n      value: inputMessage,\n      onChange: handleChangeInput,\n      disabled: disableOption(),\n      onPaste: e => {\n        (ticketStatus === \"open\" || ticketStatus === \"group\") && handleInputPaste(e);\n      },\n      onKeyPress: e => {\n        if (loading || e.shiftKey) return;else if (e.key === \"Enter\") {\n          handleSendMessage();\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1191,\n        columnNumber: 21\n      }\n    }), typeBar ? /*#__PURE__*/React.createElement(\"ul\", {\n      className: classes.messageQuickAnswersWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1220,\n        columnNumber: 23\n      }\n    }, typeBar.map((value, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: classes.messageQuickAnswersWrapperItem,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1223,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => handleQuickAnswersClick(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1228,\n          columnNumber: 31\n        }\n      }, `${value.label} - ${value.value}`));\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1236,\n        columnNumber: 23\n      }\n    }))), !privateMessageInputVisible && /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.flexItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1242,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.messageInputWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1243,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(InputBase, {\n      inputRef: input => {\n        input && input.focus();\n        input && (inputRef.current = input);\n      },\n      className: classes.messageInput,\n      placeholder: placeholderText,\n      multiline: true,\n      maxRows: 5,\n      value: inputMessage,\n      onChange: handleChangeInput,\n      disabled: disableOption(),\n      onPaste: e => {\n        (ticketStatus === \"open\" || ticketStatus === \"group\") && handleInputPaste(e);\n      },\n      onKeyPress: e => {\n        if (loading || e.shiftKey) return;else if (e.key === \"Enter\") {\n          handleSendMessage();\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1244,\n        columnNumber: 21\n      }\n    }), typeBar ? /*#__PURE__*/React.createElement(\"ul\", {\n      className: classes.messageQuickAnswersWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1268,\n        columnNumber: 23\n      }\n    }, typeBar.map((value, index) => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: classes.messageQuickAnswersWrapperItem,\n        key: index,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1271,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => handleQuickAnswersClick(value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1276,\n          columnNumber: 31\n        }\n      }, `${value.label} - ${value.value}`));\n    })) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1284,\n        columnNumber: 23\n      }\n    })))), !privateMessageInputVisible && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n      title: i18n.t(\"tickets.buttons.quickmessageflash\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1292,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"flash\",\n      component: \"span\",\n      onClick: () => setInputMessage('/'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1293,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(BoltIcon, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1298,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Tooltip, {\n      title: i18n.t(\"tickets.buttons.scredule\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1301,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"scheduleMessage\",\n      component: \"span\",\n      onClick: () => setAppointmentModalOpen(true),\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1302,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Timer, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1308,\n        columnNumber: 21\n      }\n    }))), inputMessage || showSelectMessageCheckbox ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"sendMessage\",\n      component: \"span\",\n      onClick: showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1313,\n        columnNumber: 21\n      }\n    }, showSelectMessageCheckbox ? /*#__PURE__*/React.createElement(Reply, {\n      className: classes.ForwardMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1320,\n        columnNumber: 25\n      }\n    }) : /*#__PURE__*/React.createElement(Send, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1320,\n        columnNumber: 77\n      }\n    }))) : recording ? /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.recorderWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1324,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"cancelRecording\",\n      component: \"span\",\n      fontSize: \"large\",\n      disabled: loading,\n      onClick: handleCancelAudio,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1325,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(HighlightOff, {\n      className: classes.cancelAudioIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1332,\n        columnNumber: 23\n      }\n    })), loading ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1335,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(CircularProgress, {\n      className: classes.audioLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1336,\n        columnNumber: 25\n      }\n    })) : /*#__PURE__*/React.createElement(RecordingTimer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1339,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"sendRecordedAudio\",\n      component: \"span\",\n      onClick: handleUploadAudio,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1342,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(CheckCircleOutline, {\n      className: classes.sendAudioIcon,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1348,\n        columnNumber: 23\n      }\n    }))) : /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"showRecorder\",\n      component: \"span\",\n      disabled: disableOption(),\n      onClick: handleStartRecording,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1352,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Mic, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1358,\n        columnNumber: 21\n      }\n    }))), privateMessageInputVisible && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(IconButton, {\n      \"aria-label\": \"sendMessage\",\n      component: \"span\",\n      onClick: showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage,\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1366,\n        columnNumber: 17\n      }\n    }, showSelectMessageCheckbox ? /*#__PURE__*/React.createElement(Reply, {\n      className: classes.ForwardMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1373,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(Send, {\n      className: classes.sendMessageIcons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1373,\n        columnNumber: 73\n      }\n    }))), appointmentModalOpen && /*#__PURE__*/React.createElement(ScheduleModal, {\n      open: appointmentModalOpen,\n      onClose: () => setAppointmentModalOpen(false),\n      message: inputMessage,\n      contactId: contactId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 1378,\n        columnNumber: 15\n      }\n    }))));\n  }\n};\nexport default MessageInput;","map":{"version":3,"names":["React","useState","useEffect","useContext","useRef","Picker","useMediaQuery","useTheme","isNil","CircularProgress","ClickAwayListener","IconButton","InputBase","makeStyles","Paper","Hidden","Menu","MenuItem","Tooltip","Fab","blue","green","pink","grey","AttachFile","CheckCircleOutline","Clear","Comment","Create","Description","HighlightOff","Mic","Mood","MoreVert","Send","PermMedia","Person","Reply","Duo","Timer","AddIcon","BoltIcon","CameraAlt","MicRecorder","clsx","ReplyMessageContext","AuthContext","i18n","toastError","api","RecordingTimer","useQuickMessages","isString","isEmpty","ContactSendModal","CameraModal","axios","ButtonModal","MenuIcon","useCompanySettings","ForwardMessageContext","MessageUploadMedias","EditMessageContext","ScheduleModal","useParams","Mp3Recorder","bitRate","useStyles","theme","mainWrapper","background","display","flexDirection","alignItems","borderTop","breakpoints","down","position","bottom","width","avatar","height","borderRadius","dropInfo","padding","left","right","dropInfoOut","gridFiles","maxHeight","overflow","newMessageBox","palette","default","messageInputWrapper","marginRight","paper","flex","messageInputWrapperPrivate","messageInput","paddingLeft","border","messageInputPrivate","color","sendMessageIcons","ForwardMessageIcons","transform","uploadInput","viewMediaInputWrapper","justifyContent","backgroundColor","mode","emojiBox","circleLoading","opacity","top","marginLeft","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","paddingTop","paddingRight","optionsBackground","replyginMsgContainer","overflowY","replyginMsgBody","whiteSpace","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","fontWeight","messageQuickAnswersWrapper","margin","listStyle","textOverflow","cursor","invertedFabMenu","boxShadow","spacing","invertedFabMenuMP","invertedFabMenuCont","minHeight","invertedFabMenuMeet","invertedFabMenuDoc","invertedFabMenuCamera","flexContainer","flexItem","MessageInput","ticketId","ticketStatus","droppedFiles","contactId","ticketChannel","classes","mediasUpload","setMediasUpload","isMounted","buttonModalOpen","setButtonModalOpen","inputMessage","setInputMessage","showEmoji","setShowEmoji","loading","setLoading","recording","setRecording","quickAnswers","setQuickAnswer","typeBar","setTypeBar","inputRef","onDragEnter","setOnDragEnter","anchorEl","setAnchorEl","setReplyingMessage","replyingMessage","setEditingMessage","editingMessage","user","appointmentModalOpen","setAppointmentModalOpen","signMessagePar","setSignMessagePar","get","getSetting","signMessage","setSignMessage","privateMessage","setPrivateMessage","privateMessageInputVisible","setPrivateMessageInputVisible","senVcardModalOpen","setSenVcardModalOpen","showModalMedias","setShowModalMedias","list","listQuickMessages","isMobile","placeholderText","setPlaceHolderText","t","maxLength","Infinity","length","substring","selectedMessages","setForwardMessageModalOpen","showSelectMessageCheckbox","selectedMedias","Array","from","current","focus","body","setTimeout","fetchSettings","setting","sendSignMessage","signMessageStorage","JSON","parse","localStorage","getItem","capitalizeFirstLetter","string","charAt","toUpperCase","slice","handleSendLinkVideo","link","handleChangeInput","e","target","value","handlePrivateMessage","handleButtonModalOpen","handleMenuItemClick","handleQuickAnswersClick","mediaPath","data","responseType","handleUploadQuickMessageMedia","err","handleAddEmoji","emoji","native","prevState","modalCameraOpen","setModalCameraOpen","handleCapture","imageData","handleUploadCamera","handleChangeMedias","files","handleChangeSign","getStatusSingMessageLocalstogare","handleOpenModalForward","setItem","handleInputPaste","clipboardData","handleInputDrop","preventDefault","dataTransfer","handleUploadMedia","console","log","formData","FormData","append","forEach","media","caption","file","post","handleSendContatcMessage","vcard","message","read","fromMe","mediaUrl","quotedMsg","isPrivate","vCard","handleSendMessage","trim","userName","name","sendMessage","id","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","fetchData","companyId","messages","userId","options","map","m","truncatedMessage","label","shortcode","firstWord","indexOf","filteredOptions","filter","toLowerCase","disableOption","blob","filename","Date","getTime","extension","type","split","handleUploadAudio","stop","getMp3","size","handleCloseModalMedias","handleCancelAudio","handleOpenMenuClick","event","currentTarget","handleSendContactModalOpen","handleCameraModalOpen","handleCancelSelection","renderReplyingMessage","_message$contact","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","contact","component","disabled","onClick","elevation","square","onDrop","isOpen","onClose","onSend","onCancelSelection","Fragment","onRequestClose","onCapture","modalOpen","c","only","onClickAway","perLine","showPreview","showSkinTones","onSelect","keepMounted","open","Boolean","multiple","accept","onChange","htmlFor","title","style","primary","main","input","placeholder","multiline","maxRows","onPaste","onKeyPress","shiftKey","key","index","messageQuickAnswersWrapperItem","fontSize"],"sources":["/workspaces/simao/whaticket/frontend/src/components/MessageInput/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport { useMediaQuery, useTheme } from '@material-ui/core';\nimport { isNil } from \"lodash\";\nimport {\n  CircularProgress,\n  ClickAwayListener,\n  IconButton,\n  InputBase,\n  makeStyles,\n  Paper,\n  Hidden,\n  Menu,\n  MenuItem,\n  Tooltip,\n  Fab,\n} from \"@material-ui/core\";\nimport {\n  blue,\n  green,\n  pink,\n  grey,\n} from \"@material-ui/core/colors\";\nimport {\n  AttachFile,\n  CheckCircleOutline,\n  Clear,\n  Comment,\n  Create,\n  Description,\n  HighlightOff,\n  Mic,\n  Mood,\n  MoreVert,\n  Send,\n  PermMedia,\n  Person,\n  Reply,\n  Duo,\n  Timer,\n} from \"@material-ui/icons\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport BoltIcon from '@mui/icons-material/FlashOn';\nimport { CameraAlt } from \"@material-ui/icons\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\nimport { isString, isEmpty } from \"lodash\";\nimport ContactSendModal from \"../ContactSendModal\";\nimport CameraModal from \"../CameraModal\";\nimport axios from \"axios\";\nimport ButtonModal from \"../ButtonModal\";\nimport MenuIcon from '@material-ui/icons/Menu';\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\nimport MessageUploadMedias from \"../MessageUploadMedias\";\nimport { EditMessageContext } from \"../../context/EditingMessage/EditingMessageContext\";\nimport ScheduleModal from \"../ScheduleModal\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\n\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n  avatar: {\n    width: \"50px\",\n    height: \"50px\",\n    borderRadius: \"25%\",\n  },\n  dropInfo: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    width: \"100%\",\n    padding: 15,\n    left: 0,\n    right: 0,\n  },\n  dropInfoOut: {\n    display: \"none\",\n  },\n  gridFiles: {\n    maxHeight: \"100%\",\n    overflow: \"scroll\",\n  },\n  newMessageBox: {\n    background: theme.palette.background.default,\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: theme.palette.background.paper,\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n  messageInputWrapperPrivate: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#F0E68C\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n\n  },\n  messageInputPrivate: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n    color: grey[800],\n\n  },\n  sendMessageIcons: {\n    color: grey[700],\n  },\n  ForwardMessageIcons: {\n    color: grey[700],\n    transform: 'scaleX(-1)'\n  },\n  uploadInput: {\n    display: \"none\",\n  },\n  viewMediaInputWrapper: {\n    maxHeight: \"100%\",\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: theme.mode === 'light' ? \"#ffffff\" : \"#202c33\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n  sendAudioIcon: {\n    color: \"green\",\n  },\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n    backgroundColor: theme.palette.optionsBackground,\n  },\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: theme.mode === \"light\" ? \"#f0f0f0\" : \"#1d282f\", //\"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: theme.palette.background.default,\n    padding: 0,\n    border: \"none\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"30px\",\n        \"&:hover\": {\n          background: theme.palette.background.paper,\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n  invertedFabMenu: {\n    border: \"none\",\n    borderRadius: 50, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    padding: theme.spacing(1),\n    backgroundColor: \"transparent\",\n    color: \"grey\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n    \"&:disabled\": {\n      backgroundColor: \"transparent !important\",\n    },\n  },\n  invertedFabMenuMP: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: blue[800],\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  invertedFabMenuCont: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    minHeight: \"auto\",\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: blue[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  invertedFabMenuMeet: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    minHeight: \"auto\",\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: green[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  invertedFabMenuDoc: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: \"#7f66ff\",\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  invertedFabMenuCamera: {\n    border: \"none\",\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\n    boxShadow: \"none\", // Remove a sombra\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\n    height: theme.spacing(4),\n    backgroundColor: \"transparent\",\n    color: pink[500],\n    \"&:hover\": {\n      backgroundColor: \"transparent\",\n    },\n  },\n  flexContainer: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\",\n  },\n  flexItem: {\n    flex: 1,\n  },\n}));\n\nconst MessageInput = ({ ticketId, ticketStatus, droppedFiles, contactId, ticketChannel }) => {\n\n  const classes = useStyles();\n  const theme = useTheme();\n  const [mediasUpload, setMediasUpload] = useState([]);\n  const isMounted = useRef(true);\n  const [buttonModalOpen, setButtonModalOpen] = useState(false);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [onDragEnter, setOnDragEnter] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } = useContext(ReplyMessageContext);\n  const { setEditingMessage, editingMessage } = useContext(EditMessageContext);\n  const { user } = useContext(AuthContext);\n  const [appointmentModalOpen, setAppointmentModalOpen] = useState(false);\n\n  const [signMessagePar, setSignMessagePar] = useState(false);\n  const { get: getSetting } = useCompanySettings();\n  const [signMessage, setSignMessage] = useState(true);\n  const [privateMessage, setPrivateMessage] = useState(false);\n  const [privateMessageInputVisible, setPrivateMessageInputVisible] = useState(false);\n  const [senVcardModalOpen, setSenVcardModalOpen] = useState(false);\n  const [showModalMedias, setShowModalMedias] = useState(false);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n\n  const isMobile = useMediaQuery('(max-width: 767px)'); // Ajuste o valor conforme necessário\n  const [placeholderText, setPlaceHolderText] = useState(\"\");\n\n  // Determine o texto do placeholder com base no ticketStatus\n  useEffect(() => {\n    if (ticketStatus === \"open\" || ticketStatus === \"group\") {\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderOpen\"));\n    } else {\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderClosed\"));\n    }\n\n    // Limitar o comprimento do texto do placeholder apenas em ambientes mobile\n    const maxLength = isMobile ? 20 : Infinity; // Define o limite apenas em mobile\n\n    if (isMobile && placeholderText.length > maxLength) {\n      setPlaceHolderText(placeholderText.substring(0, maxLength) + \"...\");\n    }\n  }, [ticketStatus])\n\n  const {\n    selectedMessages,\n    setForwardMessageModalOpen,\n    showSelectMessageCheckbox } = useContext(ForwardMessageContext);\n\n  useEffect(() => {\n    if (droppedFiles && droppedFiles.length > 0) {\n      const selectedMedias = Array.from(droppedFiles);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  }, [droppedFiles]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    if (editingMessage) {\n      setInputMessage(editingMessage.body);\n    }\n  }, [replyingMessage, editingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMediasUpload([]);\n      setReplyingMessage(null);\n      //setSignMessage(true);\n      setPrivateMessage(false);\n      setPrivateMessageInputVisible(false)\n      setEditingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage, setEditingMessage]);\n\n  useEffect(() => {\n    setTimeout(() => {\n      if (isMounted.current)\n        setOnDragEnter(false);\n    }, 1000);\n    // eslint-disable-next-line\n  }, [onDragEnter === true]);\n\n  //permitir ativar/desativar firma\n  useEffect(() => {\n    const fetchSettings = async () => {\n      const setting = await getSetting({\n        \"column\": \"sendSignMessage\"\n      });\n\n      if (isMounted.current) {\n        if (setting.sendSignMessage === \"enabled\") {\n          setSignMessagePar(true);\n          const signMessageStorage = JSON.parse(\n            localStorage.getItem(\"persistentSignMessage\")\n          );\n          if (isNil(signMessageStorage)) {\n            setSignMessage(true)\n          } else {\n            setSignMessage(signMessageStorage);\n          }\n        } else {\n          setSignMessagePar(false);\n        }\n      }\n    };\n    fetchSettings();\n  }, []);\n\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  const handleSendLinkVideo = async () => {\n    const link = `https://meet.jit.si/${ticketId}`;\n    setInputMessage(link);\n  }\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n  };\n\n  const handlePrivateMessage = (e) => {\n    setPrivateMessage(!privateMessage);\n    setPrivateMessageInputVisible(!privateMessageInputVisible);\n  };\n\n  const handleButtonModalOpen = () => {\n    handleMenuItemClick();\n    setButtonModalOpen(true); // Define o estado como true para abrir o modal\n  };\n\n  const handleQuickAnswersClick = async (value) => {\n    if (value.mediaPath) {\n      try {\n        const { data } = await axios.get(value.mediaPath, {\n          responseType: \"blob\",\n        });\n\n        handleUploadQuickMessageMedia(data, value.value);\n        setInputMessage(\"\");\n        return;\n        //  handleChangeMedias(response)\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setInputMessage(\"\");\n    setInputMessage(value.value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const [modalCameraOpen, setModalCameraOpen] = useState(false);\n\n  const handleCapture = (imageData) => {\n    if (imageData) {\n      handleUploadCamera(imageData);\n    }\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n    const selectedMedias = Array.from(e.target.files);\n    setMediasUpload(selectedMedias);\n    setShowModalMedias(true);\n  };\n\n  const handleChangeSign = (e) => {\n    getStatusSingMessageLocalstogare();\n  };\n\n  const handleOpenModalForward = () => {\n    if (selectedMessages.length === 0) {\n      setForwardMessageModalOpen(false)\n      toastError(i18n.t(\"messagesList.header.notMessage\"));\n      return;\n    }\n    setForwardMessageModalOpen(true);\n  }\n\n  const getStatusSingMessageLocalstogare = () => {\n    const signMessageStorage = JSON.parse(\n      localStorage.getItem(\"persistentSignMessage\")\n    );\n    //si existe uma chave \"sendSingMessage\"\n    if (signMessageStorage !== null) {\n      if (signMessageStorage) {\n        localStorage.setItem(\"persistentSignMessage\", false);\n        setSignMessage(false);\n      } else {\n        localStorage.setItem(\"persistentSignMessage\", true);\n        setSignMessage(true);\n      }\n    } else {\n      localStorage.setItem(\"persistentSignMessage\", false);\n      setSignMessage(false);\n    }\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      const selectedMedias = Array.from(e.clipboardData.files);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  };\n\n  const handleInputDrop = (e) => {\n    e.preventDefault();\n    if (e.dataTransfer.files[0]) {\n      const selectedMedias = Array.from(e.dataTransfer.files);\n      setMediasUpload(selectedMedias);\n      setShowModalMedias(true);\n    }\n  };\n\n  const handleUploadMedia = async (mediasUpload) => {\n    setLoading(true);\n    // e.preventDefault();\n\n    // Certifique-se de que a variável medias esteja preenchida antes de continuar\n    if (!mediasUpload.length) {\n      console.log(\"Nenhuma mídia selecionada.\");\n      setLoading(false);\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    formData.append(\"isPrivate\", privateMessage ? \"true\" : \"false\");\n    mediasUpload.forEach((media) => {\n      formData.append(\"body\", media.caption);\n      formData.append(\"medias\", media.file);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMediasUpload([]);\n    setShowModalMedias(false);\n    setPrivateMessage(false);\n    setPrivateMessageInputVisible(false)\n  };\n\n  const handleSendContatcMessage = async (vcard) => {\n    setSenVcardModalOpen(false);\n    setLoading(true);\n\n    if (isNil(vcard)) {\n      setLoading(false);\n      return;\n    }\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: null,\n      quotedMsg: replyingMessage,\n      isPrivate: privateMessage ? \"true\" : \"false\",\n      vCard: vcard,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n    setEditingMessage(null);\n    setPrivateMessage(false);\n    setPrivateMessageInputVisible(false);\n  };\n\n  const handleSendMessage = async () => {\n\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const userName = privateMessage\n      ? `${user.name} - Mensagem Privada`\n      : user.name;\n\n    const sendMessage = inputMessage.trim();\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: (signMessage || privateMessage) && !editingMessage\n        ? `*${userName}:*\\n${sendMessage}`\n        : sendMessage,\n      quotedMsg: replyingMessage,\n      isPrivate: privateMessage ? \"true\" : \"false\",\n    };\n\n    try {\n      if (editingMessage !== null) {\n        await api.post(`/messages/edit/${editingMessage.id}`, message);\n      } else {\n        await api.post(`/messages/${ticketId}`, message);\n      }\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n    setPrivateMessage(false);\n    setEditingMessage(null);\n    setPrivateMessageInputVisible(false)\n    handleMenuItemClick();\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 90) {\n          truncatedMessage = m.message.substring(0, 90) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n          mediaPath: m.mediaPath,\n        };\n      });\n      if (isMounted.current) {\n\n        setQuickAnswer(options);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length >= 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n\n      if (firstWord === \"/\") {\n        setTypeBar(firstWord.indexOf(\"/\") > -1);\n\n        const filteredOptions = quickAnswers.filter(\n          (m) => m.label.toLowerCase().indexOf(inputMessage.toLowerCase()) > -1\n        );\n        setTypeBar(filteredOptions);\n      } else {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const disableOption = () => {\n    return (\n      loading ||\n      recording ||\n      (ticketStatus !== \"open\" && ticketStatus !== \"group\")\n    );\n  };\n\n  const handleUploadCamera = async (blob) => {\n    setLoading(true);\n    try {\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.png`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", privateMessage ? `\\u200d` : \"\");\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n\n  const handleUploadQuickMessageMedia = async (blob, message) => {\n    setLoading(true);\n    try {\n      const extension = blob.type.split(\"/\")[1];\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.${extension}`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", privateMessage ? `\\u200d${message}` : message);\n      formData.append(\"fromMe\", true);\n\n      if (isMounted.current) {\n        await api.post(`/messages/${ticketId}`, formData);\n      }\n    } catch (err) {\n      toastError(err);\n    } finally {\n      if (isMounted.current) {\n        setLoading(false);\n      }\n    }\n  };\n\n\n  const handleUploadAudio = async () => {\n\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = ticketChannel === \"whatsapp\" ? `${new Date().getTime()}.mp3` : `${new Date().getTime()}.m4a`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      if (isMounted.current) {\n        await api.post(`/messages/${ticketId}`, formData);\n      }\n    } catch (err) {\n      toastError(err);\n    } finally {\n      if (isMounted.current) {\n        setLoading(false);\n        setRecording(false);\n      }\n    }\n  };\n\n  const handleCloseModalMedias = () => {\n    setShowModalMedias(false);\n  };\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const handleSendContactModalOpen = async () => {\n    handleMenuItemClick();\n    setSenVcardModalOpen(true);\n  };\n\n  const handleCameraModalOpen = async () => {\n    handleMenuItemClick();\n    setModalCameraOpen(true);\n  };\n\n  const handleCancelSelection = () => {\n    setMediasUpload([]);\n    setShowModalMedias(false);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          {replyingMessage && (\n            <div className={classes.replyginMsgBody}>\n              {!message.fromMe && (\n                <span className={classes.messageContactName}>\n                  {message.contact?.name}\n                </span>\n              )}\n              {message.body}\n            </div>\n          )\n          }\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={disableOption()}\n          onClick={() => {\n            setReplyingMessage(null);\n            setEditingMessage(null);\n            setInputMessage(\"\");\n          }}\n        >\n          <Clear className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (mediasUpload.length > 0) {\n    return (\n\n      <Paper\n        elevation={0}\n        square\n        className={classes.viewMediaInputWrapper}\n        onDragEnter={() => setOnDragEnter(true)}\n        onDrop={(e) => handleInputDrop(e)}\n      >\n        {showModalMedias && (\n          <MessageUploadMedias\n            isOpen={showModalMedias}\n            files={mediasUpload}\n            onClose={handleCloseModalMedias}\n            onSend={handleUploadMedia}\n            onCancelSelection={handleCancelSelection}\n          />\n        )}\n\n      </Paper>\n    )\n  }\n  else {\n    return (\n      <>\n        {modalCameraOpen && (\n          <CameraModal\n            isOpen={modalCameraOpen}\n            onRequestClose={() => setModalCameraOpen(false)}\n            onCapture={handleCapture}\n          />\n        )}\n        {senVcardModalOpen && (\n          <ContactSendModal\n            modalOpen={senVcardModalOpen}\n            onClose={(c) => {\n              handleSendContatcMessage(c);\n            }}\n          />\n        )}\n        <Paper\n          square\n          elevation={0}\n          className={classes.mainWrapper}\n          onDragEnter={() => setOnDragEnter(true)}\n          onDrop={(e) => handleInputDrop(e)}\n        >\n          {(replyingMessage && renderReplyingMessage(replyingMessage)) || (editingMessage && renderReplyingMessage(editingMessage))}\n          <div className={classes.newMessageBox}>\n            <Hidden only={[\"sm\", \"xs\"]}>\n              <IconButton\n                aria-label=\"emojiPicker\"\n                component=\"span\"\n                disabled={disableOption()}\n                onClick={(e) => setShowEmoji((prevState) => !prevState)}\n              >\n                <Mood className={classes.sendMessageIcons} />\n              </IconButton>\n              {showEmoji ? (\n                <div className={classes.emojiBox}>\n                  <ClickAwayListener onClickAway={(e) => setShowEmoji(true)}>\n                    <Picker\n                      perLine={16}\n                      theme={\"dark\"}\n                      i18n={i18n}\n                      showPreview={true}\n                      showSkinTones={false}\n                      onSelect={handleAddEmoji}\n                    />\n                  </ClickAwayListener>\n                </div>\n              ) : null}\n\n              <Fab\n                disabled={disableOption()}\n                aria-label=\"uploadMedias\"\n                component=\"span\"\n                className={classes.invertedFabMenu}\n                onClick={handleOpenMenuClick}\n              >\n                <AddIcon />\n              </Fab>\n              <Menu\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleMenuItemClick}\n                id=\"simple-menu\"\n              >\n                <MenuItem onClick={handleMenuItemClick}>\n                  <input\n                    multiple\n                    type=\"file\"\n                    id=\"upload-img-button\"\n                    accept=\"image/*, video/*, audio/* \"\n                    // disabled={disableOption()}\n                    className={classes.uploadInput}\n                    onChange={handleChangeMedias}\n                  />\n                  <label htmlFor=\"upload-img-button\">\n                    <Fab\n                      aria-label=\"upload-img\"\n                      component=\"span\"\n                      className={classes.invertedFabMenuMP}\n                    >\n                      <PermMedia />\n                    </Fab>\n                    {i18n.t(\"messageInput.type.imageVideo\")}\n                  </label>\n                </MenuItem>\n                <MenuItem onClick={handleCameraModalOpen}>\n                  <Fab className={classes.invertedFabMenuCamera}>\n                    <CameraAlt />\n                  </Fab>\n                  {i18n.t(\"messageInput.type.cam\")}\n                </MenuItem>\n                <MenuItem onClick={handleMenuItemClick}>\n                  <input\n                    multiple\n                    type=\"file\"\n                    id=\"upload-doc-button\"\n                    accept=\"application/*, text/*\"\n                    // disabled={disableOption()}\n                    className={classes.uploadInput}\n                    onChange={handleChangeMedias}\n                  />\n                  <label htmlFor=\"upload-doc-button\">\n                    <Fab aria-label=\"upload-img\"\n                      component=\"span\" className={classes.invertedFabMenuDoc}>\n                      <Description />\n                    </Fab>\n                    Documento\n                  </label>\n                </MenuItem>\n                <MenuItem onClick={handleSendContactModalOpen}>\n                  <Fab className={classes.invertedFabMenuCont}>\n                    <Person />\n                  </Fab>\n                  {i18n.t(\"messageInput.type.contact\")}\n                </MenuItem>\n                <MenuItem onClick={handleSendLinkVideo}>\n                  <Fab className={classes.invertedFabMenuMeet}>\n                    <Duo />\n                  </Fab>\n                  {i18n.t(\"messageInput.type.meet\")}\n                </MenuItem>\n                {buttonModalOpen && (\n          <ButtonModal\n            modalOpen={buttonModalOpen}\n            onClose={() => setButtonModalOpen(false)} // Função para fechar o modal\n            ticketId={ticketId}\n          />\n        )}\n                <MenuItem onClick={handleButtonModalOpen}>\n                  <Fab className={classes.invertedFabMenuCont}>\n                    <MenuIcon />\n                  </Fab>\n                  Botões\n                </MenuItem>\n              </Menu>\n              {/* <IconButton\n\t\t\t\t  aria-label=\"upload\"\n\t\t\t\t  component=\"span\"\n\t\t\t\t  disabled={disableOption()}\n\t\t\t\t  onMouseOver={() => setOnDragEnter(true)}\n\t\t\t\t>\n\t\t\t\t  <AttachFile className={classes.sendMessageIcons} />\n\t\t\t\t</IconButton> */}\n\n              {/* </label> */}\n              {signMessagePar && (\n                <Tooltip title={i18n.t(\"messageInput.tooltip.signature\")}>\n                  <IconButton\n                    aria-label=\"send-upload\"\n                    component=\"span\"\n                    onClick={handleChangeSign}\n                  >\n                    {signMessage === true ? (\n                      <Create style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\n                    ) : (\n                      <Create style={{ color: \"grey\" }} />\n                    )}\n                  </IconButton>\n                </Tooltip>\n              )}\n              <Tooltip title={i18n.t(\"messageInput.tooltip.privateMessage\")}>\n                <IconButton\n                  aria-label=\"send-upload\"\n                  component=\"span\"\n                  onClick={handlePrivateMessage}\n                >\n                  {privateMessage === true ? (\n                    <Comment style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\n                  ) : (\n                    <Comment style={{ color: \"grey\" }} />\n                  )}\n                </IconButton>\n              </Tooltip>\n              {/* <Tooltip title={i18n.t(\"messageInput.tooltip.meet\")}>\n                <IconButton\n                  aria-label=\"send-upload\"\n                  component=\"span\"\n                  onClick={handleSendLinkVideo}\n                >\n                  <Duo style={{ color: \"grey\" }} />\n                </IconButton>\n              </Tooltip> */}\n            </Hidden>\n            <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n              <IconButton\n                aria-controls=\"simple-menu\"\n                aria-haspopup=\"true\"\n                onClick={handleOpenMenuClick}\n              >\n                <MoreVert></MoreVert>\n              </IconButton>\n              <Menu\n                id=\"simple-menu\"\n                keepMounted\n                anchorEl={anchorEl}\n                open={Boolean(anchorEl)}\n                onClose={handleMenuItemClick}\n              >\n                <MenuItem onClick={handleMenuItemClick}>\n                  <IconButton\n                    aria-label=\"emojiPicker\"\n                    component=\"span\"\n                    disabled={disableOption()}\n                    onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                  >\n                    <Mood className={classes.sendMessageIcons} />\n                  </IconButton>\n                </MenuItem>\n                <MenuItem onClick={handleMenuItemClick}>\n                  <input\n                    multiple\n                    type=\"file\"\n                    id=\"upload-button\"\n                    disabled={disableOption()}\n                    className={classes.uploadInput}\n                    onChange={handleChangeMedias}\n                  />\n                  <label htmlFor=\"upload-button\">\n                    <IconButton\n                      aria-label=\"upload\"\n                      component=\"span\"\n                      disabled={disableOption()}\n                    >\n                      <AttachFile className={classes.sendMessageIcons} />\n                    </IconButton>\n                  </label>\n                </MenuItem>\n                {signMessagePar && (\n                  <Tooltip title=\"Habilitar/Desabilitar Assinatura\">\n                    <IconButton\n                      aria-label=\"send-upload\"\n                      component=\"span\"\n                      onClick={handleChangeSign}\n                    >\n                      {signMessage === true ? (\n                        <Create style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\n                      ) : (\n                        <Create style={{ color: \"grey\" }} />\n                      )}\n                    </IconButton>\n                  </Tooltip>\n                )}\n                <Tooltip title=\"Habilitar/Desabilitar Comentários\">\n                  <IconButton\n                    aria-label=\"send-upload\"\n                    component=\"span\"\n                    onClick={handlePrivateMessage}\n                  >\n                    {privateMessage === true ? (\n                      <Comment style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\n                    ) : (\n                      <Comment style={{ color: \"grey\" }} />\n                    )}\n                  </IconButton>\n                </Tooltip>\n              </Menu>\n            </Hidden>\n            <div className={classes.flexContainer}>\n              {privateMessageInputVisible && (\n                <div className={classes.flexItem}>\n                  <div className={classes.messageInputWrapperPrivate}>\n                    <InputBase\n                      inputRef={(input) => {\n                        input && input.focus();\n                        input && (inputRef.current = input);\n                      }}\n                      className={classes.messageInputPrivate}\n                      placeholder={\n                        ticketStatus === \"open\" || ticketStatus === \"group\"\n                          ? i18n.t(\"messagesInput.placeholderPrivateMessage\")\n                          : i18n.t(\"messagesInput.placeholderClosed\")\n                      }\n                      multiline\n                      maxRows={5}\n                      value={inputMessage}\n                      onChange={handleChangeInput}\n                      disabled={disableOption()}\n                      onPaste={(e) => {\n                        (ticketStatus === \"open\" || ticketStatus === \"group\") &&\n                          handleInputPaste(e);\n                      }}\n                      onKeyPress={(e) => {\n                        if (loading || e.shiftKey) return;\n                        else if (e.key === \"Enter\") {\n                          handleSendMessage();\n                        }\n                      }}\n\n                    />\n                    {typeBar ? (\n                      <ul className={classes.messageQuickAnswersWrapper}>\n                        {typeBar.map((value, index) => {\n                          return (\n                            <li\n                              className={classes.messageQuickAnswersWrapperItem}\n                              key={index}\n                            >\n                              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                              <a onClick={() => handleQuickAnswersClick(value)}>\n                                {`${value.label} - ${value.value}`}\n                              </a>\n                            </li>\n                          );\n                        })}\n                      </ul>\n                    ) : (\n                      <div></div>\n                    )}\n                  </div>\n                </div>\n              )}\n              {!privateMessageInputVisible && (\n                <div className={classes.flexItem}>\n                  <div className={classes.messageInputWrapper}>\n                    <InputBase\n                      inputRef={(input) => {\n                        input && input.focus();\n                        input && (inputRef.current = input);\n                      }}\n                      className={classes.messageInput}\n                      placeholder={placeholderText}\n                      multiline\n                      maxRows={5}\n                      value={inputMessage}\n                      onChange={handleChangeInput}\n                      disabled={disableOption()}\n                      onPaste={(e) => {\n                        (ticketStatus === \"open\" || ticketStatus === \"group\") &&\n                          handleInputPaste(e);\n                      }}\n                      onKeyPress={(e) => {\n                        if (loading || e.shiftKey) return;\n                        else if (e.key === \"Enter\") {\n                          handleSendMessage();\n                        }\n                      }}\n                    />\n                    {typeBar ? (\n                      <ul className={classes.messageQuickAnswersWrapper}>\n                        {typeBar.map((value, index) => {\n                          return (\n                            <li\n                              className={classes.messageQuickAnswersWrapperItem}\n                              key={index}\n                            >\n                              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                              <a onClick={() => handleQuickAnswersClick(value)}>\n                                {`${value.label} - ${value.value}`}\n                              </a>\n                            </li>\n                          );\n                        })}\n                      </ul>\n                    ) : (\n                      <div></div>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n            {!privateMessageInputVisible && (\n              <>\n              <Tooltip title={i18n.t(\"tickets.buttons.quickmessageflash\")}>\n                  <IconButton\n                    aria-label=\"flash\"\n                    component=\"span\"\n                    onClick={() => setInputMessage('/')}\n                  >\n                    <BoltIcon className={classes.sendMessageIcons} />\n                  </IconButton>\n                </Tooltip>\n                <Tooltip title={i18n.t(\"tickets.buttons.scredule\")}>\n                  <IconButton\n                    aria-label=\"scheduleMessage\"\n                    component=\"span\"\n                    onClick={() => setAppointmentModalOpen(true)}\n                    disabled={loading}\n                  >\n                    <Timer className={classes.sendMessageIcons} />\n                  </IconButton>\n                </Tooltip>\n                {inputMessage || showSelectMessageCheckbox ? (\n                  <>\n                    <IconButton\n                      aria-label=\"sendMessage\"\n                      component=\"span\"\n                      onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\n                      disabled={loading}\n                    >\n                      {showSelectMessageCheckbox ?\n                        <Reply className={classes.ForwardMessageIcons} /> : <Send className={classes.sendMessageIcons} />}\n                    </IconButton>\n                  </>\n                ) : recording ? (\n                  <div className={classes.recorderWrapper}>\n                    <IconButton\n                      aria-label=\"cancelRecording\"\n                      component=\"span\"\n                      fontSize=\"large\"\n                      disabled={loading}\n                      onClick={handleCancelAudio}\n                    >\n                      <HighlightOff className={classes.cancelAudioIcon} />\n                    </IconButton>\n                    {loading ? (\n                      <div>\n                        <CircularProgress className={classes.audioLoading} />\n                      </div>\n                    ) : (\n                      <RecordingTimer />\n                    )}\n\n                    <IconButton\n                      aria-label=\"sendRecordedAudio\"\n                      component=\"span\"\n                      onClick={handleUploadAudio}\n                      disabled={loading}\n                    >\n                      <CheckCircleOutline className={classes.sendAudioIcon} />\n                    </IconButton>\n                  </div>\n                ) : (\n                  <IconButton\n                    aria-label=\"showRecorder\"\n                    component=\"span\"\n                    disabled={disableOption()}\n                    onClick={handleStartRecording}\n                  >\n                    <Mic className={classes.sendMessageIcons} />\n                  </IconButton>\n                )}\n              </>\n            )}\n\n            {privateMessageInputVisible && (\n              <>\n                <IconButton\n                  aria-label=\"sendMessage\"\n                  component=\"span\"\n                  onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\n                  disabled={loading}\n                >\n                  {showSelectMessageCheckbox ?\n                    <Reply className={classes.ForwardMessageIcons} /> : <Send className={classes.sendMessageIcons} />}\n                </IconButton>\n              </>\n            )}\n            {appointmentModalOpen && (\n              <ScheduleModal\n                open={appointmentModalOpen}\n                onClose={() => setAppointmentModalOpen(false)}\n                message={inputMessage}\n                contactId={contactId}\n              />\n            )}\n          </div>\n        </Paper>\n      </>\n    );\n  }\n};\n\nexport default MessageInput;\n\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,EAAEC,MAAM,QAAQ,OAAO;AACtE,OAAO,+BAA+B;AACtC,SAASC,MAAM,QAAQ,YAAY;AACnC,SAASC,aAAa,EAAEC,QAAQ,QAAQ,mBAAmB;AAC3D,SAASC,KAAK,QAAQ,QAAQ;AAC9B,SACEC,gBAAgB,EAChBC,iBAAiB,EACjBC,UAAU,EACVC,SAAS,EACTC,UAAU,EACVC,KAAK,EACLC,MAAM,EACNC,IAAI,EACJC,QAAQ,EACRC,OAAO,EACPC,GAAG,QACE,mBAAmB;AAC1B,SACEC,IAAI,EACJC,KAAK,EACLC,IAAI,EACJC,IAAI,QACC,0BAA0B;AACjC,SACEC,UAAU,EACVC,kBAAkB,EAClBC,KAAK,EACLC,OAAO,EACPC,MAAM,EACNC,WAAW,EACXC,YAAY,EACZC,GAAG,EACHC,IAAI,EACJC,QAAQ,EACRC,IAAI,EACJC,SAAS,EACTC,MAAM,EACNC,KAAK,EACLC,GAAG,EACHC,KAAK,QACA,oBAAoB;AAC3B,OAAOC,OAAO,MAAM,wBAAwB;AAC5C,OAAOC,QAAQ,MAAM,6BAA6B;AAClD,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,IAAI,MAAM,MAAM;AACvB,SAASC,mBAAmB,QAAQ,sDAAsD;AAC1F,SAASC,WAAW,QAAQ,gCAAgC;AAC5D,SAASC,IAAI,QAAQ,sBAAsB;AAC3C,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,GAAG,MAAM,oBAAoB;AACpC,OAAOC,cAAc,MAAM,kBAAkB;AAE7C,OAAOC,gBAAgB,MAAM,8BAA8B;AAC3D,SAASC,QAAQ,EAAEC,OAAO,QAAQ,QAAQ;AAC1C,OAAOC,gBAAgB,MAAM,qBAAqB;AAClD,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,gBAAgB;AACxC,OAAOC,QAAQ,MAAM,yBAAyB;AAC9C,OAAOC,kBAAkB,MAAM,yCAAyC;AACxE,SAASC,qBAAqB,QAAQ,mDAAmD;AACzF,OAAOC,mBAAmB,MAAM,wBAAwB;AACxD,SAASC,kBAAkB,QAAQ,oDAAoD;AACvF,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,SAASC,SAAS,QAAQ,2CAA2C;AAGrE,MAAMC,WAAW,GAAG,IAAItB,WAAW,CAAC;EAAEuB,OAAO,EAAE;AAAI,CAAC,CAAC;AAErD,MAAMC,SAAS,GAAGtD,UAAU,CAAEuD,KAAK,KAAM;EACvCC,WAAW,EAAE;IACXC,UAAU,EAAE,MAAM;IAClBC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE,QAAQ;IACpBC,SAAS,EAAE,+BAA+B;IAC1C,CAACN,KAAK,CAACO,WAAW,CAACC,IAAI,CAAC,IAAI,CAAC,GAAG;MAC9BC,QAAQ,EAAE,OAAO;MACjBC,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE;IACT;EACF,CAAC;EACDC,MAAM,EAAE;IACND,KAAK,EAAE,MAAM;IACbE,MAAM,EAAE,MAAM;IACdC,YAAY,EAAE;EAChB,CAAC;EACDC,QAAQ,EAAE;IACRb,UAAU,EAAE,MAAM;IAClBC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE,QAAQ;IACpBM,KAAK,EAAE,MAAM;IACbK,OAAO,EAAE,EAAE;IACXC,IAAI,EAAE,CAAC;IACPC,KAAK,EAAE;EACT,CAAC;EACDC,WAAW,EAAE;IACXhB,OAAO,EAAE;EACX,CAAC;EACDiB,SAAS,EAAE;IACTC,SAAS,EAAE,MAAM;IACjBC,QAAQ,EAAE;EACZ,CAAC;EACDC,aAAa,EAAE;IACbrB,UAAU,EAAEF,KAAK,CAACwB,OAAO,CAACtB,UAAU,CAACuB,OAAO;IAC5Cd,KAAK,EAAE,MAAM;IACbR,OAAO,EAAE,MAAM;IACfa,OAAO,EAAE,KAAK;IACdX,UAAU,EAAE;EACd,CAAC;EACDqB,mBAAmB,EAAE;IACnBV,OAAO,EAAE,CAAC;IACVW,WAAW,EAAE,CAAC;IACdzB,UAAU,EAAEF,KAAK,CAACwB,OAAO,CAACtB,UAAU,CAAC0B,KAAK;IAC1CzB,OAAO,EAAE,MAAM;IACfW,YAAY,EAAE,EAAE;IAChBe,IAAI,EAAE,CAAC;IACPpB,QAAQ,EAAE;EACZ,CAAC;EACDqB,0BAA0B,EAAE;IAC1Bd,OAAO,EAAE,CAAC;IACVW,WAAW,EAAE,CAAC;IACdzB,UAAU,EAAE,SAAS;IACrBC,OAAO,EAAE,MAAM;IACfW,YAAY,EAAE,EAAE;IAChBe,IAAI,EAAE,CAAC;IACPpB,QAAQ,EAAE;EACZ,CAAC;EACDsB,YAAY,EAAE;IACZC,WAAW,EAAE,EAAE;IACfH,IAAI,EAAE,CAAC;IACPI,MAAM,EAAE;EAEV,CAAC;EACDC,mBAAmB,EAAE;IACnBF,WAAW,EAAE,EAAE;IACfH,IAAI,EAAE,CAAC;IACPI,MAAM,EAAE,MAAM;IACdE,KAAK,EAAEhF,IAAI,CAAC,GAAG;EAEjB,CAAC;EACDiF,gBAAgB,EAAE;IAChBD,KAAK,EAAEhF,IAAI,CAAC,GAAG;EACjB,CAAC;EACDkF,mBAAmB,EAAE;IACnBF,KAAK,EAAEhF,IAAI,CAAC,GAAG,CAAC;IAChBmF,SAAS,EAAE;EACb,CAAC;EACDC,WAAW,EAAE;IACXpC,OAAO,EAAE;EACX,CAAC;EACDqC,qBAAqB,EAAE;IACrBnB,SAAS,EAAE,MAAM;IACjBlB,OAAO,EAAE,MAAM;IACfa,OAAO,EAAE,WAAW;IACpBP,QAAQ,EAAE,UAAU;IACpBgC,cAAc,EAAE,eAAe;IAC/BpC,UAAU,EAAE,QAAQ;IACpBqC,eAAe,EAAE1C,KAAK,CAAC2C,IAAI,KAAK,OAAO,GAAG,SAAS,GAAG,SAAS;IAC/DrC,SAAS,EAAE;EACb,CAAC;EACDsC,QAAQ,EAAE;IACRnC,QAAQ,EAAE,UAAU;IACpBC,MAAM,EAAE,EAAE;IACVC,KAAK,EAAE,EAAE;IACTL,SAAS,EAAE;EACb,CAAC;EACDuC,aAAa,EAAE;IACbV,KAAK,EAAElF,KAAK,CAAC,GAAG,CAAC;IACjB6F,OAAO,EAAE,KAAK;IACdrC,QAAQ,EAAE,UAAU;IACpBsC,GAAG,EAAE,KAAK;IACV9B,IAAI,EAAE,KAAK;IACX+B,UAAU,EAAE,CAAC;EACf,CAAC;EACDC,YAAY,EAAE;IACZd,KAAK,EAAElF,KAAK,CAAC,GAAG,CAAC;IACjB6F,OAAO,EAAE;EACX,CAAC;EACDI,eAAe,EAAE;IACf/C,OAAO,EAAE,MAAM;IACfE,UAAU,EAAE,QAAQ;IACpB8C,YAAY,EAAE;EAChB,CAAC;EACDC,eAAe,EAAE;IACfjB,KAAK,EAAE;EACT,CAAC;EACDkB,aAAa,EAAE;IACblB,KAAK,EAAE;EACT,CAAC;EACDmB,kBAAkB,EAAE;IAClBnD,OAAO,EAAE,MAAM;IACfQ,KAAK,EAAE,MAAM;IACbN,UAAU,EAAE,QAAQ;IACpBoC,cAAc,EAAE,QAAQ;IACxBc,UAAU,EAAE,CAAC;IACbvB,WAAW,EAAE,EAAE;IACfwB,YAAY,EAAE,CAAC;IACfd,eAAe,EAAE1C,KAAK,CAACwB,OAAO,CAACiC;EACjC,CAAC;EACDC,oBAAoB,EAAE;IACpB7B,IAAI,EAAE,CAAC;IACPF,WAAW,EAAE,CAAC;IACdgC,SAAS,EAAE,QAAQ;IACnBjB,eAAe,EAAE1C,KAAK,CAAC2C,IAAI,KAAK,OAAO,GAAG,SAAS,GAAG,SAAS;IAAE;IACjE7B,YAAY,EAAE,OAAO;IACrBX,OAAO,EAAE,MAAM;IACfM,QAAQ,EAAE;EACZ,CAAC;EACDmD,eAAe,EAAE;IACf5C,OAAO,EAAE,EAAE;IACXH,MAAM,EAAE,MAAM;IACdV,OAAO,EAAE,OAAO;IAChB0D,UAAU,EAAE,UAAU;IACtBvC,QAAQ,EAAE;EACZ,CAAC;EACDwC,2BAA2B,EAAE;IAC3BjC,IAAI,EAAE,MAAM;IACZlB,KAAK,EAAE,KAAK;IACZ+B,eAAe,EAAE;EACnB,CAAC;EACDqB,wBAAwB,EAAE;IACxBlC,IAAI,EAAE,MAAM;IACZlB,KAAK,EAAE,KAAK;IACZ+B,eAAe,EAAE;EACnB,CAAC;EACDsB,kBAAkB,EAAE;IAClB7D,OAAO,EAAE,MAAM;IACfgC,KAAK,EAAE,SAAS;IAChB8B,UAAU,EAAE;EACd,CAAC;EACDC,0BAA0B,EAAE;IAC1BC,MAAM,EAAE,CAAC;IACT1D,QAAQ,EAAE,UAAU;IACpBC,MAAM,EAAE,MAAM;IACdR,UAAU,EAAEF,KAAK,CAACwB,OAAO,CAACtB,UAAU,CAACuB,OAAO;IAC5CT,OAAO,EAAE,CAAC;IACViB,MAAM,EAAE,MAAM;IACdhB,IAAI,EAAE,CAAC;IACPN,KAAK,EAAE,MAAM;IACb,MAAM,EAAE;MACNyD,SAAS,EAAE,MAAM;MACjB,KAAK,EAAE;QACLjE,OAAO,EAAE,OAAO;QAChBa,OAAO,EAAE,KAAK;QACdqD,YAAY,EAAE,UAAU;QACxB/C,QAAQ,EAAE,QAAQ;QAClBD,SAAS,EAAE,MAAM;QACjB,SAAS,EAAE;UACTnB,UAAU,EAAEF,KAAK,CAACwB,OAAO,CAACtB,UAAU,CAAC0B,KAAK;UAC1C0C,MAAM,EAAE;QACV;MACF;IACF;EACF,CAAC;EACDC,eAAe,EAAE;IACftC,MAAM,EAAE,MAAM;IACdnB,YAAY,EAAE,EAAE;IAAE;IAClB0D,SAAS,EAAE,MAAM;IAAE;IACnBxD,OAAO,EAAEhB,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IACzB/B,eAAe,EAAE,aAAa;IAC9BP,KAAK,EAAE,MAAM;IACb,SAAS,EAAE;MACTO,eAAe,EAAE;IACnB,CAAC;IACD,YAAY,EAAE;MACZA,eAAe,EAAE;IACnB;EACF,CAAC;EACDgC,iBAAiB,EAAE;IACjBzC,MAAM,EAAE,MAAM;IACdnB,YAAY,EAAE,CAAC;IAAE;IACjB0D,SAAS,EAAE,MAAM;IAAE;IACnB7D,KAAK,EAAEX,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IAAE;IACzB5D,MAAM,EAAEb,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IACxB/B,eAAe,EAAE,aAAa;IAC9BP,KAAK,EAAEnF,IAAI,CAAC,GAAG,CAAC;IAChB,SAAS,EAAE;MACT0F,eAAe,EAAE;IACnB;EACF,CAAC;EACDiC,mBAAmB,EAAE;IACnB1C,MAAM,EAAE,MAAM;IACdnB,YAAY,EAAE,CAAC;IAAE;IACjB0D,SAAS,EAAE,MAAM;IAAE;IACnBI,SAAS,EAAE,MAAM;IACjBjE,KAAK,EAAEX,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IAAE;IACzB5D,MAAM,EAAEb,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IACxB/B,eAAe,EAAE,aAAa;IAC9BP,KAAK,EAAEnF,IAAI,CAAC,GAAG,CAAC;IAChB,SAAS,EAAE;MACT0F,eAAe,EAAE;IACnB;EACF,CAAC;EACDmC,mBAAmB,EAAE;IACnB5C,MAAM,EAAE,MAAM;IACdnB,YAAY,EAAE,CAAC;IAAE;IACjB0D,SAAS,EAAE,MAAM;IAAE;IACnBI,SAAS,EAAE,MAAM;IACjBjE,KAAK,EAAEX,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IAAE;IACzB5D,MAAM,EAAEb,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IACxB/B,eAAe,EAAE,aAAa;IAC9BP,KAAK,EAAElF,KAAK,CAAC,GAAG,CAAC;IACjB,SAAS,EAAE;MACTyF,eAAe,EAAE;IACnB;EACF,CAAC;EACDoC,kBAAkB,EAAE;IAClB7C,MAAM,EAAE,MAAM;IACdnB,YAAY,EAAE,CAAC;IAAE;IACjB0D,SAAS,EAAE,MAAM;IAAE;IACnB7D,KAAK,EAAEX,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IAAE;IACzB5D,MAAM,EAAEb,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IACxB/B,eAAe,EAAE,aAAa;IAC9BP,KAAK,EAAE,SAAS;IAChB,SAAS,EAAE;MACTO,eAAe,EAAE;IACnB;EACF,CAAC;EACDqC,qBAAqB,EAAE;IACrB9C,MAAM,EAAE,MAAM;IACdnB,YAAY,EAAE,CAAC;IAAE;IACjB0D,SAAS,EAAE,MAAM;IAAE;IACnB7D,KAAK,EAAEX,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IAAE;IACzB5D,MAAM,EAAEb,KAAK,CAACyE,OAAO,CAAC,CAAC,CAAC;IACxB/B,eAAe,EAAE,aAAa;IAC9BP,KAAK,EAAEjF,IAAI,CAAC,GAAG,CAAC;IAChB,SAAS,EAAE;MACTwF,eAAe,EAAE;IACnB;EACF,CAAC;EACDsC,aAAa,EAAE;IACb7E,OAAO,EAAE,MAAM;IACf0B,IAAI,EAAE,CAAC;IACPzB,aAAa,EAAE;EACjB,CAAC;EACD6E,QAAQ,EAAE;IACRpD,IAAI,EAAE;EACR;AACF,CAAC,CAAC,CAAC;AAEH,MAAMqD,YAAY,GAAGA,CAAC;EAAEC,QAAQ;EAAEC,YAAY;EAAEC,YAAY;EAAEC,SAAS;EAAEC;AAAc,CAAC,KAAK;EAE3F,MAAMC,OAAO,GAAGzF,SAAS,CAAC,CAAC;EAC3B,MAAMC,KAAK,GAAG7D,QAAQ,CAAC,CAAC;EACxB,MAAM,CAACsJ,YAAY,EAAEC,eAAe,CAAC,GAAG7J,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM8J,SAAS,GAAG3J,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAAC4J,eAAe,EAAEC,kBAAkB,CAAC,GAAGhK,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACiK,YAAY,EAAEC,eAAe,CAAC,GAAGlK,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACmK,SAAS,EAAEC,YAAY,CAAC,GAAGpK,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACqK,OAAO,EAAEC,UAAU,CAAC,GAAGtK,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACuK,SAAS,EAAEC,YAAY,CAAC,GAAGxK,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACyK,YAAY,EAAEC,cAAc,CAAC,GAAG1K,QAAQ,CAAC,EAAE,CAAC;EACnD,MAAM,CAAC2K,OAAO,EAAEC,UAAU,CAAC,GAAG5K,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM6K,QAAQ,GAAG1K,MAAM,CAAC,CAAC;EACzB,MAAM,CAAC2K,WAAW,EAAEC,cAAc,CAAC,GAAG/K,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACgL,QAAQ,EAAEC,WAAW,CAAC,GAAGjL,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM;IAAEkL,kBAAkB;IAAEC;EAAgB,CAAC,GAAGjL,UAAU,CAAC0C,mBAAmB,CAAC;EAC/E,MAAM;IAAEwI,iBAAiB;IAAEC;EAAe,CAAC,GAAGnL,UAAU,CAAC2D,kBAAkB,CAAC;EAC5E,MAAM;IAAEyH;EAAK,CAAC,GAAGpL,UAAU,CAAC2C,WAAW,CAAC;EACxC,MAAM,CAAC0I,oBAAoB,EAAEC,uBAAuB,CAAC,GAAGxL,QAAQ,CAAC,KAAK,CAAC;EAEvE,MAAM,CAACyL,cAAc,EAAEC,iBAAiB,CAAC,GAAG1L,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM;IAAE2L,GAAG,EAAEC;EAAW,CAAC,GAAGlI,kBAAkB,CAAC,CAAC;EAChD,MAAM,CAACmI,WAAW,EAAEC,cAAc,CAAC,GAAG9L,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC+L,cAAc,EAAEC,iBAAiB,CAAC,GAAGhM,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACiM,0BAA0B,EAAEC,6BAA6B,CAAC,GAAGlM,QAAQ,CAAC,KAAK,CAAC;EACnF,MAAM,CAACmM,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGpM,QAAQ,CAAC,KAAK,CAAC;EACjE,MAAM,CAACqM,eAAe,EAAEC,kBAAkB,CAAC,GAAGtM,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAM;IAAEuM,IAAI,EAAEC;EAAkB,CAAC,GAAGtJ,gBAAgB,CAAC,CAAC;EAGtD,MAAMuJ,QAAQ,GAAGpM,aAAa,CAAC,oBAAoB,CAAC,CAAC,CAAC;EACtD,MAAM,CAACqM,eAAe,EAAEC,kBAAkB,CAAC,GAAG3M,QAAQ,CAAC,EAAE,CAAC;;EAE1D;EACAC,SAAS,CAAC,MAAM;IACd,IAAIsJ,YAAY,KAAK,MAAM,IAAIA,YAAY,KAAK,OAAO,EAAE;MACvDoD,kBAAkB,CAAC7J,IAAI,CAAC8J,CAAC,CAAC,+BAA+B,CAAC,CAAC;IAC7D,CAAC,MAAM;MACLD,kBAAkB,CAAC7J,IAAI,CAAC8J,CAAC,CAAC,iCAAiC,CAAC,CAAC;IAC/D;;IAEA;IACA,MAAMC,SAAS,GAAGJ,QAAQ,GAAG,EAAE,GAAGK,QAAQ,CAAC,CAAC;;IAE5C,IAAIL,QAAQ,IAAIC,eAAe,CAACK,MAAM,GAAGF,SAAS,EAAE;MAClDF,kBAAkB,CAACD,eAAe,CAACM,SAAS,CAAC,CAAC,EAAEH,SAAS,CAAC,GAAG,KAAK,CAAC;IACrE;EACF,CAAC,EAAE,CAACtD,YAAY,CAAC,CAAC;EAElB,MAAM;IACJ0D,gBAAgB;IAChBC,0BAA0B;IAC1BC;EAA0B,CAAC,GAAGjN,UAAU,CAACyD,qBAAqB,CAAC;EAEjE1D,SAAS,CAAC,MAAM;IACd,IAAIuJ,YAAY,IAAIA,YAAY,CAACuD,MAAM,GAAG,CAAC,EAAE;MAC3C,MAAMK,cAAc,GAAGC,KAAK,CAACC,IAAI,CAAC9D,YAAY,CAAC;MAC/CK,eAAe,CAACuD,cAAc,CAAC;MAC/Bd,kBAAkB,CAAC,IAAI,CAAC;IAC1B;EACF,CAAC,EAAE,CAAC9C,YAAY,CAAC,CAAC;EAElBvJ,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACX6J,SAAS,CAACyD,OAAO,GAAG,KAAK;IAC3B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENtN,SAAS,CAAC,MAAM;IACd4K,QAAQ,CAAC0C,OAAO,CAACC,KAAK,CAAC,CAAC;IACxB,IAAInC,cAAc,EAAE;MAClBnB,eAAe,CAACmB,cAAc,CAACoC,IAAI,CAAC;IACtC;EACF,CAAC,EAAE,CAACtC,eAAe,EAAEE,cAAc,CAAC,CAAC;EAErCpL,SAAS,CAAC,MAAM;IACd4K,QAAQ,CAAC0C,OAAO,CAACC,KAAK,CAAC,CAAC;IACxB,OAAO,MAAM;MACXtD,eAAe,CAAC,EAAE,CAAC;MACnBE,YAAY,CAAC,KAAK,CAAC;MACnBP,eAAe,CAAC,EAAE,CAAC;MACnBqB,kBAAkB,CAAC,IAAI,CAAC;MACxB;MACAc,iBAAiB,CAAC,KAAK,CAAC;MACxBE,6BAA6B,CAAC,KAAK,CAAC;MACpCd,iBAAiB,CAAC,IAAI,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,CAAC9B,QAAQ,EAAE4B,kBAAkB,EAAEE,iBAAiB,CAAC,CAAC;EAErDnL,SAAS,CAAC,MAAM;IACdyN,UAAU,CAAC,MAAM;MACf,IAAI5D,SAAS,CAACyD,OAAO,EACnBxC,cAAc,CAAC,KAAK,CAAC;IACzB,CAAC,EAAE,IAAI,CAAC;IACR;EACF,CAAC,EAAE,CAACD,WAAW,KAAK,IAAI,CAAC,CAAC;;EAE1B;EACA7K,SAAS,CAAC,MAAM;IACd,MAAM0N,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,MAAMC,OAAO,GAAG,MAAMhC,UAAU,CAAC;QAC/B,QAAQ,EAAE;MACZ,CAAC,CAAC;MAEF,IAAI9B,SAAS,CAACyD,OAAO,EAAE;QACrB,IAAIK,OAAO,CAACC,eAAe,KAAK,SAAS,EAAE;UACzCnC,iBAAiB,CAAC,IAAI,CAAC;UACvB,MAAMoC,kBAAkB,GAAGC,IAAI,CAACC,KAAK,CACnCC,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAC9C,CAAC;UACD,IAAI3N,KAAK,CAACuN,kBAAkB,CAAC,EAAE;YAC7BhC,cAAc,CAAC,IAAI,CAAC;UACtB,CAAC,MAAM;YACLA,cAAc,CAACgC,kBAAkB,CAAC;UACpC;QACF,CAAC,MAAM;UACLpC,iBAAiB,CAAC,KAAK,CAAC;QAC1B;MACF;IACF,CAAC;IACDiC,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,qBAAqB,GAAIC,MAAM,IAAK;IACxC,OAAOA,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGF,MAAM,CAACG,KAAK,CAAC,CAAC,CAAC;EACzD,CAAC;EAED,MAAMC,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,MAAMC,IAAI,GAAG,uBAAuBnF,QAAQ,EAAE;IAC9CY,eAAe,CAACuE,IAAI,CAAC;EACvB,CAAC;EAED,MAAMC,iBAAiB,GAAIC,CAAC,IAAK;IAC/BzE,eAAe,CAACyE,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC;EACjC,CAAC;EAED,MAAMC,oBAAoB,GAAIH,CAAC,IAAK;IAClC3C,iBAAiB,CAAC,CAACD,cAAc,CAAC;IAClCG,6BAA6B,CAAC,CAACD,0BAA0B,CAAC;EAC5D,CAAC;EAED,MAAM8C,qBAAqB,GAAGA,CAAA,KAAM;IAClCC,mBAAmB,CAAC,CAAC;IACrBhF,kBAAkB,CAAC,IAAI,CAAC,CAAC,CAAC;EAC5B,CAAC;EAED,MAAMiF,uBAAuB,GAAG,MAAOJ,KAAK,IAAK;IAC/C,IAAIA,KAAK,CAACK,SAAS,EAAE;MACnB,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAM5L,KAAK,CAACoI,GAAG,CAACkD,KAAK,CAACK,SAAS,EAAE;UAChDE,YAAY,EAAE;QAChB,CAAC,CAAC;QAEFC,6BAA6B,CAACF,IAAI,EAAEN,KAAK,CAACA,KAAK,CAAC;QAChD3E,eAAe,CAAC,EAAE,CAAC;QACnB;QACA;MACF,CAAC,CAAC,OAAOoF,GAAG,EAAE;QACZvM,UAAU,CAACuM,GAAG,CAAC;MACjB;IACF;IAEApF,eAAe,CAAC,EAAE,CAAC;IACnBA,eAAe,CAAC2E,KAAK,CAACA,KAAK,CAAC;IAC5BjE,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAM2E,cAAc,GAAIZ,CAAC,IAAK;IAC5B,IAAIa,KAAK,GAAGb,CAAC,CAACc,MAAM;IACpBvF,eAAe,CAAEwF,SAAS,IAAKA,SAAS,GAAGF,KAAK,CAAC;EACnD,CAAC;EAED,MAAM,CAACG,eAAe,EAAEC,kBAAkB,CAAC,GAAG5P,QAAQ,CAAC,KAAK,CAAC;EAE7D,MAAM6P,aAAa,GAAIC,SAAS,IAAK;IACnC,IAAIA,SAAS,EAAE;MACbC,kBAAkB,CAACD,SAAS,CAAC;IAC/B;EACF,CAAC;EAED,MAAME,kBAAkB,GAAIrB,CAAC,IAAK;IAChC,IAAI,CAACA,CAAC,CAACC,MAAM,CAACqB,KAAK,EAAE;MACnB;IACF;IACA,MAAM7C,cAAc,GAAGC,KAAK,CAACC,IAAI,CAACqB,CAAC,CAACC,MAAM,CAACqB,KAAK,CAAC;IACjDpG,eAAe,CAACuD,cAAc,CAAC;IAC/Bd,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAM4D,gBAAgB,GAAIvB,CAAC,IAAK;IAC9BwB,gCAAgC,CAAC,CAAC;EACpC,CAAC;EAED,MAAMC,sBAAsB,GAAGA,CAAA,KAAM;IACnC,IAAInD,gBAAgB,CAACF,MAAM,KAAK,CAAC,EAAE;MACjCG,0BAA0B,CAAC,KAAK,CAAC;MACjCnK,UAAU,CAACD,IAAI,CAAC8J,CAAC,CAAC,gCAAgC,CAAC,CAAC;MACpD;IACF;IACAM,0BAA0B,CAAC,IAAI,CAAC;EAClC,CAAC;EAED,MAAMiD,gCAAgC,GAAGA,CAAA,KAAM;IAC7C,MAAMrC,kBAAkB,GAAGC,IAAI,CAACC,KAAK,CACnCC,YAAY,CAACC,OAAO,CAAC,uBAAuB,CAC9C,CAAC;IACD;IACA,IAAIJ,kBAAkB,KAAK,IAAI,EAAE;MAC/B,IAAIA,kBAAkB,EAAE;QACtBG,YAAY,CAACoC,OAAO,CAAC,uBAAuB,EAAE,KAAK,CAAC;QACpDvE,cAAc,CAAC,KAAK,CAAC;MACvB,CAAC,MAAM;QACLmC,YAAY,CAACoC,OAAO,CAAC,uBAAuB,EAAE,IAAI,CAAC;QACnDvE,cAAc,CAAC,IAAI,CAAC;MACtB;IACF,CAAC,MAAM;MACLmC,YAAY,CAACoC,OAAO,CAAC,uBAAuB,EAAE,KAAK,CAAC;MACpDvE,cAAc,CAAC,KAAK,CAAC;IACvB;EACF,CAAC;EAED,MAAMwE,gBAAgB,GAAI3B,CAAC,IAAK;IAC9B,IAAIA,CAAC,CAAC4B,aAAa,CAACN,KAAK,CAAC,CAAC,CAAC,EAAE;MAC5B,MAAM7C,cAAc,GAAGC,KAAK,CAACC,IAAI,CAACqB,CAAC,CAAC4B,aAAa,CAACN,KAAK,CAAC;MACxDpG,eAAe,CAACuD,cAAc,CAAC;MAC/Bd,kBAAkB,CAAC,IAAI,CAAC;IAC1B;EACF,CAAC;EAED,MAAMkE,eAAe,GAAI7B,CAAC,IAAK;IAC7BA,CAAC,CAAC8B,cAAc,CAAC,CAAC;IAClB,IAAI9B,CAAC,CAAC+B,YAAY,CAACT,KAAK,CAAC,CAAC,CAAC,EAAE;MAC3B,MAAM7C,cAAc,GAAGC,KAAK,CAACC,IAAI,CAACqB,CAAC,CAAC+B,YAAY,CAACT,KAAK,CAAC;MACvDpG,eAAe,CAACuD,cAAc,CAAC;MAC/Bd,kBAAkB,CAAC,IAAI,CAAC;IAC1B;EACF,CAAC;EAED,MAAMqE,iBAAiB,GAAG,MAAO/G,YAAY,IAAK;IAChDU,UAAU,CAAC,IAAI,CAAC;IAChB;;IAEA;IACA,IAAI,CAACV,YAAY,CAACmD,MAAM,EAAE;MACxB6D,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;MACzCvG,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,MAAMwG,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC;IAC/BF,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEjF,cAAc,GAAG,MAAM,GAAG,OAAO,CAAC;IAC/DnC,YAAY,CAACqH,OAAO,CAAEC,KAAK,IAAK;MAC9BJ,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEE,KAAK,CAACC,OAAO,CAAC;MACtCL,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEE,KAAK,CAACE,IAAI,CAAC;IACvC,CAAC,CAAC;IAEF,IAAI;MACF,MAAMpO,GAAG,CAACqO,IAAI,CAAC,aAAa/H,QAAQ,EAAE,EAAEwH,QAAQ,CAAC;IACnD,CAAC,CAAC,OAAOxB,GAAG,EAAE;MACZvM,UAAU,CAACuM,GAAG,CAAC;IACjB;IAEAhF,UAAU,CAAC,KAAK,CAAC;IACjBT,eAAe,CAAC,EAAE,CAAC;IACnByC,kBAAkB,CAAC,KAAK,CAAC;IACzBN,iBAAiB,CAAC,KAAK,CAAC;IACxBE,6BAA6B,CAAC,KAAK,CAAC;EACtC,CAAC;EAED,MAAMoF,wBAAwB,GAAG,MAAOC,KAAK,IAAK;IAChDnF,oBAAoB,CAAC,KAAK,CAAC;IAC3B9B,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI/J,KAAK,CAACgR,KAAK,CAAC,EAAE;MAChBjH,UAAU,CAAC,KAAK,CAAC;MACjB;IACF;IAEA,MAAMkH,OAAO,GAAG;MACdC,IAAI,EAAE,CAAC;MACPC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,EAAE;MACZlE,IAAI,EAAE,IAAI;MACVmE,SAAS,EAAEzG,eAAe;MAC1B0G,SAAS,EAAE9F,cAAc,GAAG,MAAM,GAAG,OAAO;MAC5C+F,KAAK,EAAEP;IACT,CAAC;IACD,IAAI;MACF,MAAMvO,GAAG,CAACqO,IAAI,CAAC,aAAa/H,QAAQ,EAAE,EAAEkI,OAAO,CAAC;IAClD,CAAC,CAAC,OAAOlC,GAAG,EAAE;MACZvM,UAAU,CAACuM,GAAG,CAAC;IACjB;IAEApF,eAAe,CAAC,EAAE,CAAC;IACnBE,YAAY,CAAC,KAAK,CAAC;IACnBE,UAAU,CAAC,KAAK,CAAC;IACjBY,kBAAkB,CAAC,IAAI,CAAC;IACxBE,iBAAiB,CAAC,IAAI,CAAC;IACvBY,iBAAiB,CAAC,KAAK,CAAC;IACxBE,6BAA6B,CAAC,KAAK,CAAC;EACtC,CAAC;EAED,MAAM6F,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IAEpC,IAAI9H,YAAY,CAAC+H,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;IAChC1H,UAAU,CAAC,IAAI,CAAC;IAEhB,MAAM2H,QAAQ,GAAGlG,cAAc,GAC3B,GAAGT,IAAI,CAAC4G,IAAI,qBAAqB,GACjC5G,IAAI,CAAC4G,IAAI;IAEb,MAAMC,WAAW,GAAGlI,YAAY,CAAC+H,IAAI,CAAC,CAAC;IAEvC,MAAMR,OAAO,GAAG;MACdC,IAAI,EAAE,CAAC;MACPC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,EAAE;MACZlE,IAAI,EAAE,CAAC5B,WAAW,IAAIE,cAAc,KAAK,CAACV,cAAc,GACpD,IAAI4G,QAAQ,OAAOE,WAAW,EAAE,GAChCA,WAAW;MACfP,SAAS,EAAEzG,eAAe;MAC1B0G,SAAS,EAAE9F,cAAc,GAAG,MAAM,GAAG;IACvC,CAAC;IAED,IAAI;MACF,IAAIV,cAAc,KAAK,IAAI,EAAE;QAC3B,MAAMrI,GAAG,CAACqO,IAAI,CAAC,kBAAkBhG,cAAc,CAAC+G,EAAE,EAAE,EAAEZ,OAAO,CAAC;MAChE,CAAC,MAAM;QACL,MAAMxO,GAAG,CAACqO,IAAI,CAAC,aAAa/H,QAAQ,EAAE,EAAEkI,OAAO,CAAC;MAClD;IACF,CAAC,CAAC,OAAOlC,GAAG,EAAE;MACZvM,UAAU,CAACuM,GAAG,CAAC;IACjB;IAEApF,eAAe,CAAC,EAAE,CAAC;IACnBE,YAAY,CAAC,KAAK,CAAC;IACnBE,UAAU,CAAC,KAAK,CAAC;IACjBY,kBAAkB,CAAC,IAAI,CAAC;IACxBc,iBAAiB,CAAC,KAAK,CAAC;IACxBZ,iBAAiB,CAAC,IAAI,CAAC;IACvBc,6BAA6B,CAAC,KAAK,CAAC;IACpC8C,mBAAmB,CAAC,CAAC;EACvB,CAAC;EAED,MAAMqD,oBAAoB,GAAG,MAAAA,CAAA,KAAY;IACvC/H,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMgI,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MAC1D,MAAMzO,WAAW,CAAC0O,KAAK,CAAC,CAAC;MACzBlI,YAAY,CAAC,IAAI,CAAC;MAClBF,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOgF,GAAG,EAAE;MACZvM,UAAU,CAACuM,GAAG,CAAC;MACfhF,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDrK,SAAS,CAAC,MAAM;IACd,eAAe0S,SAASA,CAAA,EAAG;MACzB,MAAMC,SAAS,GAAGtH,IAAI,CAACsH,SAAS;MAChC,MAAMC,QAAQ,GAAG,MAAMrG,iBAAiB,CAAC;QAAEoG,SAAS;QAAEE,MAAM,EAAExH,IAAI,CAAC8G;MAAG,CAAC,CAAC;MACxE,MAAMW,OAAO,GAAGF,QAAQ,CAACG,GAAG,CAAEC,CAAC,IAAK;QAClC,IAAIC,gBAAgB,GAAGD,CAAC,CAACzB,OAAO;QAChC,IAAIrO,QAAQ,CAAC+P,gBAAgB,CAAC,IAAIA,gBAAgB,CAACnG,MAAM,GAAG,EAAE,EAAE;UAC9DmG,gBAAgB,GAAGD,CAAC,CAACzB,OAAO,CAACxE,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,KAAK;QACvD;QACA,OAAO;UACL6B,KAAK,EAAEoE,CAAC,CAACzB,OAAO;UAChB2B,KAAK,EAAE,IAAIF,CAAC,CAACG,SAAS,MAAMF,gBAAgB,EAAE;UAC9ChE,SAAS,EAAE+D,CAAC,CAAC/D;QACf,CAAC;MACH,CAAC,CAAC;MACF,IAAIpF,SAAS,CAACyD,OAAO,EAAE;QAErB7C,cAAc,CAACqI,OAAO,CAAC;MACzB;IACF;IACAJ,SAAS,CAAC,CAAC;IACX;EACF,CAAC,EAAE,EAAE,CAAC;EAEN1S,SAAS,CAAC,MAAM;IACd,IACEkD,QAAQ,CAAC8G,YAAY,CAAC,IACtB,CAAC7G,OAAO,CAAC6G,YAAY,CAAC,IACtBA,YAAY,CAAC8C,MAAM,IAAI,CAAC,EACxB;MACA,MAAMsG,SAAS,GAAGpJ,YAAY,CAACoE,MAAM,CAAC,CAAC,CAAC;MAExC,IAAIgF,SAAS,KAAK,GAAG,EAAE;QACrBzI,UAAU,CAACyI,SAAS,CAACC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QAEvC,MAAMC,eAAe,GAAG9I,YAAY,CAAC+I,MAAM,CACxCP,CAAC,IAAKA,CAAC,CAACE,KAAK,CAACM,WAAW,CAAC,CAAC,CAACH,OAAO,CAACrJ,YAAY,CAACwJ,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,CACtE,CAAC;QACD7I,UAAU,CAAC2I,eAAe,CAAC;MAC7B,CAAC,MAAM;QACL3I,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,MAAM;MACLA,UAAU,CAAC,KAAK,CAAC;IACnB;IACA;EACF,CAAC,EAAE,CAACX,YAAY,CAAC,CAAC;EAElB,MAAMyJ,aAAa,GAAGA,CAAA,KAAM;IAC1B,OACErJ,OAAO,IACPE,SAAS,IACRhB,YAAY,KAAK,MAAM,IAAIA,YAAY,KAAK,OAAQ;EAEzD,CAAC;EAED,MAAMwG,kBAAkB,GAAG,MAAO4D,IAAI,IAAK;IACzCrJ,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMwG,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/B,MAAM6C,QAAQ,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,MAAM;MAC9ChD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE2C,IAAI,EAAEC,QAAQ,CAAC;MACzC9C,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEjF,cAAc,GAAG,QAAQ,GAAG,EAAE,CAAC;MACvD+E,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC;MAE/B,MAAMhO,GAAG,CAACqO,IAAI,CAAC,aAAa/H,QAAQ,EAAE,EAAEwH,QAAQ,CAAC;IACnD,CAAC,CAAC,OAAOxB,GAAG,EAAE;MACZvM,UAAU,CAACuM,GAAG,CAAC;MACfhF,UAAU,CAAC,KAAK,CAAC;IACnB;IACAA,UAAU,CAAC,KAAK,CAAC;EACnB,CAAC;EAED,MAAM+E,6BAA6B,GAAG,MAAAA,CAAOsE,IAAI,EAAEnC,OAAO,KAAK;IAC7DlH,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMyJ,SAAS,GAAGJ,IAAI,CAACK,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAEzC,MAAMnD,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/B,MAAM6C,QAAQ,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,IAAIC,SAAS,EAAE;MACvDjD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE2C,IAAI,EAAEC,QAAQ,CAAC;MACzC9C,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEjF,cAAc,GAAG,SAASyF,OAAO,EAAE,GAAGA,OAAO,CAAC;MACtEV,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC;MAE/B,IAAIlH,SAAS,CAACyD,OAAO,EAAE;QACrB,MAAMvK,GAAG,CAACqO,IAAI,CAAC,aAAa/H,QAAQ,EAAE,EAAEwH,QAAQ,CAAC;MACnD;IACF,CAAC,CAAC,OAAOxB,GAAG,EAAE;MACZvM,UAAU,CAACuM,GAAG,CAAC;IACjB,CAAC,SAAS;MACR,IAAIxF,SAAS,CAACyD,OAAO,EAAE;QACrBjD,UAAU,CAAC,KAAK,CAAC;MACnB;IACF;EACF,CAAC;EAGD,MAAM4J,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IAEpC5J,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAM,GAAGqJ,IAAI,CAAC,GAAG,MAAM3P,WAAW,CAACmQ,IAAI,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;MAClD,IAAIT,IAAI,CAACU,IAAI,GAAG,KAAK,EAAE;QACrB/J,UAAU,CAAC,KAAK,CAAC;QACjBE,YAAY,CAAC,KAAK,CAAC;QACnB;MACF;MAEA,MAAMsG,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/B,MAAM6C,QAAQ,GAAGlK,aAAa,KAAK,UAAU,GAAG,GAAG,IAAImK,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,MAAM,GAAG,GAAG,IAAID,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,MAAM;MAC7GhD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE2C,IAAI,EAAEC,QAAQ,CAAC;MACzC9C,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE4C,QAAQ,CAAC;MACjC9C,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,IAAI,CAAC;MAE/B,IAAIlH,SAAS,CAACyD,OAAO,EAAE;QACrB,MAAMvK,GAAG,CAACqO,IAAI,CAAC,aAAa/H,QAAQ,EAAE,EAAEwH,QAAQ,CAAC;MACnD;IACF,CAAC,CAAC,OAAOxB,GAAG,EAAE;MACZvM,UAAU,CAACuM,GAAG,CAAC;IACjB,CAAC,SAAS;MACR,IAAIxF,SAAS,CAACyD,OAAO,EAAE;QACrBjD,UAAU,CAAC,KAAK,CAAC;QACjBE,YAAY,CAAC,KAAK,CAAC;MACrB;IACF;EACF,CAAC;EAED,MAAM8J,sBAAsB,GAAGA,CAAA,KAAM;IACnChI,kBAAkB,CAAC,KAAK,CAAC;EAC3B,CAAC;EACD,MAAMiI,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF,MAAMvQ,WAAW,CAACmQ,IAAI,CAAC,CAAC,CAACC,MAAM,CAAC,CAAC;MACjC5J,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,OAAO8E,GAAG,EAAE;MACZvM,UAAU,CAACuM,GAAG,CAAC;IACjB;EACF,CAAC;EAED,MAAMkF,mBAAmB,GAAIC,KAAK,IAAK;IACrCxJ,WAAW,CAACwJ,KAAK,CAACC,aAAa,CAAC;EAClC,CAAC;EAED,MAAM1F,mBAAmB,GAAIyF,KAAK,IAAK;IACrCxJ,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAED,MAAM0J,0BAA0B,GAAG,MAAAA,CAAA,KAAY;IAC7C3F,mBAAmB,CAAC,CAAC;IACrB5C,oBAAoB,CAAC,IAAI,CAAC;EAC5B,CAAC;EAED,MAAMwI,qBAAqB,GAAG,MAAAA,CAAA,KAAY;IACxC5F,mBAAmB,CAAC,CAAC;IACrBY,kBAAkB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAED,MAAMiF,qBAAqB,GAAGA,CAAA,KAAM;IAClChL,eAAe,CAAC,EAAE,CAAC;IACnByC,kBAAkB,CAAC,KAAK,CAAC;EAC3B,CAAC;EAED,MAAMwI,qBAAqB,GAAItD,OAAO,IAAK;IAAA,IAAAuD,gBAAA;IACzC,oBACEhV,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAAClC,kBAAmB;MAAAyN,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACzCxV,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAAC9B,oBAAqB;MAAAqN,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC3CxV,KAAA,CAAAiV,aAAA;MACEC,SAAS,EAAEtS,IAAI,CAACgH,OAAO,CAAC1B,2BAA2B,EAAE;QACnD,CAAC0B,OAAO,CAACzB,wBAAwB,GAAG,CAACsJ,OAAO,CAACE;MAC/C,CAAC,CAAE;MAAAwD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACE,CAAC,EACPpK,eAAe,iBACdpL,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAAC5B,eAAgB;MAAAmN,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACrC,CAAC/D,OAAO,CAACE,MAAM,iBACd3R,KAAA,CAAAiV,aAAA;MAAMC,SAAS,EAAEtL,OAAO,CAACxB,kBAAmB;MAAA+M,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,IAAAR,gBAAA,GACzCvD,OAAO,CAACgE,OAAO,cAAAT,gBAAA,uBAAfA,gBAAA,CAAiB7C,IACd,CACP,EACAV,OAAO,CAAC/D,IACN,CAGJ,CAAC,eACN1N,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,cAAc;MACzB+U,SAAS,EAAC,MAAM;MAChBC,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAC1BiC,OAAO,EAAEA,CAAA,KAAM;QACbzK,kBAAkB,CAAC,IAAI,CAAC;QACxBE,iBAAiB,CAAC,IAAI,CAAC;QACvBlB,eAAe,CAAC,EAAE,CAAC;MACrB,CAAE;MAAAgL,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEFxV,KAAA,CAAAiV,aAAA,CAACvT,KAAK;MAACwT,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACnC,CACT,CAAC;EAEV,CAAC;EAED,IAAI3L,YAAY,CAACmD,MAAM,GAAG,CAAC,EAAE;IAC3B,oBAEEhN,KAAA,CAAAiV,aAAA,CAACnU,KAAK;MACJ+U,SAAS,EAAE,CAAE;MACbC,MAAM;MACNZ,SAAS,EAAEtL,OAAO,CAAChD,qBAAsB;MACzCmE,WAAW,EAAEA,CAAA,KAAMC,cAAc,CAAC,IAAI,CAAE;MACxC+K,MAAM,EAAGnH,CAAC,IAAK6B,eAAe,CAAC7B,CAAC,CAAE;MAAAuG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEjClJ,eAAe,iBACdtM,KAAA,CAAAiV,aAAA,CAACpR,mBAAmB;MAClBmS,MAAM,EAAE1J,eAAgB;MACxB4D,KAAK,EAAErG,YAAa;MACpBoM,OAAO,EAAE1B,sBAAuB;MAChC2B,MAAM,EAAEtF,iBAAkB;MAC1BuF,iBAAiB,EAAErB,qBAAsB;MAAAK,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC1C,CAGE,CAAC;EAEZ,CAAC,MACI;IACH,oBACExV,KAAA,CAAAiV,aAAA,CAAAjV,KAAA,CAAAoW,QAAA,QACGxG,eAAe,iBACd5P,KAAA,CAAAiV,aAAA,CAAC1R,WAAW;MACVyS,MAAM,EAAEpG,eAAgB;MACxByG,cAAc,EAAEA,CAAA,KAAMxG,kBAAkB,CAAC,KAAK,CAAE;MAChDyG,SAAS,EAAExG,aAAc;MAAAqF,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC1B,CACF,EACApJ,iBAAiB,iBAChBpM,KAAA,CAAAiV,aAAA,CAAC3R,gBAAgB;MACfiT,SAAS,EAAEnK,iBAAkB;MAC7B6J,OAAO,EAAGO,CAAC,IAAK;QACdjF,wBAAwB,CAACiF,CAAC,CAAC;MAC7B,CAAE;MAAArB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACH,CACF,eACDxV,KAAA,CAAAiV,aAAA,CAACnU,KAAK;MACJgV,MAAM;MACND,SAAS,EAAE,CAAE;MACbX,SAAS,EAAEtL,OAAO,CAACvF,WAAY;MAC/B0G,WAAW,EAAEA,CAAA,KAAMC,cAAc,CAAC,IAAI,CAAE;MACxC+K,MAAM,EAAGnH,CAAC,IAAK6B,eAAe,CAAC7B,CAAC,CAAE;MAAAuG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEhCpK,eAAe,IAAI2J,qBAAqB,CAAC3J,eAAe,CAAC,IAAME,cAAc,IAAIyJ,qBAAqB,CAACzJ,cAAc,CAAE,eACzHtL,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAACjE,aAAc;MAAAwP,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACpCxV,KAAA,CAAAiV,aAAA,CAAClU,MAAM;MAAC0V,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,CAAE;MAAAtB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACzBxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,aAAa;MACxB+U,SAAS,EAAC,MAAM;MAChBC,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAC1BiC,OAAO,EAAGhH,CAAC,IAAKvE,YAAY,CAAEsF,SAAS,IAAK,CAACA,SAAS,CAAE;MAAAwF,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAExDxV,KAAA,CAAAiV,aAAA,CAACjT,IAAI;MAACkT,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAClC,CAAC,EACZpL,SAAS,gBACRpK,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAAC5C,QAAS;MAAAmO,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/BxV,KAAA,CAAAiV,aAAA,CAACvU,iBAAiB;MAACgW,WAAW,EAAG9H,CAAC,IAAKvE,YAAY,CAAC,IAAI,CAAE;MAAA8K,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxDxV,KAAA,CAAAiV,aAAA,CAAC5U,MAAM;MACLsW,OAAO,EAAE,EAAG;MACZvS,KAAK,EAAE,MAAO;MACdrB,IAAI,EAAEA,IAAK;MACX6T,WAAW,EAAE,IAAK;MAClBC,aAAa,EAAE,KAAM;MACrBC,QAAQ,EAAEtH,cAAe;MAAA2F,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC1B,CACgB,CAChB,CAAC,GACJ,IAAI,eAERxV,KAAA,CAAAiV,aAAA,CAAC9T,GAAG;MACFwU,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAC1B,cAAW,cAAc;MACzB+B,SAAS,EAAC,MAAM;MAChBR,SAAS,EAAEtL,OAAO,CAACjB,eAAgB;MACnCiN,OAAO,EAAEnB,mBAAoB;MAAAU,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAE7BxV,KAAA,CAAAiV,aAAA,CAACzS,OAAO;MAAA2S,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACP,CAAC,eACNxV,KAAA,CAAAiV,aAAA,CAACjU,IAAI;MACHiK,QAAQ,EAAEA,QAAS;MACnB8L,WAAW;MACXC,IAAI,EAAEC,OAAO,CAAChM,QAAQ,CAAE;MACxBgL,OAAO,EAAEhH,mBAAoB;MAC7BoD,EAAE,EAAC,aAAa;MAAA8C,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEhBxV,KAAA,CAAAiV,aAAA,CAAChU,QAAQ;MAAC2U,OAAO,EAAE3G,mBAAoB;MAAAkG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACrCxV,KAAA,CAAAiV,aAAA;MACEiC,QAAQ;MACRjD,IAAI,EAAC,MAAM;MACX5B,EAAE,EAAC,mBAAmB;MACtB8E,MAAM,EAAC;MACP;MAAA;MACAjC,SAAS,EAAEtL,OAAO,CAACjD,WAAY;MAC/ByQ,QAAQ,EAAEnH,kBAAmB;MAAAkF,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC9B,CAAC,eACFxV,KAAA,CAAAiV,aAAA;MAAOoC,OAAO,EAAC,mBAAmB;MAAAlC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAChCxV,KAAA,CAAAiV,aAAA,CAAC9T,GAAG;MACF,cAAW,YAAY;MACvBuU,SAAS,EAAC,MAAM;MAChBR,SAAS,EAAEtL,OAAO,CAACd,iBAAkB;MAAAqM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAErCxV,KAAA,CAAAiV,aAAA,CAAC9S,SAAS;MAAAgT,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACT,CAAC,EACLzS,IAAI,CAAC8J,CAAC,CAAC,8BAA8B,CACjC,CACC,CAAC,eACX7M,KAAA,CAAAiV,aAAA,CAAChU,QAAQ;MAAC2U,OAAO,EAAEf,qBAAsB;MAAAM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvCxV,KAAA,CAAAiV,aAAA,CAAC9T,GAAG;MAAC+T,SAAS,EAAEtL,OAAO,CAACT,qBAAsB;MAAAgM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC5CxV,KAAA,CAAAiV,aAAA,CAACvS,SAAS;MAAAyS,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACT,CAAC,EACLzS,IAAI,CAAC8J,CAAC,CAAC,uBAAuB,CACvB,CAAC,eACX7M,KAAA,CAAAiV,aAAA,CAAChU,QAAQ;MAAC2U,OAAO,EAAE3G,mBAAoB;MAAAkG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACrCxV,KAAA,CAAAiV,aAAA;MACEiC,QAAQ;MACRjD,IAAI,EAAC,MAAM;MACX5B,EAAE,EAAC,mBAAmB;MACtB8E,MAAM,EAAC;MACP;MAAA;MACAjC,SAAS,EAAEtL,OAAO,CAACjD,WAAY;MAC/ByQ,QAAQ,EAAEnH,kBAAmB;MAAAkF,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC9B,CAAC,eACFxV,KAAA,CAAAiV,aAAA;MAAOoC,OAAO,EAAC,mBAAmB;MAAAlC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAChCxV,KAAA,CAAAiV,aAAA,CAAC9T,GAAG;MAAC,cAAW,YAAY;MAC1BuU,SAAS,EAAC,MAAM;MAACR,SAAS,EAAEtL,OAAO,CAACV,kBAAmB;MAAAiM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvDxV,KAAA,CAAAiV,aAAA,CAACpT,WAAW;MAAAsT,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACX,CAAC,aAED,CACC,CAAC,eACXxV,KAAA,CAAAiV,aAAA,CAAChU,QAAQ;MAAC2U,OAAO,EAAEhB,0BAA2B;MAAAO,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC5CxV,KAAA,CAAAiV,aAAA,CAAC9T,GAAG;MAAC+T,SAAS,EAAEtL,OAAO,CAACb,mBAAoB;MAAAoM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC1CxV,KAAA,CAAAiV,aAAA,CAAC7S,MAAM;MAAA+S,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACN,CAAC,EACLzS,IAAI,CAAC8J,CAAC,CAAC,2BAA2B,CAC3B,CAAC,eACX7M,KAAA,CAAAiV,aAAA,CAAChU,QAAQ;MAAC2U,OAAO,EAAEnH,mBAAoB;MAAA0G,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACrCxV,KAAA,CAAAiV,aAAA,CAAC9T,GAAG;MAAC+T,SAAS,EAAEtL,OAAO,CAACX,mBAAoB;MAAAkM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC1CxV,KAAA,CAAAiV,aAAA,CAAC3S,GAAG;MAAA6S,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACH,CAAC,EACLzS,IAAI,CAAC8J,CAAC,CAAC,wBAAwB,CACxB,CAAC,EACV7C,eAAe,iBACtBhK,KAAA,CAAAiV,aAAA,CAACxR,WAAW;MACV8S,SAAS,EAAEvM,eAAgB;MAC3BiM,OAAO,EAAEA,CAAA,KAAMhM,kBAAkB,CAAC,KAAK,CAAE,CAAC;MAAA;MAC1CV,QAAQ,EAAEA,QAAS;MAAA4L,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACpB,CACF,eACOxV,KAAA,CAAAiV,aAAA,CAAChU,QAAQ;MAAC2U,OAAO,EAAE5G,qBAAsB;MAAAmG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvCxV,KAAA,CAAAiV,aAAA,CAAC9T,GAAG;MAAC+T,SAAS,EAAEtL,OAAO,CAACb,mBAAoB;MAAAoM,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC1CxV,KAAA,CAAAiV,aAAA,CAACvR,QAAQ;MAAAyR,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACR,CAAC,aAEE,CACN,CAAC,EAWN9J,cAAc,iBACb1L,KAAA,CAAAiV,aAAA,CAAC/T,OAAO;MAACoW,KAAK,EAAEvU,IAAI,CAAC8J,CAAC,CAAC,gCAAgC,CAAE;MAAAsI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACvDxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,aAAa;MACxB+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAEzF,gBAAiB;MAAAgF,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEzB1J,WAAW,KAAK,IAAI,gBACnB9L,KAAA,CAAAiV,aAAA,CAACrT,MAAM;MAAC2V,KAAK,EAAE;QAAEhR,KAAK,EAAEnC,KAAK,CAAC2C,IAAI,KAAK,OAAO,GAAG3C,KAAK,CAACwB,OAAO,CAAC4R,OAAO,CAACC,IAAI,GAAG;MAAO,CAAE;MAAAtC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,gBAE1FxV,KAAA,CAAAiV,aAAA,CAACrT,MAAM;MAAC2V,KAAK,EAAE;QAAEhR,KAAK,EAAE;MAAO,CAAE;MAAA4O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAE3B,CACL,CACV,eACDxV,KAAA,CAAAiV,aAAA,CAAC/T,OAAO;MAACoW,KAAK,EAAEvU,IAAI,CAAC8J,CAAC,CAAC,qCAAqC,CAAE;MAAAsI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC5DxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,aAAa;MACxB+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAE7G,oBAAqB;MAAAoG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAE7BxJ,cAAc,KAAK,IAAI,gBACtBhM,KAAA,CAAAiV,aAAA,CAACtT,OAAO;MAAC4V,KAAK,EAAE;QAAEhR,KAAK,EAAEnC,KAAK,CAAC2C,IAAI,KAAK,OAAO,GAAG3C,KAAK,CAACwB,OAAO,CAAC4R,OAAO,CAACC,IAAI,GAAG;MAAO,CAAE;MAAAtC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,gBAE3FxV,KAAA,CAAAiV,aAAA,CAACtT,OAAO;MAAC4V,KAAK,EAAE;QAAEhR,KAAK,EAAE;MAAO,CAAE;MAAA4O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAE5B,CACL,CAUH,CAAC,eACTxV,KAAA,CAAAiV,aAAA,CAAClU,MAAM;MAAC0V,IAAI,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAE;MAAAtB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/BxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,iBAAc,aAAa;MAC3B,iBAAc,MAAM;MACpBiV,OAAO,EAAEnB,mBAAoB;MAAAU,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAE7BxV,KAAA,CAAAiV,aAAA,CAAChT,QAAQ;MAAAkT,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAW,CACV,CAAC,eACbxV,KAAA,CAAAiV,aAAA,CAACjU,IAAI;MACHqR,EAAE,EAAC,aAAa;MAChB0E,WAAW;MACX9L,QAAQ,EAAEA,QAAS;MACnB+L,IAAI,EAAEC,OAAO,CAAChM,QAAQ,CAAE;MACxBgL,OAAO,EAAEhH,mBAAoB;MAAAkG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAE7BxV,KAAA,CAAAiV,aAAA,CAAChU,QAAQ;MAAC2U,OAAO,EAAE3G,mBAAoB;MAAAkG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACrCxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,aAAa;MACxB+U,SAAS,EAAC,MAAM;MAChBC,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAC1BiC,OAAO,EAAGhH,CAAC,IAAKvE,YAAY,CAAEsF,SAAS,IAAK,CAACA,SAAS,CAAE;MAAAwF,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAExDxV,KAAA,CAAAiV,aAAA,CAACjT,IAAI;MAACkT,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAClC,CACJ,CAAC,eACXxV,KAAA,CAAAiV,aAAA,CAAChU,QAAQ;MAAC2U,OAAO,EAAE3G,mBAAoB;MAAAkG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACrCxV,KAAA,CAAAiV,aAAA;MACEiC,QAAQ;MACRjD,IAAI,EAAC,MAAM;MACX5B,EAAE,EAAC,eAAe;MAClBsD,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAC1BuB,SAAS,EAAEtL,OAAO,CAACjD,WAAY;MAC/ByQ,QAAQ,EAAEnH,kBAAmB;MAAAkF,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAC9B,CAAC,eACFxV,KAAA,CAAAiV,aAAA;MAAOoC,OAAO,EAAC,eAAe;MAAAlC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC5BxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,QAAQ;MACnB+U,SAAS,EAAC,MAAM;MAChBC,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAAAwB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAE1BxV,KAAA,CAAAiV,aAAA,CAACzT,UAAU;MAAC0T,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACxC,CACP,CACC,CAAC,EACV9J,cAAc,iBACb1L,KAAA,CAAAiV,aAAA,CAAC/T,OAAO;MAACoW,KAAK,EAAC,kCAAkC;MAAAnC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/CxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,aAAa;MACxB+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAEzF,gBAAiB;MAAAgF,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEzB1J,WAAW,KAAK,IAAI,gBACnB9L,KAAA,CAAAiV,aAAA,CAACrT,MAAM;MAAC2V,KAAK,EAAE;QAAEhR,KAAK,EAAEnC,KAAK,CAAC2C,IAAI,KAAK,OAAO,GAAG3C,KAAK,CAACwB,OAAO,CAAC4R,OAAO,CAACC,IAAI,GAAG;MAAO,CAAE;MAAAtC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,gBAE1FxV,KAAA,CAAAiV,aAAA,CAACrT,MAAM;MAAC2V,KAAK,EAAE;QAAEhR,KAAK,EAAE;MAAO,CAAE;MAAA4O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAE3B,CACL,CACV,eACDxV,KAAA,CAAAiV,aAAA,CAAC/T,OAAO;MAACoW,KAAK,EAAC,sCAAmC;MAAAnC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAChDxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,aAAa;MACxB+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAE7G,oBAAqB;MAAAoG,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAE7BxJ,cAAc,KAAK,IAAI,gBACtBhM,KAAA,CAAAiV,aAAA,CAACtT,OAAO;MAAC4V,KAAK,EAAE;QAAEhR,KAAK,EAAEnC,KAAK,CAAC2C,IAAI,KAAK,OAAO,GAAG3C,KAAK,CAACwB,OAAO,CAAC4R,OAAO,CAACC,IAAI,GAAG;MAAO,CAAE;MAAAtC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,gBAE3FxV,KAAA,CAAAiV,aAAA,CAACtT,OAAO;MAAC4V,KAAK,EAAE;QAAEhR,KAAK,EAAE;MAAO,CAAE;MAAA4O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAE5B,CACL,CACL,CACA,CAAC,eACTxV,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAACR,aAAc;MAAA+L,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACnCtJ,0BAA0B,iBACzBlM,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAACP,QAAS;MAAA8L,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/BxV,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAAC1D,0BAA2B;MAAAiP,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACjDxV,KAAA,CAAAiV,aAAA,CAACrU,SAAS;MACRkK,QAAQ,EAAG4M,KAAK,IAAK;QACnBA,KAAK,IAAIA,KAAK,CAACjK,KAAK,CAAC,CAAC;QACtBiK,KAAK,KAAK5M,QAAQ,CAAC0C,OAAO,GAAGkK,KAAK,CAAC;MACrC,CAAE;MACFxC,SAAS,EAAEtL,OAAO,CAACtD,mBAAoB;MACvCqR,WAAW,EACTnO,YAAY,KAAK,MAAM,IAAIA,YAAY,KAAK,OAAO,GAC/CzG,IAAI,CAAC8J,CAAC,CAAC,yCAAyC,CAAC,GACjD9J,IAAI,CAAC8J,CAAC,CAAC,iCAAiC,CAC7C;MACD+K,SAAS;MACTC,OAAO,EAAE,CAAE;MACX/I,KAAK,EAAE5E,YAAa;MACpBkN,QAAQ,EAAEzI,iBAAkB;MAC5BgH,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAC1BmE,OAAO,EAAGlJ,CAAC,IAAK;QACd,CAACpF,YAAY,KAAK,MAAM,IAAIA,YAAY,KAAK,OAAO,KAClD+G,gBAAgB,CAAC3B,CAAC,CAAC;MACvB,CAAE;MACFmJ,UAAU,EAAGnJ,CAAC,IAAK;QACjB,IAAItE,OAAO,IAAIsE,CAAC,CAACoJ,QAAQ,EAAE,OAAO,KAC7B,IAAIpJ,CAAC,CAACqJ,GAAG,KAAK,OAAO,EAAE;UAC1BjG,iBAAiB,CAAC,CAAC;QACrB;MACF,CAAE;MAAAmD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAEH,CAAC,EACD5K,OAAO,gBACN5K,KAAA,CAAAiV,aAAA;MAAIC,SAAS,EAAEtL,OAAO,CAACtB,0BAA2B;MAAA6M,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAC/C5K,OAAO,CAACqI,GAAG,CAAC,CAACnE,KAAK,EAAEoJ,KAAK,KAAK;MAC7B,oBACElY,KAAA,CAAAiV,aAAA;QACEC,SAAS,EAAEtL,OAAO,CAACuO,8BAA+B;QAClDF,GAAG,EAAEC,KAAM;QAAA/C,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAGXxV,KAAA,CAAAiV,aAAA;QAAGW,OAAO,EAAEA,CAAA,KAAM1G,uBAAuB,CAACJ,KAAK,CAAE;QAAAqG,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAC9C,GAAG1G,KAAK,CAACsE,KAAK,MAAMtE,KAAK,CAACA,KAAK,EAC/B,CACD,CAAC;IAET,CAAC,CACC,CAAC,gBAEL9O,KAAA,CAAAiV,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAU,CAET,CACF,CACN,EACA,CAACtJ,0BAA0B,iBAC1BlM,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAACP,QAAS;MAAA8L,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC/BxV,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAAC9D,mBAAoB;MAAAqP,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAC1CxV,KAAA,CAAAiV,aAAA,CAACrU,SAAS;MACRkK,QAAQ,EAAG4M,KAAK,IAAK;QACnBA,KAAK,IAAIA,KAAK,CAACjK,KAAK,CAAC,CAAC;QACtBiK,KAAK,KAAK5M,QAAQ,CAAC0C,OAAO,GAAGkK,KAAK,CAAC;MACrC,CAAE;MACFxC,SAAS,EAAEtL,OAAO,CAACzD,YAAa;MAChCwR,WAAW,EAAEhL,eAAgB;MAC7BiL,SAAS;MACTC,OAAO,EAAE,CAAE;MACX/I,KAAK,EAAE5E,YAAa;MACpBkN,QAAQ,EAAEzI,iBAAkB;MAC5BgH,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAC1BmE,OAAO,EAAGlJ,CAAC,IAAK;QACd,CAACpF,YAAY,KAAK,MAAM,IAAIA,YAAY,KAAK,OAAO,KAClD+G,gBAAgB,CAAC3B,CAAC,CAAC;MACvB,CAAE;MACFmJ,UAAU,EAAGnJ,CAAC,IAAK;QACjB,IAAItE,OAAO,IAAIsE,CAAC,CAACoJ,QAAQ,EAAE,OAAO,KAC7B,IAAIpJ,CAAC,CAACqJ,GAAG,KAAK,OAAO,EAAE;UAC1BjG,iBAAiB,CAAC,CAAC;QACrB;MACF,CAAE;MAAAmD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACH,CAAC,EACD5K,OAAO,gBACN5K,KAAA,CAAAiV,aAAA;MAAIC,SAAS,EAAEtL,OAAO,CAACtB,0BAA2B;MAAA6M,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAC/C5K,OAAO,CAACqI,GAAG,CAAC,CAACnE,KAAK,EAAEoJ,KAAK,KAAK;MAC7B,oBACElY,KAAA,CAAAiV,aAAA;QACEC,SAAS,EAAEtL,OAAO,CAACuO,8BAA+B;QAClDF,GAAG,EAAEC,KAAM;QAAA/C,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAGXxV,KAAA,CAAAiV,aAAA;QAAGW,OAAO,EAAEA,CAAA,KAAM1G,uBAAuB,CAACJ,KAAK,CAAE;QAAAqG,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAC9C,GAAG1G,KAAK,CAACsE,KAAK,MAAMtE,KAAK,CAACA,KAAK,EAC/B,CACD,CAAC;IAET,CAAC,CACC,CAAC,gBAEL9O,KAAA,CAAAiV,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAU,CAET,CACF,CAEJ,CAAC,EACL,CAACtJ,0BAA0B,iBAC1BlM,KAAA,CAAAiV,aAAA,CAAAjV,KAAA,CAAAoW,QAAA,qBACApW,KAAA,CAAAiV,aAAA,CAAC/T,OAAO;MAACoW,KAAK,EAAEvU,IAAI,CAAC8J,CAAC,CAAC,mCAAmC,CAAE;MAAAsI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxDxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,OAAO;MAClB+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAEA,CAAA,KAAMzL,eAAe,CAAC,GAAG,CAAE;MAAAgL,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAEpCxV,KAAA,CAAAiV,aAAA,CAACxS,QAAQ;MAACyS,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACtC,CACL,CAAC,eACVxV,KAAA,CAAAiV,aAAA,CAAC/T,OAAO;MAACoW,KAAK,EAAEvU,IAAI,CAAC8J,CAAC,CAAC,0BAA0B,CAAE;MAAAsI,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACjDxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,iBAAiB;MAC5B+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAEA,CAAA,KAAMnK,uBAAuB,CAAC,IAAI,CAAE;MAC7CkK,QAAQ,EAAErL,OAAQ;MAAA6K,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAElBxV,KAAA,CAAAiV,aAAA,CAAC1S,KAAK;MAAC2S,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACnC,CACL,CAAC,EACTtL,YAAY,IAAIkD,yBAAyB,gBACxCpN,KAAA,CAAAiV,aAAA,CAAAjV,KAAA,CAAAoW,QAAA,qBACEpW,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,aAAa;MACxB+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAExI,yBAAyB,GAAGiD,sBAAsB,GAAG2B,iBAAkB;MAChF2D,QAAQ,EAAErL,OAAQ;MAAA6K,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEjBpI,yBAAyB,gBACxBpN,KAAA,CAAAiV,aAAA,CAAC5S,KAAK;MAAC6S,SAAS,EAAEtL,OAAO,CAACnD,mBAAoB;MAAA0O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,gBAAGxV,KAAA,CAAAiV,aAAA,CAAC/S,IAAI;MAACgT,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACxF,CACZ,CAAC,GACDhL,SAAS,gBACXxK,KAAA,CAAAiV,aAAA;MAAKC,SAAS,EAAEtL,OAAO,CAACtC,eAAgB;MAAA6N,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACtCxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,iBAAiB;MAC5B+U,SAAS,EAAC,MAAM;MAChB0C,QAAQ,EAAC,OAAO;MAChBzC,QAAQ,EAAErL,OAAQ;MAClBsL,OAAO,EAAEpB,iBAAkB;MAAAW,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAE3BxV,KAAA,CAAAiV,aAAA,CAACnT,YAAY;MAACoT,SAAS,EAAEtL,OAAO,CAACpC,eAAgB;MAAA2N,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACzC,CAAC,EACZlL,OAAO,gBACNtK,KAAA,CAAAiV,aAAA;MAAAE,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACExV,KAAA,CAAAiV,aAAA,CAACxU,gBAAgB;MAACyU,SAAS,EAAEtL,OAAO,CAACvC,YAAa;MAAA8N,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACjD,CAAC,gBAENxV,KAAA,CAAAiV,aAAA,CAAC/R,cAAc;MAAAiS,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAClB,eAEDxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,mBAAmB;MAC9B+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAEzB,iBAAkB;MAC3BwB,QAAQ,EAAErL,OAAQ;MAAA6K,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAElBxV,KAAA,CAAAiV,aAAA,CAACxT,kBAAkB;MAACyT,SAAS,EAAEtL,OAAO,CAACnC,aAAc;MAAA0N,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAC7C,CACT,CAAC,gBAENxV,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,cAAc;MACzB+U,SAAS,EAAC,MAAM;MAChBC,QAAQ,EAAEhC,aAAa,CAAC,CAAE;MAC1BiC,OAAO,EAAEtD,oBAAqB;MAAA6C,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBAE9BxV,KAAA,CAAAiV,aAAA,CAAClT,GAAG;MAACmT,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACjC,CAEd,CACH,EAEAtJ,0BAA0B,iBACzBlM,KAAA,CAAAiV,aAAA,CAAAjV,KAAA,CAAAoW,QAAA,qBACEpW,KAAA,CAAAiV,aAAA,CAACtU,UAAU;MACT,cAAW,aAAa;MACxB+U,SAAS,EAAC,MAAM;MAChBE,OAAO,EAAExI,yBAAyB,GAAGiD,sBAAsB,GAAG2B,iBAAkB;MAChF2D,QAAQ,EAAErL,OAAQ;MAAA6K,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEjBpI,yBAAyB,gBACxBpN,KAAA,CAAAiV,aAAA,CAAC5S,KAAK;MAAC6S,SAAS,EAAEtL,OAAO,CAACnD,mBAAoB;MAAA0O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAC,gBAAGxV,KAAA,CAAAiV,aAAA,CAAC/S,IAAI;MAACgT,SAAS,EAAEtL,OAAO,CAACpD,gBAAiB;MAAA2O,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CACxF,CACZ,CACH,EACAhK,oBAAoB,iBACnBxL,KAAA,CAAAiV,aAAA,CAAClR,aAAa;MACZiT,IAAI,EAAExL,oBAAqB;MAC3ByK,OAAO,EAAEA,CAAA,KAAMxK,uBAAuB,CAAC,KAAK,CAAE;MAC9CgG,OAAO,EAAEvH,YAAa;MACtBR,SAAS,EAAEA,SAAU;MAAAyL,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CACtB,CAEA,CACA,CACP,CAAC;EAEP;AACF,CAAC;AAED,eAAelM,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module"}