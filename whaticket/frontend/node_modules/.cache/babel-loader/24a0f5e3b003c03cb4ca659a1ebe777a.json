{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/pages/Kanban/index.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Board from 'react-trello';\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport { useHistory } from 'react-router-dom';\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\nimport { Badge, Tooltip, Typography, Button, TextField, Box } from \"@material-ui/core\";\nimport { format, isSameDay, parseISO } from \"date-fns\";\nimport { Can } from \"../../components/Can\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: theme.spacing(1)\n  },\n  kanbanContainer: {\n    width: \"100%\",\n    maxWidth: \"1200px\",\n    margin: \"0 auto\"\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    borderRadius: 3,\n    fontSize: \"0.6em\"\n  },\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    marginLeft: \"auto\",\n    color: theme.palette.text.secondary\n  },\n  lastMessageTimeUnread: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    color: theme.palette.success.main,\n    fontWeight: \"bold\",\n    marginLeft: \"auto\"\n  },\n  cardButton: {\n    marginRight: theme.spacing(1),\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.primary.main,\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.dark\n    }\n  },\n  dateInput: {\n    marginRight: theme.spacing(2)\n  }\n}));\nconst Kanban = () => {\n  const classes = useStyles();\n  const theme = useTheme(); // Obter o tema atual\n  const history = useHistory();\n  const {\n    user,\n    socket\n  } = useContext(AuthContext);\n  const [tags, setTags] = useState([]);\n  const [tickets, setTickets] = useState([]);\n  const [ticketNot, setTicketNot] = useState(0);\n  const [file, setFile] = useState({\n    lanes: []\n  });\n  const [startDate, setStartDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\n  const [endDate, setEndDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\n  useEffect(() => {\n    fetchTags();\n  }, [user]);\n  const fetchTags = async () => {\n    try {\n      const response = await api.get(\"/tag/kanban/\");\n      const fetchedTags = response.data.lista || [];\n      setTags(fetchedTags);\n      fetchTickets();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const fetchTickets = async () => {\n    try {\n      const {\n        data\n      } = await api.get(\"/ticket/kanban\", {\n        params: {\n          queueIds: JSON.stringify(jsonString),\n          startDate: startDate,\n          endDate: endDate\n        }\n      });\n      setTickets(data.tickets);\n    } catch (err) {\n      console.log(err);\n      setTickets([]);\n    }\n  };\n  useEffect(() => {\n    const companyId = user.companyId;\n    const onAppMessage = data => {\n      if (data.action === \"create\" || data.action === \"update\" || data.action === \"delete\") {\n        fetchTickets();\n      }\n    };\n    socket.on(`company-${companyId}-ticket`, onAppMessage);\n    socket.on(`company-${companyId}-appMessage`, onAppMessage);\n    return () => {\n      socket.off(`company-${companyId}-ticket`, onAppMessage);\n      socket.off(`company-${companyId}-appMessage`, onAppMessage);\n    };\n  }, [socket, startDate, endDate]);\n  const handleSearchClick = () => {\n    fetchTickets();\n  };\n  const handleStartDateChange = event => {\n    setStartDate(event.target.value);\n  };\n  const handleEndDateChange = event => {\n    setEndDate(event.target.value);\n  };\n  const IconChannel = channel => {\n    switch (channel) {\n      case \"facebook\":\n        return /*#__PURE__*/React.createElement(Facebook, {\n          style: {\n            color: \"#3b5998\",\n            verticalAlign: \"middle\",\n            fontSize: \"16px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 16\n          }\n        });\n      case \"instagram\":\n        return /*#__PURE__*/React.createElement(Instagram, {\n          style: {\n            color: \"#e1306c\",\n            verticalAlign: \"middle\",\n            fontSize: \"16px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 16\n          }\n        });\n      case \"whatsapp\":\n        return /*#__PURE__*/React.createElement(WhatsApp, {\n          style: {\n            color: \"#25d366\",\n            verticalAlign: \"middle\",\n            fontSize: \"16px\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 16\n          }\n        });\n      default:\n        return \"error\";\n    }\n  };\n  const popularCards = jsonString => {\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\n    const lanes = [{\n      id: \"lane0\",\n      title: i18n.t(\"tagsKanban.laneDefault\"),\n      label: filteredTickets.length.toString(),\n      cards: filteredTickets.map(ticket => {\n        var _ticket$user, _ticket$whatsapp;\n        return {\n          id: ticket.id.toString(),\n          label: \"Ticket nÂº \" + ticket.id.toString(),\n          description: /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 17\n            }\n          }, ticket.contact.number), /*#__PURE__*/React.createElement(Typography, {\n            className: Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime,\n            component: \"span\",\n            variant: \"body2\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 17\n            }\n          }, isSameDay(parseISO(ticket.updatedAt), new Date()) ? /*#__PURE__*/React.createElement(React.Fragment, null, format(parseISO(ticket.updatedAt), \"HH:mm\")) : /*#__PURE__*/React.createElement(React.Fragment, null, format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")))), /*#__PURE__*/React.createElement(\"div\", {\n            style: {\n              textAlign: 'left'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }\n          }, ticket.lastMessage || \" \"), /*#__PURE__*/React.createElement(Button, {\n            className: `${classes.button} ${classes.cardButton}`,\n            onClick: () => {\n              handleCardClick(ticket.uuid);\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 15\n            }\n          }, \"Ver Ticket\"), /*#__PURE__*/React.createElement(\"span\", {\n            style: {\n              marginRight: '8px'\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 15\n            }\n          }), (ticket === null || ticket === void 0 ? void 0 : ticket.user) && /*#__PURE__*/React.createElement(Badge, {\n            style: {\n              backgroundColor: \"#000000\"\n            },\n            className: classes.connectionTag,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 33\n            }\n          }, (_ticket$user = ticket.user) === null || _ticket$user === void 0 ? void 0 : _ticket$user.name.toUpperCase())),\n          title: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n            title: (_ticket$whatsapp = ticket.whatsapp) === null || _ticket$whatsapp === void 0 ? void 0 : _ticket$whatsapp.name,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 13\n            }\n          }, IconChannel(ticket.channel)), \" \", ticket.contact.name),\n          draggable: true,\n          href: \"/tickets/\" + ticket.uuid\n        };\n      })\n    }, ...tags.map(tag => {\n      const filteredTickets = tickets.filter(ticket => {\n        const tagIds = ticket.tags.map(tag => tag.id);\n        return tagIds.includes(tag.id);\n      });\n      return {\n        id: tag.id.toString(),\n        title: tag.name,\n        label: filteredTickets === null || filteredTickets === void 0 ? void 0 : filteredTickets.length.toString(),\n        cards: filteredTickets.map(ticket => {\n          var _ticket$user2, _ticket$whatsapp2;\n          return {\n            id: ticket.id.toString(),\n            label: \"Ticket nÂº \" + ticket.id.toString(),\n            description: /*#__PURE__*/React.createElement(\"div\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 210,\n                columnNumber: 15\n              }\n            }, /*#__PURE__*/React.createElement(\"p\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 17\n              }\n            }, ticket.contact.number, /*#__PURE__*/React.createElement(\"br\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }\n            }), ticket.lastMessage || \" \"), /*#__PURE__*/React.createElement(Button, {\n              className: `${classes.button} ${classes.cardButton}`,\n              onClick: () => {\n                handleCardClick(ticket.uuid);\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 17\n              }\n            }, \"Ver Ticket\"), /*#__PURE__*/React.createElement(\"span\", {\n              style: {\n                marginRight: '8px'\n              },\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 17\n              }\n            }), /*#__PURE__*/React.createElement(\"p\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }\n            }, (ticket === null || ticket === void 0 ? void 0 : ticket.user) && /*#__PURE__*/React.createElement(Badge, {\n              style: {\n                backgroundColor: \"#000000\"\n              },\n              className: classes.connectionTag,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 37\n              }\n            }, (_ticket$user2 = ticket.user) === null || _ticket$user2 === void 0 ? void 0 : _ticket$user2.name.toUpperCase()))),\n            title: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Tooltip, {\n              title: (_ticket$whatsapp2 = ticket.whatsapp) === null || _ticket$whatsapp2 === void 0 ? void 0 : _ticket$whatsapp2.name,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 15\n              }\n            }, IconChannel(ticket.channel)), \" \", ticket.contact.name),\n            draggable: true,\n            href: \"/tickets/\" + ticket.uuid\n          };\n        }),\n        style: {\n          backgroundColor: tag.color,\n          color: \"white\"\n        }\n      };\n    })];\n    setFile({\n      lanes\n    });\n  };\n  const handleCardClick = uuid => {\n    history.push('/tickets/' + uuid);\n  };\n  useEffect(() => {\n    popularCards(jsonString);\n  }, [tags, tickets]);\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\n    try {\n      await api.delete(`/ticket-tags/${targetLaneId}`);\n      toast.success('Ticket Tag Removido!');\n      await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\n      toast.success('Ticket Tag Adicionado com Sucesso!');\n      await fetchTickets(jsonString);\n      popularCards(jsonString);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  const handleAddConnectionClick = () => {\n    history.push('/tagsKanban');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      marginBottom: '20px',\n      width: '100%',\n      maxWidth: '1200px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: \"Data de in\\xEDcio\",\n    type: \"date\",\n    value: startDate,\n    onChange: handleStartDateChange,\n    InputLabelProps: {\n      shrink: true\n    },\n    variant: \"outlined\",\n    className: classes.dateInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    mx: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Data de fim\",\n    type: \"date\",\n    value: endDate,\n    onChange: handleEndDateChange,\n    InputLabelProps: {\n      shrink: true\n    },\n    variant: \"outlined\",\n    className: classes.dateInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Box, {\n    mx: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleSearchClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 11\n    }\n  }, \"Buscar\")), /*#__PURE__*/React.createElement(Can, {\n    role: user.profile,\n    perform: \"dashboard:view\",\n    yes: () => /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: handleAddConnectionClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }\n    }, '+ Adicionar colunas'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.kanbanContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Board, {\n    data: file,\n    onCardMoveAcrossLanes: handleCardMove,\n    style: {\n      backgroundColor: 'rgba(252, 252, 252, 0.03)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }\n  })));\n};\nexport default Kanban;","map":{"version":3,"names":["React","useState","useEffect","useContext","makeStyles","useTheme","api","AuthContext","Board","toast","i18n","useHistory","Facebook","Instagram","WhatsApp","Badge","Tooltip","Typography","Button","TextField","Box","format","isSameDay","parseISO","Can","useStyles","theme","root","display","flexDirection","alignItems","padding","spacing","kanbanContainer","width","maxWidth","margin","connectionTag","background","color","marginRight","fontWeight","borderRadius","fontSize","lastMessageTime","justifySelf","textAlign","position","marginLeft","palette","text","secondary","lastMessageTimeUnread","success","main","cardButton","common","white","backgroundColor","primary","dark","dateInput","Kanban","classes","history","user","socket","tags","setTags","tickets","setTickets","ticketNot","setTicketNot","file","setFile","lanes","startDate","setStartDate","Date","endDate","setEndDate","jsonString","queues","map","queue","UserQueue","queueId","fetchTags","response","get","fetchedTags","data","lista","fetchTickets","error","console","log","params","queueIds","JSON","stringify","err","companyId","onAppMessage","action","on","off","handleSearchClick","handleStartDateChange","event","target","value","handleEndDateChange","IconChannel","channel","createElement","style","verticalAlign","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","popularCards","filteredTickets","filter","ticket","length","id","title","t","label","toString","cards","_ticket$user","_ticket$whatsapp","description","justifyContent","contact","number","className","Number","unreadMessages","component","variant","updatedAt","Fragment","lastMessage","button","onClick","handleCardClick","uuid","name","toUpperCase","whatsapp","draggable","href","tag","tagIds","includes","_ticket$user2","_ticket$whatsapp2","push","handleCardMove","cardId","sourceLaneId","targetLaneId","delete","put","handleAddConnectionClick","marginBottom","type","onChange","InputLabelProps","shrink","mx","role","profile","perform","yes","onCardMoveAcrossLanes"],"sources":["/workspaces/simao/whaticket/frontend/src/pages/Kanban/index.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Board from 'react-trello';\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport { useHistory } from 'react-router-dom';\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\nimport { Badge, Tooltip, Typography, Button, TextField, Box } from \"@material-ui/core\";\nimport { format, isSameDay, parseISO } from \"date-fns\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  kanbanContainer: {\n    width: \"100%\",\n    maxWidth: \"1200px\",\n    margin: \"0 auto\",\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    borderRadius: 3,\n    fontSize: \"0.6em\",\n  },\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    marginLeft: \"auto\",\n    color: theme.palette.text.secondary,\n  },\n  lastMessageTimeUnread: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    color: theme.palette.success.main,\n    fontWeight: \"bold\",\n    marginLeft: \"auto\"\n  },\n  cardButton: {\n    marginRight: theme.spacing(1),\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.primary.main,\n    \"&:hover\": {\n      backgroundColor: theme.palette.primary.dark,\n    },\n  },\n  dateInput: {\n    marginRight: theme.spacing(2),\n  },\n}));\n\nconst Kanban = () => {\n  const classes = useStyles();\n  const theme = useTheme(); // Obter o tema atual\n  const history = useHistory();\n  const { user, socket } = useContext(AuthContext);\n  const [tags, setTags] = useState([]);\n  const [tickets, setTickets] = useState([]);\n  const [ticketNot, setTicketNot] = useState(0);\n  const [file, setFile] = useState({ lanes: [] });\n  const [startDate, setStartDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\n  const [endDate, setEndDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\n\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\n\n  useEffect(() => {\n    fetchTags();\n  }, [user]);\n\n  const fetchTags = async () => {\n    try {\n      const response = await api.get(\"/tag/kanban/\");\n      const fetchedTags = response.data.lista || [];\n      setTags(fetchedTags);\n      fetchTickets();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const fetchTickets = async () => {\n    try {\n      const { data } = await api.get(\"/ticket/kanban\", {\n        params: {\n          queueIds: JSON.stringify(jsonString),\n          startDate: startDate,\n          endDate: endDate,\n        }\n      });\n      setTickets(data.tickets);\n    } catch (err) {\n      console.log(err);\n      setTickets([]);\n    }\n  };\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const onAppMessage = (data) => {\n      if (data.action === \"create\" || data.action === \"update\" || data.action === \"delete\") {\n        fetchTickets();\n      }\n    };\n    socket.on(`company-${companyId}-ticket`, onAppMessage);\n    socket.on(`company-${companyId}-appMessage`, onAppMessage);\n\n    return () => {\n      socket.off(`company-${companyId}-ticket`, onAppMessage);\n      socket.off(`company-${companyId}-appMessage`, onAppMessage);\n    };\n  }, [socket, startDate, endDate]);\n\n  const handleSearchClick = () => {\n    fetchTickets();\n  };\n\n  const handleStartDateChange = (event) => {\n    setStartDate(event.target.value);\n  };\n\n  const handleEndDateChange = (event) => {\n    setEndDate(event.target.value);\n  };\n\n  const IconChannel = (channel) => {\n    switch (channel) {\n      case \"facebook\":\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\", fontSize: \"16px\" }} />;\n      case \"instagram\":\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\", fontSize: \"16px\" }} />;\n      case \"whatsapp\":\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\", fontSize: \"16px\" }} />\n      default:\n        return \"error\";\n    }\n  };\n\n  const popularCards = (jsonString) => {\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\n\n    const lanes = [\n      {\n        id: \"lane0\",\n        title: i18n.t(\"tagsKanban.laneDefault\"),\n        label: filteredTickets.length.toString(),\n        cards: filteredTickets.map(ticket => ({\n          id: ticket.id.toString(),\n          label: \"Ticket nÂº \" + ticket.id.toString(),\n          description: (\n            <div>\n              <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                <span>{ticket.contact.number}</span>\n                <Typography\n                  className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\n                  component=\"span\"\n                  variant=\"body2\"\n                >\n                  {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                  ) : (\n                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                  )}\n                </Typography>\n              </div>\n              <div style={{ textAlign: 'left' }}>{ticket.lastMessage || \" \"}</div>\n              <Button\n                className={`${classes.button} ${classes.cardButton}`}\n                onClick={() => {\n                  handleCardClick(ticket.uuid)\n                }}>\n                Ver Ticket\n              </Button>\n              <span style={{ marginRight: '8px' }} />\n              {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\n            </div>\n          ),\n          title: <>\n            <Tooltip title={ticket.whatsapp?.name}>\n              {IconChannel(ticket.channel)}\n            </Tooltip> {ticket.contact.name}</>,\n          draggable: true,\n          href: \"/tickets/\" + ticket.uuid,\n        })),\n      },\n      ...tags.map(tag => {\n        const filteredTickets = tickets.filter(ticket => {\n          const tagIds = ticket.tags.map(tag => tag.id);\n          return tagIds.includes(tag.id);\n        });\n\n        return {\n          id: tag.id.toString(),\n          title: tag.name,\n          label: filteredTickets?.length.toString(),\n          cards: filteredTickets.map(ticket => ({\n            id: ticket.id.toString(),\n            label: \"Ticket nÂº \" + ticket.id.toString(),\n            description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage || \" \"}\n                </p>\n                <Button\n                  className={`${classes.button} ${classes.cardButton}`}\n                  onClick={() => {\n                    handleCardClick(ticket.uuid)\n                  }}>\n                  Ver Ticket\n                </Button>\n                <span style={{ marginRight: '8px' }} />\n                <p>\n                  {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\n                </p>\n              </div>\n            ),\n            title: <>\n              <Tooltip title={ticket.whatsapp?.name}>\n                {IconChannel(ticket.channel)}\n              </Tooltip> {ticket.contact.name}\n            </>,\n            draggable: true,\n            href: \"/tickets/\" + ticket.uuid,\n          })),\n          style: { backgroundColor: tag.color, color: \"white\" }\n        };\n      }),\n    ];\n\n    setFile({ lanes });\n  };\n\n  const handleCardClick = (uuid) => {\n    history.push('/tickets/' + uuid);\n  };\n\n  useEffect(() => {\n    popularCards(jsonString);\n  }, [tags, tickets]);\n\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\n    try {\n      await api.delete(`/ticket-tags/${targetLaneId}`);\n      toast.success('Ticket Tag Removido!');\n      await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\n      toast.success('Ticket Tag Adicionado com Sucesso!');\n      await fetchTickets(jsonString);\n      popularCards(jsonString);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const handleAddConnectionClick = () => {\n    history.push('/tagsKanban');\n  };\n\n  return (\n    <div className={classes.root}>\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '20px', width: '100%', maxWidth: '1200px' }}>\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n          <TextField\n            label=\"Data de inÃ­cio\"\n            type=\"date\"\n            value={startDate}\n            onChange={handleStartDateChange}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            variant=\"outlined\"\n            className={classes.dateInput}\n          />\n          <Box mx={1} />\n          <TextField\n            label=\"Data de fim\"\n            type=\"date\"\n            value={endDate}\n            onChange={handleEndDateChange}\n            InputLabelProps={{\n              shrink: true,\n            }}\n            variant=\"outlined\"\n            className={classes.dateInput}\n          />\n          <Box mx={1} />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleSearchClick}\n          >\n            Buscar\n          </Button>\n        </div>\n        <Can role={user.profile} perform=\"dashboard:view\" yes={() => (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleAddConnectionClick}\n          >\n            {'+ Adicionar colunas'}\n          </Button>\n        )} />\n      </div>\n      <div className={classes.kanbanContainer}>\n        <Board\n          data={file}\n          onCardMoveAcrossLanes={handleCardMove}\n          style={{ backgroundColor: 'rgba(252, 252, 252, 0.03)' }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Kanban;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AAC9D,SAASC,UAAU,EAAEC,QAAQ,QAAQ,0BAA0B;AAC/D,OAAOC,GAAG,MAAM,oBAAoB;AACpC,SAASC,WAAW,QAAQ,gCAAgC;AAC5D,OAAOC,KAAK,MAAM,cAAc;AAChC,SAASC,KAAK,QAAQ,gBAAgB;AACtC,SAASC,IAAI,QAAQ,sBAAsB;AAC3C,SAASC,UAAU,QAAQ,kBAAkB;AAC7C,SAASC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;AAClE,SAASC,KAAK,EAAEC,OAAO,EAAEC,UAAU,EAAEC,MAAM,EAAEC,SAAS,EAAEC,GAAG,QAAQ,mBAAmB;AACtF,SAASC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,UAAU;AACtD,SAASC,GAAG,QAAQ,sBAAsB;AAE1C,MAAMC,SAAS,GAAGrB,UAAU,CAACsB,KAAK,KAAK;EACrCC,IAAI,EAAE;IACJC,OAAO,EAAE,MAAM;IACfC,aAAa,EAAE,QAAQ;IACvBC,UAAU,EAAE,QAAQ;IACpBC,OAAO,EAAEL,KAAK,CAACM,OAAO,CAAC,CAAC;EAC1B,CAAC;EACDC,eAAe,EAAE;IACfC,KAAK,EAAE,MAAM;IACbC,QAAQ,EAAE,QAAQ;IAClBC,MAAM,EAAE;EACV,CAAC;EACDC,aAAa,EAAE;IACbC,UAAU,EAAE,OAAO;IACnBC,KAAK,EAAE,MAAM;IACbC,WAAW,EAAE,CAAC;IACdT,OAAO,EAAE,CAAC;IACVU,UAAU,EAAE,MAAM;IAClBC,YAAY,EAAE,CAAC;IACfC,QAAQ,EAAE;EACZ,CAAC;EACDC,eAAe,EAAE;IACfC,WAAW,EAAE,UAAU;IACvBC,SAAS,EAAE,OAAO;IAClBC,QAAQ,EAAE,UAAU;IACpBC,UAAU,EAAE,MAAM;IAClBT,KAAK,EAAEb,KAAK,CAACuB,OAAO,CAACC,IAAI,CAACC;EAC5B,CAAC;EACDC,qBAAqB,EAAE;IACrBP,WAAW,EAAE,UAAU;IACvBC,SAAS,EAAE,OAAO;IAClBC,QAAQ,EAAE,UAAU;IACpBR,KAAK,EAAEb,KAAK,CAACuB,OAAO,CAACI,OAAO,CAACC,IAAI;IACjCb,UAAU,EAAE,MAAM;IAClBO,UAAU,EAAE;EACd,CAAC;EACDO,UAAU,EAAE;IACVf,WAAW,EAAEd,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC;IAC7BO,KAAK,EAAEb,KAAK,CAACuB,OAAO,CAACO,MAAM,CAACC,KAAK;IACjCC,eAAe,EAAEhC,KAAK,CAACuB,OAAO,CAACU,OAAO,CAACL,IAAI;IAC3C,SAAS,EAAE;MACTI,eAAe,EAAEhC,KAAK,CAACuB,OAAO,CAACU,OAAO,CAACC;IACzC;EACF,CAAC;EACDC,SAAS,EAAE;IACTrB,WAAW,EAAEd,KAAK,CAACM,OAAO,CAAC,CAAC;EAC9B;AACF,CAAC,CAAC,CAAC;AAEH,MAAM8B,MAAM,GAAGA,CAAA,KAAM;EACnB,MAAMC,OAAO,GAAGtC,SAAS,CAAC,CAAC;EAC3B,MAAMC,KAAK,GAAGrB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1B,MAAM2D,OAAO,GAAGrD,UAAU,CAAC,CAAC;EAC5B,MAAM;IAAEsD,IAAI;IAAEC;EAAO,CAAC,GAAG/D,UAAU,CAACI,WAAW,CAAC;EAChD,MAAM,CAAC4D,IAAI,EAAEC,OAAO,CAAC,GAAGnE,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACoE,OAAO,EAAEC,UAAU,CAAC,GAAGrE,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACsE,SAAS,EAAEC,YAAY,CAAC,GAAGvE,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACwE,IAAI,EAAEC,OAAO,CAAC,GAAGzE,QAAQ,CAAC;IAAE0E,KAAK,EAAE;EAAG,CAAC,CAAC;EAC/C,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAG5E,QAAQ,CAACoB,MAAM,CAAC,IAAIyD,IAAI,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;EAC5E,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAG/E,QAAQ,CAACoB,MAAM,CAAC,IAAIyD,IAAI,CAAC,CAAC,EAAE,YAAY,CAAC,CAAC;EAExE,MAAMG,UAAU,GAAGhB,IAAI,CAACiB,MAAM,CAACC,GAAG,CAACC,KAAK,IAAIA,KAAK,CAACC,SAAS,CAACC,OAAO,CAAC;EAEpEpF,SAAS,CAAC,MAAM;IACdqF,SAAS,CAAC,CAAC;EACb,CAAC,EAAE,CAACtB,IAAI,CAAC,CAAC;EAEV,MAAMsB,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMlF,GAAG,CAACmF,GAAG,CAAC,cAAc,CAAC;MAC9C,MAAMC,WAAW,GAAGF,QAAQ,CAACG,IAAI,CAACC,KAAK,IAAI,EAAE;MAC7CxB,OAAO,CAACsB,WAAW,CAAC;MACpBG,YAAY,CAAC,CAAC;IAChB,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMD,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MACF,MAAM;QAAEF;MAAK,CAAC,GAAG,MAAMrF,GAAG,CAACmF,GAAG,CAAC,gBAAgB,EAAE;QAC/CQ,MAAM,EAAE;UACNC,QAAQ,EAAEC,IAAI,CAACC,SAAS,CAACnB,UAAU,CAAC;UACpCL,SAAS,EAAEA,SAAS;UACpBG,OAAO,EAAEA;QACX;MACF,CAAC,CAAC;MACFT,UAAU,CAACqB,IAAI,CAACtB,OAAO,CAAC;IAC1B,CAAC,CAAC,OAAOgC,GAAG,EAAE;MACZN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;MAChB/B,UAAU,CAAC,EAAE,CAAC;IAChB;EACF,CAAC;EAEDpE,SAAS,CAAC,MAAM;IACd,MAAMoG,SAAS,GAAGrC,IAAI,CAACqC,SAAS;IAChC,MAAMC,YAAY,GAAIZ,IAAI,IAAK;MAC7B,IAAIA,IAAI,CAACa,MAAM,KAAK,QAAQ,IAAIb,IAAI,CAACa,MAAM,KAAK,QAAQ,IAAIb,IAAI,CAACa,MAAM,KAAK,QAAQ,EAAE;QACpFX,YAAY,CAAC,CAAC;MAChB;IACF,CAAC;IACD3B,MAAM,CAACuC,EAAE,CAAC,WAAWH,SAAS,SAAS,EAAEC,YAAY,CAAC;IACtDrC,MAAM,CAACuC,EAAE,CAAC,WAAWH,SAAS,aAAa,EAAEC,YAAY,CAAC;IAE1D,OAAO,MAAM;MACXrC,MAAM,CAACwC,GAAG,CAAC,WAAWJ,SAAS,SAAS,EAAEC,YAAY,CAAC;MACvDrC,MAAM,CAACwC,GAAG,CAAC,WAAWJ,SAAS,aAAa,EAAEC,YAAY,CAAC;IAC7D,CAAC;EACH,CAAC,EAAE,CAACrC,MAAM,EAAEU,SAAS,EAAEG,OAAO,CAAC,CAAC;EAEhC,MAAM4B,iBAAiB,GAAGA,CAAA,KAAM;IAC9Bd,YAAY,CAAC,CAAC;EAChB,CAAC;EAED,MAAMe,qBAAqB,GAAIC,KAAK,IAAK;IACvChC,YAAY,CAACgC,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAClC,CAAC;EAED,MAAMC,mBAAmB,GAAIH,KAAK,IAAK;IACrC7B,UAAU,CAAC6B,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAChC,CAAC;EAED,MAAME,WAAW,GAAIC,OAAO,IAAK;IAC/B,QAAQA,OAAO;MACb,KAAK,UAAU;QACb,oBAAOlH,KAAA,CAAAmH,aAAA,CAACvG,QAAQ;UAACwG,KAAK,EAAE;YAAE7E,KAAK,EAAE,SAAS;YAAE8E,aAAa,EAAE,QAAQ;YAAE1E,QAAQ,EAAE;UAAO,CAAE;UAAA2E,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,CAAE,CAAC;MAC7F,KAAK,WAAW;QACd,oBAAO3H,KAAA,CAAAmH,aAAA,CAACtG,SAAS;UAACuG,KAAK,EAAE;YAAE7E,KAAK,EAAE,SAAS;YAAE8E,aAAa,EAAE,QAAQ;YAAE1E,QAAQ,EAAE;UAAO,CAAE;UAAA2E,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,CAAE,CAAC;MAC9F,KAAK,UAAU;QACb,oBAAO3H,KAAA,CAAAmH,aAAA,CAACrG,QAAQ;UAACsG,KAAK,EAAE;YAAE7E,KAAK,EAAE,SAAS;YAAE8E,aAAa,EAAE,QAAQ;YAAE1E,QAAQ,EAAE;UAAO,CAAE;UAAA2E,MAAA;UAAAC,QAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA;QAAA,CAAE,CAAC;MAC7F;QACE,OAAO,OAAO;IAClB;EACF,CAAC;EAED,MAAMC,YAAY,GAAI3C,UAAU,IAAK;IACnC,MAAM4C,eAAe,GAAGxD,OAAO,CAACyD,MAAM,CAACC,MAAM,IAAIA,MAAM,CAAC5D,IAAI,CAAC6D,MAAM,KAAK,CAAC,CAAC;IAE1E,MAAMrD,KAAK,GAAG,CACZ;MACEsD,EAAE,EAAE,OAAO;MACXC,KAAK,EAAExH,IAAI,CAACyH,CAAC,CAAC,wBAAwB,CAAC;MACvCC,KAAK,EAAEP,eAAe,CAACG,MAAM,CAACK,QAAQ,CAAC,CAAC;MACxCC,KAAK,EAAET,eAAe,CAAC1C,GAAG,CAAC4C,MAAM;QAAA,IAAAQ,YAAA,EAAAC,gBAAA;QAAA,OAAK;UACpCP,EAAE,EAAEF,MAAM,CAACE,EAAE,CAACI,QAAQ,CAAC,CAAC;UACxBD,KAAK,EAAE,YAAY,GAAGL,MAAM,CAACE,EAAE,CAACI,QAAQ,CAAC,CAAC;UAC1CI,WAAW,eACTzI,KAAA,CAAAmH,aAAA;YAAAG,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,gBACE3H,KAAA,CAAAmH,aAAA;YAAKC,KAAK,EAAE;cAAExF,OAAO,EAAE,MAAM;cAAE8G,cAAc,EAAE;YAAgB,CAAE;YAAApB,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,gBAC/D3H,KAAA,CAAAmH,aAAA;YAAAG,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,GAAOI,MAAM,CAACY,OAAO,CAACC,MAAa,CAAC,eACpC5I,KAAA,CAAAmH,aAAA,CAAClG,UAAU;YACT4H,SAAS,EAAEC,MAAM,CAACf,MAAM,CAACgB,cAAc,CAAC,GAAG,CAAC,GAAGhF,OAAO,CAACX,qBAAqB,GAAGW,OAAO,CAACnB,eAAgB;YACvGoG,SAAS,EAAC,MAAM;YAChBC,OAAO,EAAC,OAAO;YAAA3B,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,GAEdrG,SAAS,CAACC,QAAQ,CAACwG,MAAM,CAACmB,SAAS,CAAC,EAAE,IAAIpE,IAAI,CAAC,CAAC,CAAC,gBAChD9E,KAAA,CAAAmH,aAAA,CAAAnH,KAAA,CAAAmJ,QAAA,QAAG9H,MAAM,CAACE,QAAQ,CAACwG,MAAM,CAACmB,SAAS,CAAC,EAAE,OAAO,CAAI,CAAC,gBAElDlJ,KAAA,CAAAmH,aAAA,CAAAnH,KAAA,CAAAmJ,QAAA,QAAG9H,MAAM,CAACE,QAAQ,CAACwG,MAAM,CAACmB,SAAS,CAAC,EAAE,YAAY,CAAI,CAE9C,CACT,CAAC,eACNlJ,KAAA,CAAAmH,aAAA;YAAKC,KAAK,EAAE;cAAEtE,SAAS,EAAE;YAAO,CAAE;YAAAwE,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,GAAEI,MAAM,CAACqB,WAAW,IAAI,GAAS,CAAC,eACpEpJ,KAAA,CAAAmH,aAAA,CAACjG,MAAM;YACL2H,SAAS,EAAE,GAAG9E,OAAO,CAACsF,MAAM,IAAItF,OAAO,CAACR,UAAU,EAAG;YACrD+F,OAAO,EAAEA,CAAA,KAAM;cACbC,eAAe,CAACxB,MAAM,CAACyB,IAAI,CAAC;YAC9B,CAAE;YAAAlC,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,GAAC,YAEG,CAAC,eACT3H,KAAA,CAAAmH,aAAA;YAAMC,KAAK,EAAE;cAAE5E,WAAW,EAAE;YAAM,CAAE;YAAA8E,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,CAAE,CAAC,EACtC,CAAAI,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE9D,IAAI,kBAAKjE,KAAA,CAAAmH,aAAA,CAACpG,KAAK;YAACqG,KAAK,EAAE;cAAE1D,eAAe,EAAE;YAAU,CAAE;YAACmF,SAAS,EAAE9E,OAAO,CAAC1B,aAAc;YAAAiF,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,IAAAY,YAAA,GAAER,MAAM,CAAC9D,IAAI,cAAAsE,YAAA,uBAAXA,YAAA,CAAakB,IAAI,CAACC,WAAW,CAAC,CAAS,CACvI,CACN;UACDxB,KAAK,eAAElI,KAAA,CAAAmH,aAAA,CAAAnH,KAAA,CAAAmJ,QAAA,qBACLnJ,KAAA,CAAAmH,aAAA,CAACnG,OAAO;YAACkH,KAAK,GAAAM,gBAAA,GAAET,MAAM,CAAC4B,QAAQ,cAAAnB,gBAAA,uBAAfA,gBAAA,CAAiBiB,IAAK;YAAAnC,MAAA;YAAAC,QAAA;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA;UAAA,GACnCV,WAAW,CAACc,MAAM,CAACb,OAAO,CACpB,CAAC,KAAC,EAACa,MAAM,CAACY,OAAO,CAACc,IAAO,CAAC;UACrCG,SAAS,EAAE,IAAI;UACfC,IAAI,EAAE,WAAW,GAAG9B,MAAM,CAACyB;QAC7B,CAAC;MAAA,CAAC;IACJ,CAAC,EACD,GAAGrF,IAAI,CAACgB,GAAG,CAAC2E,GAAG,IAAI;MACjB,MAAMjC,eAAe,GAAGxD,OAAO,CAACyD,MAAM,CAACC,MAAM,IAAI;QAC/C,MAAMgC,MAAM,GAAGhC,MAAM,CAAC5D,IAAI,CAACgB,GAAG,CAAC2E,GAAG,IAAIA,GAAG,CAAC7B,EAAE,CAAC;QAC7C,OAAO8B,MAAM,CAACC,QAAQ,CAACF,GAAG,CAAC7B,EAAE,CAAC;MAChC,CAAC,CAAC;MAEF,OAAO;QACLA,EAAE,EAAE6B,GAAG,CAAC7B,EAAE,CAACI,QAAQ,CAAC,CAAC;QACrBH,KAAK,EAAE4B,GAAG,CAACL,IAAI;QACfrB,KAAK,EAAEP,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEG,MAAM,CAACK,QAAQ,CAAC,CAAC;QACzCC,KAAK,EAAET,eAAe,CAAC1C,GAAG,CAAC4C,MAAM;UAAA,IAAAkC,aAAA,EAAAC,iBAAA;UAAA,OAAK;YACpCjC,EAAE,EAAEF,MAAM,CAACE,EAAE,CAACI,QAAQ,CAAC,CAAC;YACxBD,KAAK,EAAE,YAAY,GAAGL,MAAM,CAACE,EAAE,CAACI,QAAQ,CAAC,CAAC;YAC1CI,WAAW,eACTzI,KAAA,CAAAmH,aAAA;cAAAG,MAAA;cAAAC,QAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAA,gBACE3H,KAAA,CAAAmH,aAAA;cAAAG,MAAA;cAAAC,QAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAA,GACGI,MAAM,CAACY,OAAO,CAACC,MAAM,eACtB5I,KAAA,CAAAmH,aAAA;cAAAG,MAAA;cAAAC,QAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAA,CAAK,CAAC,EACLI,MAAM,CAACqB,WAAW,IAAI,GACtB,CAAC,eACJpJ,KAAA,CAAAmH,aAAA,CAACjG,MAAM;cACL2H,SAAS,EAAE,GAAG9E,OAAO,CAACsF,MAAM,IAAItF,OAAO,CAACR,UAAU,EAAG;cACrD+F,OAAO,EAAEA,CAAA,KAAM;gBACbC,eAAe,CAACxB,MAAM,CAACyB,IAAI,CAAC;cAC9B,CAAE;cAAAlC,MAAA;cAAAC,QAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAA,GAAC,YAEG,CAAC,eACT3H,KAAA,CAAAmH,aAAA;cAAMC,KAAK,EAAE;gBAAE5E,WAAW,EAAE;cAAM,CAAE;cAAA8E,MAAA;cAAAC,QAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAA,CAAE,CAAC,eACvC3H,KAAA,CAAAmH,aAAA;cAAAG,MAAA;cAAAC,QAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAA,GACG,CAAAI,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAE9D,IAAI,kBAAKjE,KAAA,CAAAmH,aAAA,CAACpG,KAAK;cAACqG,KAAK,EAAE;gBAAE1D,eAAe,EAAE;cAAU,CAAE;cAACmF,SAAS,EAAE9E,OAAO,CAAC1B,aAAc;cAAAiF,MAAA;cAAAC,QAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAA,IAAAsC,aAAA,GAAElC,MAAM,CAAC9D,IAAI,cAAAgG,aAAA,uBAAXA,aAAA,CAAaR,IAAI,CAACC,WAAW,CAAC,CAAS,CACzI,CACA,CACN;YACDxB,KAAK,eAAElI,KAAA,CAAAmH,aAAA,CAAAnH,KAAA,CAAAmJ,QAAA,qBACLnJ,KAAA,CAAAmH,aAAA,CAACnG,OAAO;cAACkH,KAAK,GAAAgC,iBAAA,GAAEnC,MAAM,CAAC4B,QAAQ,cAAAO,iBAAA,uBAAfA,iBAAA,CAAiBT,IAAK;cAAAnC,MAAA;cAAAC,QAAA;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA;YAAA,GACnCV,WAAW,CAACc,MAAM,CAACb,OAAO,CACpB,CAAC,KAAC,EAACa,MAAM,CAACY,OAAO,CAACc,IAC3B,CAAC;YACHG,SAAS,EAAE,IAAI;YACfC,IAAI,EAAE,WAAW,GAAG9B,MAAM,CAACyB;UAC7B,CAAC;QAAA,CAAC,CAAC;QACHpC,KAAK,EAAE;UAAE1D,eAAe,EAAEoG,GAAG,CAACvH,KAAK;UAAEA,KAAK,EAAE;QAAQ;MACtD,CAAC;IACH,CAAC,CAAC,CACH;IAEDmC,OAAO,CAAC;MAAEC;IAAM,CAAC,CAAC;EACpB,CAAC;EAED,MAAM4E,eAAe,GAAIC,IAAI,IAAK;IAChCxF,OAAO,CAACmG,IAAI,CAAC,WAAW,GAAGX,IAAI,CAAC;EAClC,CAAC;EAEDtJ,SAAS,CAAC,MAAM;IACd0H,YAAY,CAAC3C,UAAU,CAAC;EAC1B,CAAC,EAAE,CAACd,IAAI,EAAEE,OAAO,CAAC,CAAC;EAEnB,MAAM+F,cAAc,GAAG,MAAAA,CAAOC,MAAM,EAAEC,YAAY,EAAEC,YAAY,KAAK;IACnE,IAAI;MACF,MAAMjK,GAAG,CAACkK,MAAM,CAAC,gBAAgBD,YAAY,EAAE,CAAC;MAChD9J,KAAK,CAAC4C,OAAO,CAAC,sBAAsB,CAAC;MACrC,MAAM/C,GAAG,CAACmK,GAAG,CAAC,gBAAgBF,YAAY,IAAID,YAAY,EAAE,CAAC;MAC7D7J,KAAK,CAAC4C,OAAO,CAAC,oCAAoC,CAAC;MACnD,MAAMwC,YAAY,CAACZ,UAAU,CAAC;MAC9B2C,YAAY,CAAC3C,UAAU,CAAC;IAC1B,CAAC,CAAC,OAAOoB,GAAG,EAAE;MACZN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;IAClB;EACF,CAAC;EAED,MAAMqE,wBAAwB,GAAGA,CAAA,KAAM;IACrC1G,OAAO,CAACmG,IAAI,CAAC,aAAa,CAAC;EAC7B,CAAC;EAED,oBACEnK,KAAA,CAAAmH,aAAA;IAAK0B,SAAS,EAAE9E,OAAO,CAACpC,IAAK;IAAA2F,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC3B3H,KAAA,CAAAmH,aAAA;IAAKC,KAAK,EAAE;MAAExF,OAAO,EAAE,MAAM;MAAEE,UAAU,EAAE,QAAQ;MAAE4G,cAAc,EAAE,eAAe;MAAEiC,YAAY,EAAE,MAAM;MAAEzI,KAAK,EAAE,MAAM;MAAEC,QAAQ,EAAE;IAAS,CAAE;IAAAmF,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC9I3H,KAAA,CAAAmH,aAAA;IAAKC,KAAK,EAAE;MAAExF,OAAO,EAAE,MAAM;MAAEE,UAAU,EAAE;IAAS,CAAE;IAAAwF,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACpD3H,KAAA,CAAAmH,aAAA,CAAChG,SAAS;IACRiH,KAAK,EAAC,mBAAgB;IACtBwC,IAAI,EAAC,MAAM;IACX7D,KAAK,EAAEnC,SAAU;IACjBiG,QAAQ,EAAEjE,qBAAsB;IAChCkE,eAAe,EAAE;MACfC,MAAM,EAAE;IACV,CAAE;IACF9B,OAAO,EAAC,UAAU;IAClBJ,SAAS,EAAE9E,OAAO,CAACF,SAAU;IAAAyD,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC9B,CAAC,eACF3H,KAAA,CAAAmH,aAAA,CAAC/F,GAAG;IAAC4J,EAAE,EAAE,CAAE;IAAA1D,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACd3H,KAAA,CAAAmH,aAAA,CAAChG,SAAS;IACRiH,KAAK,EAAC,aAAa;IACnBwC,IAAI,EAAC,MAAM;IACX7D,KAAK,EAAEhC,OAAQ;IACf8F,QAAQ,EAAE7D,mBAAoB;IAC9B8D,eAAe,EAAE;MACfC,MAAM,EAAE;IACV,CAAE;IACF9B,OAAO,EAAC,UAAU;IAClBJ,SAAS,EAAE9E,OAAO,CAACF,SAAU;IAAAyD,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC9B,CAAC,eACF3H,KAAA,CAAAmH,aAAA,CAAC/F,GAAG;IAAC4J,EAAE,EAAE,CAAE;IAAA1D,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACd3H,KAAA,CAAAmH,aAAA,CAACjG,MAAM;IACL+H,OAAO,EAAC,WAAW;IACnB1G,KAAK,EAAC,SAAS;IACf+G,OAAO,EAAE3C,iBAAkB;IAAAW,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5B,QAEO,CACL,CAAC,eACN3H,KAAA,CAAAmH,aAAA,CAAC3F,GAAG;IAACyJ,IAAI,EAAEhH,IAAI,CAACiH,OAAQ;IAACC,OAAO,EAAC,gBAAgB;IAACC,GAAG,EAAEA,CAAA,kBACrDpL,KAAA,CAAAmH,aAAA,CAACjG,MAAM;MACL+H,OAAO,EAAC,WAAW;MACnB1G,KAAK,EAAC,SAAS;MACf+G,OAAO,EAAEoB,wBAAyB;MAAApD,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAEjC,qBACK,CACR;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACD,CAAC,eACN3H,KAAA,CAAAmH,aAAA;IAAK0B,SAAS,EAAE9E,OAAO,CAAC9B,eAAgB;IAAAqF,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtC3H,KAAA,CAAAmH,aAAA,CAAC3G,KAAK;IACJmF,IAAI,EAAElB,IAAK;IACX4G,qBAAqB,EAAEjB,cAAe;IACtChD,KAAK,EAAE;MAAE1D,eAAe,EAAE;IAA4B,CAAE;IAAA4D,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACzD,CACE,CACF,CAAC;AAEV,CAAC;AAED,eAAe7D,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module"}