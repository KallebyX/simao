{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/pages/Campaigns/index.js\";\n/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n    if (isArray(campaigns)) {\n      campaigns.forEach(campaign => {\n        const campaignIndex = state.findIndex(u => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n    return [...state, ...newCampaigns];\n  }\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex(u => u.id === campaign.id);\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n    const campaignIndex = state.findIndex(u => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  }\n}));\nconst Campaigns = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n  //   const socketManager = useContext(SocketContext);\n  const {\n    user,\n    socket\n  } = useContext(AuthContext);\n  const {\n    datetimeToClient\n  } = useDate();\n  const {\n    getPlanCompany\n  } = usePlans();\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useCampaigns) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`);\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    dispatch({\n      type: \"RESET\"\n    });\n    setPageNumber(1);\n  }, [searchParam]);\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketManager.GetSocket();\n\n    const onCompanyCampaign = data => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({\n          type: \"UPDATE_CAMPAIGNS\",\n          payload: data.record\n        });\n      }\n      if (data.action === \"delete\") {\n        dispatch({\n          type: \"DELETE_CAMPAIGN\",\n          payload: +data.id\n        });\n      }\n    };\n    socket.on(`company-${companyId}-campaign`, onCompanyCampaign);\n    return () => {\n      socket.off(`company-${companyId}-campaign`, onCompanyCampaign);\n    };\n  }, [user]);\n  const fetchCampaigns = async () => {\n    try {\n      const {\n        data\n      } = await api.get(\"/campaigns/\", {\n        params: {\n          searchParam,\n          pageNumber\n        }\n      });\n      dispatch({\n        type: \"LOAD_CAMPAIGNS\",\n        payload: data.records\n      });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n  const handleSearch = event => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n  const handleEditCampaign = campaign => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n  const handleDeleteCampaign = async campaignId => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n  const loadMore = () => {\n    setPageNumber(prevState => prevState + 1);\n  };\n  const handleScroll = e => {\n    if (!hasMore || loading) return;\n    const {\n      scrollTop,\n      scrollHeight,\n      clientHeight\n    } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n  const formatStatus = val => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n  const cancelCampaign = async campaign => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n  const restartCampaign = async campaign => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: deletingCampaign && `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${deletingCampaign.name}?`,\n    open: confirmModalOpen,\n    onClose: setConfirmModalOpen,\n    onConfirm: () => handleDeleteCampaign(deletingCampaign.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }\n  }, i18n.t(\"campaigns.confirmationModal.deleteMessage\")), campaignModalOpen && /*#__PURE__*/React.createElement(CampaignModal, {\n    resetPagination: () => {\n      setPageNumber(1);\n      fetchCampaigns();\n    },\n    open: campaignModalOpen,\n    onClose: handleCloseCampaignModal,\n    \"aria-labelledby\": \"form-dialog-title\",\n    campaignId: selectedCampaign && selectedCampaign.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 9\n    }\n  }), user.profile === \"user\" ? /*#__PURE__*/React.createElement(ForbiddenPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MainHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      width: \"99.6%\"\n    },\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 8,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 19\n    }\n  }, i18n.t(\"campaigns.title\"))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    sm: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    spacing: 2,\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 6,\n    sm: 6,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    fullWidth: true,\n    placeholder: i18n.t(\"campaigns.searchPlaceholder\"),\n    type: \"search\",\n    value: searchParam,\n    onChange: handleSearch,\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(SearchIcon, {\n        style: {\n          color: \"gray\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 31\n        }\n      }))\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 6,\n    sm: 6,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    fullWidth: true,\n    variant: \"contained\",\n    onClick: handleOpenCampaignModal,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 23\n    }\n  }, i18n.t(\"campaigns.buttons.add\"))))))), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaper,\n    variant: \"outlined\",\n    onScroll: handleScroll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(TableHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TableRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 21\n    }\n  }, i18n.t(\"campaigns.table.name\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 21\n    }\n  }, i18n.t(\"campaigns.table.status\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 21\n    }\n  }, i18n.t(\"campaigns.table.contactList\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 21\n    }\n  }, i18n.t(\"campaigns.table.whatsapp\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 21\n    }\n  }, i18n.t(\"campaigns.table.scheduledAt\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 21\n    }\n  }, i18n.t(\"campaigns.table.completedAt\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 21\n    }\n  }, i18n.t(\"campaigns.table.confirmation\")), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 21\n    }\n  }, i18n.t(\"campaigns.table.actions\")))), /*#__PURE__*/React.createElement(TableBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, campaigns.map(campaign => /*#__PURE__*/React.createElement(TableRow, {\n    key: campaign.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 25\n    }\n  }, campaign.name), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 25\n    }\n  }, formatStatus(campaign.status)), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 25\n    }\n  }, campaign.contactListId ? campaign.contactList.name : \"Não definida\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 378,\n      columnNumber: 25\n    }\n  }, campaign.whatsappId ? campaign.whatsapp.name : \"Não definido\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 25\n    }\n  }, campaign.scheduledAt ? datetimeToClient(campaign.scheduledAt) : \"Sem agendamento\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 25\n    }\n  }, campaign.completedAt ? datetimeToClient(campaign.completedAt) : \"Não concluída\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 25\n    }\n  }, campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"), /*#__PURE__*/React.createElement(TableCell, {\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 25\n    }\n  }, campaign.status === \"EM_ANDAMENTO\" && /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => cancelCampaign(campaign),\n    title: \"Parar Campanha\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(PauseCircleOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 31\n    }\n  })), campaign.status === \"CANCELADA\" && /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => restartCampaign(campaign),\n    title: \"Parar Campanha\",\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(PlayCircleOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 31\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    onClick: () => history.push(`/campaign/${campaign.id}/report`),\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(DescriptionIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    onClick: () => handleEditCampaign(campaign),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(EditIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(IconButton, {\n    size: \"small\",\n    onClick: e => {\n      setConfirmModalOpen(true);\n      setDeletingCampaign(campaign);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(DeleteOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 29\n    }\n  }))))), loading && /*#__PURE__*/React.createElement(TableRowSkeleton, {\n    columns: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 33\n    }\n  })))))));\n};\nexport default Campaigns;","map":{"version":3,"names":["React","useState","useEffect","useReducer","useContext","toast","useHistory","makeStyles","Paper","Button","Table","TableBody","TableCell","TableHead","TableRow","IconButton","SearchIcon","TextField","InputAdornment","DeleteOutlineIcon","EditIcon","DescriptionIcon","PlayCircleOutlineIcon","PauseCircleOutlineIcon","MainContainer","MainHeader","Title","api","i18n","TableRowSkeleton","CampaignModal","ConfirmationModal","toastError","Grid","isArray","useDate","ForbiddenPage","usePlans","AuthContext","reducer","state","action","type","campaigns","payload","newCampaigns","forEach","campaign","campaignIndex","findIndex","u","id","push","campaignId","splice","useStyles","theme","mainPaper","flex","padding","overflowY","scrollbarStyles","Campaigns","classes","history","loading","setLoading","pageNumber","setPageNumber","hasMore","setHasMore","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","confirmModalOpen","setConfirmModalOpen","showCampaigns","setShowCampaigns","searchParam","setSearchParam","dispatch","user","socket","datetimeToClient","getPlanCompany","fetchData","companyId","planConfigs","undefined","plan","useCampaigns","error","setTimeout","delayDebounceFn","fetchCampaigns","clearTimeout","onCompanyCampaign","data","record","on","off","get","params","records","err","handleOpenCampaignModal","handleCloseCampaignModal","handleSearch","event","target","value","toLowerCase","handleEditCampaign","handleDeleteCampaign","delete","success","t","loadMore","prevState","handleScroll","e","scrollTop","scrollHeight","clientHeight","currentTarget","formatStatus","val","cancelCampaign","post","message","restartCampaign","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","title","name","open","onClose","onConfirm","resetPagination","profile","Fragment","style","width","container","xs","sm","item","spacing","fullWidth","placeholder","onChange","InputProps","startAdornment","position","color","variant","onClick","className","onScroll","size","align","map","key","status","contactListId","contactList","whatsappId","whatsapp","scheduledAt","completedAt","confirmation","columns"],"sources":["/workspaces/simao/whaticket/frontend/src/pages/Campaigns/index.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach((campaign) => {\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Campaigns = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n  //   const socketManager = useContext(SocketContext);\n  const { user, socket } = useContext(AuthContext);\n\n\n  const { datetimeToClient } = useDate();\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useCampaigns) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    // const socket = socketManager.GetSocket();\n\n    const onCompanyCampaign = (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\n      }\n    }\n\n    socket.on(`company-${companyId}-campaign`, onCompanyCampaign);\n    return () => {\n      socket.off(`company-${companyId}-campaign`, onCompanyCampaign);\n    };\n  }, [user]);\n\n  const fetchCampaigns = async () => {\n    try {\n      const { data } = await api.get(\"/campaigns/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCampaign = (campaign) => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId) => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  const cancelCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${deletingCampaign.name}?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      {campaignModalOpen && (\n        <CampaignModal\n          resetPagination={() => {\n            setPageNumber(1);\n            fetchCampaigns();\n          }}\n          open={campaignModalOpen}\n          onClose={handleCloseCampaignModal}\n          aria-labelledby=\"form-dialog-title\"\n          campaignId={selectedCampaign && selectedCampaign.id}\n        />\n      )}\n      {\n        user.profile === \"user\"?\n          <ForbiddenPage />\n          :\n          <>\n            <MainHeader>\n              <Grid style={{ width: \"99.6%\" }} container>\n                <Grid xs={12} sm={8} item>\n                  <Title>{i18n.t(\"campaigns.title\")}</Title>\n                </Grid>\n                <Grid xs={12} sm={4} item>\n                  <Grid spacing={2} container>\n                    <Grid xs={6} sm={6} item>\n                      <TextField\n                        fullWidth\n                        placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                          startAdornment: (\n                            <InputAdornment position=\"start\">\n                              <SearchIcon style={{ color: \"gray\" }} />\n                            </InputAdornment>\n                          ),\n                        }}\n                      />\n                    </Grid>\n                    <Grid xs={6} sm={6} item>\n                      <Button\n                        fullWidth\n                        variant=\"contained\"\n                        onClick={handleOpenCampaignModal}\n                        color=\"primary\"\n                      >\n                        {i18n.t(\"campaigns.buttons.add\")}\n                      </Button>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </MainHeader>\n            <Paper\n              className={classes.mainPaper}\n              variant=\"outlined\"\n              onScroll={handleScroll}\n            >\n              <Table size=\"small\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.name\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.status\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.contactList\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.whatsapp\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.scheduledAt\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.completedAt\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.confirmation\")}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {i18n.t(\"campaigns.table.actions\")}\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  <>\n                    {campaigns.map((campaign) => (\n                      <TableRow key={campaign.id}>\n                        <TableCell align=\"center\">{campaign.name}</TableCell>\n                        <TableCell align=\"center\">\n                          {formatStatus(campaign.status)}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.contactListId\n                            ? campaign.contactList.name\n                            : \"Não definida\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.whatsappId\n                            ? campaign.whatsapp.name\n                            : \"Não definido\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.scheduledAt\n                            ? datetimeToClient(campaign.scheduledAt)\n                            : \"Sem agendamento\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.completedAt\n                            ? datetimeToClient(campaign.completedAt)\n                            : \"Não concluída\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\n                        </TableCell>\n                        <TableCell align=\"center\">\n                          {campaign.status === \"EM_ANDAMENTO\" && (\n                            <IconButton\n                              onClick={() => cancelCampaign(campaign)}\n                              title=\"Parar Campanha\"\n                              size=\"small\"\n                            >\n                              <PauseCircleOutlineIcon />\n                            </IconButton>\n                          )}\n                          {campaign.status === \"CANCELADA\" && (\n                            <IconButton\n                              onClick={() => restartCampaign(campaign)}\n                              title=\"Parar Campanha\"\n                              size=\"small\"\n                            >\n                              <PlayCircleOutlineIcon />\n                            </IconButton>\n                          )}\n                          <IconButton\n                            onClick={() =>\n                              history.push(`/campaign/${campaign.id}/report`)\n                            }\n                            size=\"small\"\n                          >\n                            <DescriptionIcon />\n                          </IconButton>\n                          <IconButton\n                            size=\"small\"\n                            onClick={() => handleEditCampaign(campaign)}\n                          >\n                            <EditIcon />\n                          </IconButton>\n\n                          <IconButton\n                            size=\"small\"\n                            onClick={(e) => {\n                              setConfirmModalOpen(true);\n                              setDeletingCampaign(campaign);\n                            }}\n                          >\n                            <DeleteOutlineIcon />\n                          </IconButton>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                    {loading && <TableRowSkeleton columns={8} />}\n                  </>\n                </TableBody>\n              </Table>\n            </Paper>\n          </>}\n    </MainContainer>\n  );\n};\n\nexport default Campaigns;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}