{"ast":null,"code":"var _jsxFileName = \"/workspaces/simao/whaticket/frontend/src/components/AvatarUpload/index.js\";\nimport React, { useContext, useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport Box from '@material-ui/core/Box';\nimport { AuthContext } from '../../context/Auth/AuthContext';\nconst useStyles = makeStyles(theme => ({\n  avatar: {\n    width: theme.spacing(12),\n    height: theme.spacing(12),\n    margin: theme.spacing(2),\n    cursor: 'pointer',\n    borderRadius: '50%',\n    border: '2px solid #ccc'\n  }\n}));\nconst AvatarUploader = ({\n  setAvatar,\n  avatar,\n  companyId\n}) => {\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const user = useContext(AuthContext);\n  const handleFileChange = event => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    setAvatar(file);\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        setPreviewImage(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, !previewImage && avatar ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Avatar, {\n    src: `${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/user/${avatar}`,\n    style: {\n      width: 120,\n      height: 120\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  })) : !avatar && !previewImage ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Avatar, {\n    src: `${process.env.REACT_APP_BACKEND_URL}/public/app/noimage.png`,\n    style: {\n      width: 120,\n      height: 120\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 40\n    }\n  })) : /*#__PURE__*/React.createElement(Avatar, {\n    alt: \"Preview Avatar\",\n    src: previewImage ? previewImage : user.avatar,\n    style: {\n      width: 120,\n      height: 120\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    accept: \"image/*\",\n    type: \"file\",\n    id: \"avatar-upload\",\n    style: {\n      display: 'none'\n    },\n    onChange: handleFileChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"avatar-upload\",\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    component: \"span\",\n    startIcon: /*#__PURE__*/React.createElement(CloudUploadIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 22\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"Upload Avatar\")));\n};\nexport default AvatarUploader;","map":{"version":3,"names":["React","useContext","useState","Avatar","makeStyles","Button","CloudUploadIcon","Box","AuthContext","useStyles","theme","avatar","width","spacing","height","margin","cursor","borderRadius","border","AvatarUploader","setAvatar","companyId","classes","selectedFile","setSelectedFile","previewImage","setPreviewImage","user","handleFileChange","event","file","target","files","reader","FileReader","onload","result","readAsDataURL","createElement","display","flexDirection","alignItems","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","src","process","env","REACT_APP_BACKEND_URL","style","alt","accept","type","id","onChange","htmlFor","marginTop","variant","component","startIcon"],"sources":["/workspaces/simao/whaticket/frontend/src/components/AvatarUpload/index.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport makeStyles from '@material-ui/core/styles/makeStyles';\nimport Button from '@material-ui/core/Button';\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport Box from '@material-ui/core/Box';\nimport { AuthContext } from '../../context/Auth/AuthContext';\n\nconst useStyles = makeStyles((theme) => ({\n  avatar: {\n    width: theme.spacing(12),\n    height: theme.spacing(12),\n    margin: theme.spacing(2),\n    cursor: 'pointer',\n    borderRadius: '50%',\n    border: '2px solid #ccc',\n  },\n}));\n\nconst AvatarUploader = ({ setAvatar, avatar, companyId }) => {\n  const classes = useStyles();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const user = useContext(AuthContext);\n\n  const handleFileChange = (event) => {\n    const file = event.target.files[0];\n    setSelectedFile(file);\n    setAvatar(file);\n\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        setPreviewImage(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\n      {!previewImage && avatar ?\n        <><Avatar\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/user/${avatar}`}\n          style={{ width: 120, height: 120 }}\n        /></>\n        : !avatar && !previewImage ? <><Avatar\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/app/noimage.png`}\n          style={{ width: 120, height: 120 }}\n        /></> :\n          <Avatar\n            alt=\"Preview Avatar\"\n            src={previewImage ? previewImage : user.avatar}\n            style={{ width: 120, height: 120 }}\n          />\n      }\n\n\n      <input\n        accept=\"image/*\"\n        type=\"file\"\n        id=\"avatar-upload\"\n        style={{ display: 'none' }}\n        onChange={handleFileChange}\n      />\n      <label htmlFor=\"avatar-upload\" style={{ marginTop: 10 }}>\n        <Button\n          variant=\"contained\"\n          component=\"span\"\n          startIcon={<CloudUploadIcon />}\n        >\n          Upload Avatar\n        </Button>\n      </label>\n      {/**   <p>{selectedFile ? `Selected: ${selectedFile.name}` : 'No file selected'}</p>*/}\n    </Box>\n  );\n};\n\nexport default AvatarUploader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}